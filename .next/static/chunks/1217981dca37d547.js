(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48563,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(71645);function n(e,t){let n;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];window.clearTimeout(n),n=window.setTimeout(()=>e(...o),t)}}function r(){var e,r,o;let{debounce:a,scroll:l,polyfill:s,offsetSize:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1,offsetSize:!1},c=s||("undefined"==typeof window?class{}:window.ResizeObserver);if(!c)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[d,f]=(0,t.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=(0,t.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:d,orientationHandler:null}),p=a?"number"==typeof a?a:a.scroll:null,g=a?"number"==typeof a?a:a.resize:null,v=(0,t.useRef)(!1);(0,t.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));let[m,y,b]=(0,t.useMemo)(()=>{let e=()=>{if(!h.current.element)return;let{left:e,top:t,width:n,height:r,bottom:o,right:a,x:l,y:s}=h.current.element.getBoundingClientRect(),c={left:e,top:t,width:n,height:r,bottom:o,right:a,x:l,y:s};h.current.element instanceof HTMLElement&&u&&(c.height=h.current.element.offsetHeight,c.width=h.current.element.offsetWidth),Object.freeze(c),v.current&&!i(h.current.lastBounds,c)&&f(h.current.lastBounds=c)};return[e,g?n(e,g):e,p?n(e,p):e]},[f,u,p,g]);function x(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",b,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null),h.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",h.current.orientationHandler))}function w(){h.current.element&&(h.current.resizeObserver=new c(b),h.current.resizeObserver.observe(h.current.element),l&&h.current.scrollContainers&&h.current.scrollContainers.forEach(e=>e.addEventListener("scroll",b,{capture:!0,passive:!0})),h.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",h.current.orientationHandler))}return e=b,r=!!l,(0,t.useEffect)(()=>{if(r)return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)},[e,r]),o=y,(0,t.useEffect)(()=>(window.addEventListener("resize",o),()=>void window.removeEventListener("resize",o)),[o]),(0,t.useEffect)(()=>{x(),w()},[l,b,y]),(0,t.useEffect)(()=>x,[]),[e=>{e&&e!==h.current.element&&(x(),h.current.element=e,h.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:o,overflowY:i}=window.getComputedStyle(t);return[r,o,i].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),w())},d,m]}let o=["x","y","top","bottom","left","right","width","height"],i=(e,t)=>o.every(n=>e[n]===t[n])},91282,e=>{"use strict";function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";if(!e)return"";let n=new Date(e);if(isNaN(n))return"";let r=String(n.getDate()).padStart(2,"0"),o=String(n.getMonth()+1).padStart(2,"0"),i=n.getFullYear();return"DD/MM/YYYY"===t?"".concat(r,"/").concat(o,"/").concat(i):"DD/MM"===t?"".concat(r,"/").concat(o):"DD/MM/YY"===t?"".concat(r,"/").concat(o,"/").concat(String(i).slice(-2)):"".concat(r,"/").concat(o,"/").concat(i)}function n(e){if(!e)return"";let t=e instanceof Date?e:new Date(e);if(isNaN(t))return"";let n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return"".concat(n,"-").concat(r," ").concat(o,":").concat(i)}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.locale||"undefined"!=typeof navigator?navigator.language:"en",r=t.maxSig||3;if(null==e||Number.isNaN(Number(e)))return String(null!=e?e:"");let o=Number(e);try{return new Intl.NumberFormat(n,{notation:"compact",compactDisplay:!1===t.short?"long":"short",maximumSignificantDigits:r}).format(o)}catch(e){}let i=Math.abs(o),a=o<0?"-":"",l=[{value:1e12,suffix:"T"},{value:1e9,suffix:"B"},{value:1e6,suffix:"M"},{value:1e3,suffix:"k"}];for(let e=0;e<l.length;e++){let t=l[e];if(i>=t.value){let e=i/t.value,n=Math.max(0,r-Math.floor(Math.log10(Math.floor(e)))-1),o=e.toFixed(n);return a+(o=o.replace(/\.?0+$/,""))+t.suffix}}if(i<1){let e=o.toFixed(Math.min(6,r+2));return e.replace(/\.?0+$/,"")}let s=String(Math.round(o));if(s.length<=r)return s;let u=(o/1e3).toPrecision(Math.min(r,3));return(u=Number(u).toString())+"k"}function o(e){if(!e)return"";let[t,n]=e.trim().split(" ");return t&&n?"".concat(t.charAt(0).toUpperCase(),". ").concat(a(n)):e}function i(e){if(!e)return"";let[t,n]=e.trim().split(" ");return t&&n?"".concat(a(t)," ").concat(a(n)):a(e)}function a(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function l(e,t,n,o,i,a,l){return e?t.value?Number(t.value)<Number(e)?{initial:{y:"High",label:n},gap:{type:"arrow-down",label:r(Number(t.value)-Number(e))+" (".concat(t.percent>=0?"+":"").concat(r(t.percent),"%)")},target:{y:"Low",label:o}}:{initial:{y:"Low",label:n},gap:{type:"arrow-up",label:r(Number(t.value)-Number(e))},target:{y:"High",label:o}}:{initial:{y:"Middle",label:n},gap:{type:"none",label:i},target:{y:"Middle",label:o}}:t.value?{initial:{y:0,label:n},gap:{type:"none",label:i},target:{y:"Middle",label:o}}:{initial:{y:null===a.up?"Middle":a.up?"Low":"High",label:n},gap:{type:null===a.up?"none":a.up?"arrow-up":"arrow-down",label:null===a.gap?a.up?"Increase":"Decrease":a.gap},target:{y:null===a.up?"Middle":a.up?"High":"Low",label:o}}}function s(e){if(!e)return"#000000";let t=String(e).trim().toLowerCase(),n=0,r=0,o=0;if(t.startsWith("#")){let e=t.slice(1);if(3===e.length)n=parseInt(e[0]+e[0],16),r=parseInt(e[1]+e[1],16),o=parseInt(e[2]+e[2],16);else{if(6!==e.length)return"#000000";n=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16)}}else{if(!t.startsWith("rgb"))return"#000000";let e=t.match(/rgba?\(([^)]+)\)/);if(!e)return"#000000";{let t=e[1].split(",").map(e=>parseFloat(e));n=t[0]||0,r=t[1]||0,o=t[2]||0}}let i=[n,r,o].map(e=>{let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)});return .2126*i[0]+.7152*i[1]+.0722*i[2]>.179?"#000000":"#ffffff"}e.s(["formatCommentTimestamp",()=>n,"formatCompact",()=>r,"getBars",()=>l,"getContrastTextColor",()=>s,"isoToDateString",()=>t,"toFullName",()=>i,"toInitialLast",()=>o])},86768,e=>{"use strict";e.s(["AutoTextSize",()=>f]);var t=e.i(71645),n=Object.defineProperty,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=e=>{let{fontSizePx:t,minFontSizePx:n,fontSizePrecisionPx:r,updateFontSizePx:o,breakPredicate:i}=e,a=Math.ceil(1/r),l=0;for(;t>n&&l<a&&!i();)t=o(t-r),l++},s=e=>{let t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},u=e=>{let t=getComputedStyle(e);return e.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)},c=e=>{let{innerEl:t,containerEl:n,fontSizePx:r,minFontSizePx:o,maxFontSizePx:i,fontSizePrecisionPx:a,updateFontSizePx:u}=e,c=0,d=1;for(;c<10;){let e=t.scrollWidth,l=s(n),f=r<i&&e<l,h=r>o&&e>l,p=e/l;if(d===p||!(f||h))break;let g=r/p-r,v=r;if(Math.abs((r=u(r+g))-v)<=a)break;d=p,c++}l({fontSizePx:r,minFontSizePx:o,updateFontSizePx:u,fontSizePrecisionPx:a,breakPredicate:()=>t.scrollWidth<=s(n)})},d=e=>{let{innerEl:t,containerEl:n,fontSizePx:r,minFontSizePx:o,maxFontSizePx:i,fontSizePrecisionPx:a,updateFontSizePx:c}=e;r=c((i-o)*.5);let d=(i-o)*.25,f=0;for(;d>a&&f<100;){let e=t.scrollWidth,a=s(n),l=t.scrollHeight,h=u(n);if(e===a&&l===h)break;r<i&&e<=a&&l<=h?r=c(r+d):r>o&&(e>a||l>h)&&(r=c(r-d)),d*=.5,f++}l({fontSizePx:r,minFontSizePx:o,updateFontSizePx:c,fontSizePrecisionPx:a,breakPredicate:()=>t.scrollWidth<=s(n)&&t.scrollHeight<=u(n)})};function f(e){var{mode:n,minFontSizePx:l,maxFontSizePx:f,fontSizePrecisionPx:h,as:p="div",children:g}=e,v=((e,t)=>{var n={};for(var a in e)o.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&r)for(var a of r(e))0>t.indexOf(a)&&i.call(e,a)&&(n[a]=e[a]);return n})(e,["mode","minFontSizePx","maxFontSizePx","fontSizePrecisionPx","as","children"]);let m=(0,t.useRef)();(0,t.useEffect)(()=>{var e;return null==(e=m.current)?void 0:e.call(m)},[g]);let y=(0,t.useCallback)(e=>{var t;null==(t=m.current)||t.disconnect();let r=null==e?void 0:e.parentElement;e&&r&&(m.current=function(e){var t;let n,r,{innerEl:o,containerEl:i,mode:a,minFontSizePx:l,maxFontSizePx:f,fontSizePrecisionPx:h}=e,p=(t=()=>{!function(e){let{innerEl:t,containerEl:n,mode:r="multiline",minFontSizePx:o=8,maxFontSizePx:i=160,fontSizePrecisionPx:a=.1}=e;if(performance.now(),!isFinite(o))throw Error("Invalid minFontSizePx (".concat(o,")"));if(!isFinite(o))throw Error("Invalid maxFontSizePx (".concat(i,")"));if(!isFinite(a)||0===a)throw Error("Invalid fontSizePrecisionPx (".concat(a,")"));n.children.length>1&&console.warn("AutoTextSize has ".concat(n.children.length-1," siblings. This may interfere with the algorithm."));let l={display:"block"};"oneline"===r?l.whiteSpace="nowrap":"multiline"===r?l.wordBreak="break-word":"box"===r?(l.whiteSpace="pre-wrap",l.wordBreak="break-word"):"boxoneline"===r&&(l.whiteSpace="nowrap"),Object.assign(n.style,{display:"flex",alignItems:"start"}),Object.assign(t.style,l);let u=parseFloat(window.getComputedStyle(t,null).getPropertyValue("font-size")),f=0,h=e=>(u=e=Math.min(Math.max(e,o),i),t.style.fontSize="".concat(u,"px"),f++,u);(u>i||u<o)&&h(u);let p={innerEl:t,containerEl:n,fontSizePx:u,minFontSizePx:o,maxFontSizePx:i,fontSizePrecisionPx:a,updateFontSizePx:h};if("oneline"===r)c(p);else if("multiline"===r)p.innerEl.style.whiteSpace="nowrap",c(p),p.innerEl.scrollWidth>s(p.containerEl)&&(p.innerEl.style.whiteSpace="normal");else"box"===r?d(p):"boxoneline"===r&&d(p)}({innerEl:o,containerEl:i,mode:a,maxFontSizePx:f,minFontSizePx:l,fontSizePrecisionPx:h}),n=[s(i),u(i)]},r=!1,()=>{r||(r=!0,requestAnimationFrame(()=>{t(),r=!1}))}),g=new ResizeObserver(()=>{let e=n;n=[s(i),u(i)],((null==e?void 0:e[0])!==n[0]||(null==e?void 0:e[1])!==n[1])&&p()});return g.observe(i),p.disconnect=()=>g.disconnect(),p}({innerEl:e,containerEl:r,mode:n,minFontSizePx:l,maxFontSizePx:f,fontSizePrecisionPx:h}))},[n,l,f,h]);return t.default.createElement(p,((e,t)=>{for(var n in t||(t={}))o.call(t,n)&&a(e,n,t[n]);if(r)for(var n of r(t))i.call(t,n)&&a(e,n,t[n]);return e})({ref:y},v),g)}},72377,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),n=e.i(71645),r=e.i(91282),o=e.i(86768),i=e.i(22016),a=e.i(95273);let l=e=>{let{header:l,editable:s=!1}=e,{a3s:u}=(0,a.useA3s)()||{a3s:[]},c={height:"100%",width:"100%",border:"1px solid #000",overflow:"hidden",boxSizing:"border-box",padding:"2px",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},d=(0,n.useRef)(null),f=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=d.current,t=f.current;if(!e||!t)return;let n=()=>{try{let n=e.clientWidth||0,r=e.clientHeight||0;t.style.width="".concat(r,"px"),t.style.height="".concat(n,"px"),t.style.lineHeight="".concat(n,"px")}catch(e){}};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[null==l?void 0:l.id]);let h=e=>{if(!e)return"";let t=String(e).split("-");return t.length>=3?t.slice(0,2).join("-"):e},p=e=>{if(!e||!Array.isArray(u))return null;let t=u.filter(t=>t&&t.header&&t.header.id&&(t.header.id===e||t.header.id.startsWith(e+"-")));return t.length?(t.sort((e,t)=>e.header.id.localeCompare(t.header.id)),t[t.length-1].header.id):null};return(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"3% 25% 25% 11% 11% 25%",gridTemplateRows:"1fr 1fr",width:"100%",height:"100%",maxHeight:"100%",overflow:"hidden",boxSizing:"border-box"},children:[(0,t.jsx)("div",{ref:d,className:"forceCenter",style:{gridColumn:"1",gridRow:"1 / span 2",fontWeight:"bold",position:"relative",overflow:"visible",...c},children:(0,t.jsx)("div",{ref:f,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%) rotate(-90deg)",transformOrigin:"center",whiteSpace:"nowrap",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:(0,t.jsx)(o.AutoTextSize,{children:l.id})})}),(0,t.jsx)("div",{className:"forceCenter",style:{gridColumn:"2",gridRow:"1 / span 2",...c},children:(0,t.jsx)(o.AutoTextSize,{children:l.title})}),(0,t.jsx)("div",{style:{gridColumn:"3",gridRow:"1",...c},children:(0,t.jsxs)(o.AutoTextSize,{mode:"boxoneline",children:[(0,t.jsx)("b",{children:"Responsible:"})," ",(0,r.toInitialLast)(l.owner)]})}),(0,t.jsx)("div",{style:{gridColumn:"3",gridRow:"2",...c},children:(0,t.jsxs)(o.AutoTextSize,{mode:"box",children:[(0,t.jsx)("b",{children:"Team:"})," ",l.team.map(r.toInitialLast).join(", ")]})}),(0,t.jsx)("div",{style:{gridColumn:"4",gridRow:"1 / span 2",...c},children:(0,t.jsxs)(o.AutoTextSize,{mode:"box",children:[(0,t.jsx)("b",{children:"Last Updated:"}),(0,t.jsx)("br",{}),(0,r.isoToDateString)(l.lastUpdated),(0,t.jsx)("br",{}),(0,t.jsx)("b",{children:"By:"}),(0,t.jsx)("br",{}),(0,r.toInitialLast)(l.by)]})}),(0,t.jsx)("div",{style:{gridColumn:"5",gridRow:"1",...c},children:(0,t.jsxs)(o.AutoTextSize,{mode:"box",children:[(0,t.jsx)("b",{children:"From:"}),(0,t.jsx)("br",{}),(0,r.isoToDateString)(l.start)]})}),(0,t.jsx)("div",{style:{gridColumn:"5",gridRow:"2",...c},children:(0,t.jsxs)(o.AutoTextSize,{mode:"box",children:[(0,t.jsx)("b",{children:"To:"}),(0,t.jsx)("br",{}),(0,r.isoToDateString)(l.end)]})}),(0,t.jsx)("div",{style:{gridColumn:"6",gridRow:"1",...c},children:(0,t.jsxs)(o.AutoTextSize,{mode:"boxoneline",children:[(0,t.jsx)("b",{children:"Ref. By:"}),(0,t.jsx)("br",{}),(e=>{let n=Array.isArray(e)?e:e?[e]:[];if(!n.length)return null;let r=[];return n.forEach((e,o)=>{let a=h(e),l=p(a),u=a||e;l&&!s?r.push((0,t.jsx)(i.default,{href:"/a3/".concat(l,"/view"),style:{color:"inherit",textDecoration:"underline"},children:u},o)):r.push((0,t.jsx)("span",{children:u},o)),o<n.length-1&&r.push(", ")}),r})(l.refBy)]})}),(0,t.jsx)("div",{style:{gridColumn:"6",gridRow:"2",...c},children:(0,t.jsxs)(o.AutoTextSize,{mode:"boxoneline",children:[(0,t.jsx)("b",{children:"Refs:"}),(0,t.jsx)("br",{}),((e,n)=>{let r=Array.isArray(e)?e:e?[e]:[],o=Array.isArray(n)?n:[],a=[];return(r.forEach((e,n)=>{let r=h(e),o=p(r),l=r||e;o&&!s?a.push((0,t.jsx)(i.default,{href:"/a3/".concat(o,"/view"),style:{color:"inherit",textDecoration:"underline"},children:l},"ref-".concat(n))):a.push((0,t.jsx)("span",{children:l},"ref-".concat(n))),a.push(", ")}),o.forEach((e,n)=>{let i="F".concat(n+1);s?a.push((0,t.jsx)("span",{children:i},"file-".concat(n))):a.push((0,t.jsx)("a",{href:e.url,download:!0,style:{color:"inherit",textDecoration:"underline"},rel:"noopener noreferrer",children:i},"file-".concat(n))),n<o.length-1&&a.push(", "),n===o.length-1&&r.length>0&&a.push("")}),0===a.length)?null:a})(l.refs,l.attachments)]})})]})}},55838,(e,t,n)=>{"use strict";var r=e.r(71645),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,c=r[1];return l(function(){o.value=n,o.getSnapshot=t,u(o)&&c({inst:o})},[e,n,t]),a(function(){return u(o)&&c({inst:o}),e(function(){u(o)&&c({inst:o})})},[e]),s(n),n};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},2239,(e,t,n)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,n)=>{"use strict";var r=e.r(71645),o=e.r(2239),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,l=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=a(e,(d=u(function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return l=t}return l=e}if(t=l,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,l=n)}var a,l,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,o]))[0],d[1]);return s(function(){f.hasValue=!0,f.value=h},[h]),c(h),h}},30224,(e,t,n)=>{"use strict";t.exports=e.r(52822)},54548,11209,47238,52491,25004,62573,44307,e=>{"use strict";e.s(["Background",()=>iL,"NodeResizeControl",()=>i1,"ReactFlow",()=>iN,"applyNodeChanges",()=>ot],54548),e.i(47167);var t,n,r,o,i,a,l,s,u,c=e.i(43476),d=e.i(71645);function f(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)""!==(r=f(e[n]))&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var h={value:function(){}};function p(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new g(r)}function g(e){this._=e}function v(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=h,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function m(){}function y(e){return null==e?m:function(){return this.querySelector(e)}}function b(){return[]}function x(e){return null==e?b:function(){return this.querySelectorAll(e)}}function w(e){return function(){return this.matches(e)}}function S(e){return function(t){return t.matches(e)}}g.prototype=p.prototype={constructor:g,on:function(e,t){var n,r=this._,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((n=(e=o[i]).type)&&(n=function(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=v(r[n],e.name,t);else if(null==t)for(n in r)r[n]=v(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new g(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var E=Array.prototype.find;function _(){return this.firstElementChild}var C=Array.prototype.filter;function k(){return Array.from(this.children)}function M(e){return Array(e.length)}function j(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function A(e,t,n,r,o,i){for(var a,l=0,s=t.length,u=i.length;l<u;++l)(a=t[l])?(a.__data__=i[l],r[l]=a):n[l]=new j(e,i[l]);for(;l<s;++l)(a=t[l])&&(o[l]=a)}function O(e,t,n,r,o,i,a){var l,s,u,c=new Map,d=t.length,f=i.length,h=Array(d);for(l=0;l<d;++l)(s=t[l])&&(h[l]=u=a.call(s,s.__data__,l,t)+"",c.has(u)?o[l]=s:c.set(u,s));for(l=0;l<f;++l)u=a.call(e,i[l],l,i)+"",(s=c.get(u))?(r[l]=s,s.__data__=i[l],c.delete(u)):n[l]=new j(e,i[l]);for(l=0;l<d;++l)(s=t[l])&&c.get(h[l])===s&&(o[l]=s)}function N(e){return e.__data__}function R(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}j.prototype={constructor:j,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var z="http://www.w3.org/1999/xhtml";let P={svg:"http://www.w3.org/2000/svg",xhtml:z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function T(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),P.hasOwnProperty(t)?{space:P[t],local:e}:e}function D(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function L(e,t){return e.style.getPropertyValue(t)||D(e).getComputedStyle(e,null).getPropertyValue(t)}function I(e){return e.trim().split(/^|\s+/)}function F(e){return e.classList||new B(e)}function B(e){this._node=e,this._names=I(e.getAttribute("class")||"")}function H(e,t){for(var n=F(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function W(e,t){for(var n=F(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function V(){this.textContent=""}function U(){this.innerHTML=""}function Y(){this.nextSibling&&this.parentNode.appendChild(this)}function X(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G(e){var t=T(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===z&&t.documentElement.namespaceURI===z?t.createElement(e):t.createElementNS(n,e)}})(t)}function q(){return null}function K(){var e=this.parentNode;e&&e.removeChild(this)}function Z(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Q(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function J(e,t,n){return function(){var r,o=this.__on,i=function(e){t.call(this,e,this.__data__)};if(o){for(var a=0,l=o.length;a<l;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function ee(e,t,n){var r=D(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}B.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var et=[null];function en(e,t){this._groups=e,this._parents=t}function er(){return new en([[document.documentElement]],et)}function eo(e){return"string"==typeof e?new en([[document.querySelector(e)]],[document.documentElement]):new en([[e]],et)}function ei(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}en.prototype=er.prototype={constructor:en,select:function(e){"function"!=typeof e&&(e=y(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a,l=t[o],s=l.length,u=r[o]=Array(s),c=0;c<s;++c)(i=l[c])&&(a=e.call(i,i.__data__,c,l))&&("__data__"in i&&(a.__data__=i.__data__),u[c]=a);return new en(r,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=x(e);for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var l,s=n[a],u=s.length,c=0;c<u;++c)(l=s[c])&&(o.push(e.call(l,l.__data__,c,s)),i.push(l));return new en(o,i)},selectChild:function(e){var t;return this.select(null==e?_:(t="function"==typeof e?e:S(e),function(){return E.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?k:(t="function"==typeof e?e:S(e),function(){return C.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=w(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],l=a.length,s=r[o]=[],u=0;u<l;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&s.push(i);return new en(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,N);var n=t?O:A,r=this._parents,o=this._groups;"function"!=typeof e&&(y=e,e=function(){return y});for(var i=o.length,a=Array(i),l=Array(i),s=Array(i),u=0;u<i;++u){var c=r[u],d=o[u],f=d.length,h="object"==typeof(m=e.call(c,c&&c.__data__,u,r))&&"length"in m?m:Array.from(m),p=h.length,g=l[u]=Array(p),v=a[u]=Array(p);n(c,d,g,v,s[u]=Array(f),h,t);for(var m,y,b,x,w=0,S=0;w<p;++w)if(b=g[w]){for(w>=S&&(S=w+1);!(x=v[S])&&++S<p;);b._next=x||null}}return(a=new en(a,r))._enter=l,a._exit=s,a},enter:function(){return new en(this._enter||this._groups.map(M),this._parents)},exit:function(){return new en(this._exit||this._groups.map(M),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),l=Array(o),s=0;s<a;++s)for(var u,c=n[s],d=r[s],f=c.length,h=l[s]=Array(f),p=0;p<f;++p)(u=c[p]||d[p])&&(h[p]=u);for(;s<o;++s)l[s]=n[s];return new en(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=R);for(var n=this._groups,r=n.length,o=Array(r),i=0;i<r;++i){for(var a,l=n[i],s=l.length,u=o[i]=Array(s),c=0;c<s;++c)(a=l[c])&&(u[c]=a);u.sort(t)}return new en(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,l=i.length;a<l;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=T(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):L(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=I(e+"");if(arguments.length<2){for(var r=F(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?H:W)(this,e)}}:t?function(e){return function(){H(this,e)}}:function(e){return function(){W(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?V:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?U:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(Y)},lower:function(){return this.each(X)},append:function(e){var t="function"==typeof e?e:G(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:G(e),r=null==t?q:"function"==typeof t?t:y(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(K)},clone:function(e){return this.select(e?$:Z)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var l=this.node().__on;if(l){for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<a;++r)if((o=i[r]).type===s.type&&o.name===s.name)return s.value}return}for(r=0,l=t?J:Q;r<a;++r)this.each(l(i[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return ee(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return ee(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};let ea={passive:!1},el={capture:!0,passive:!1};function es(e){e.stopImmediatePropagation()}function eu(e){e.preventDefault(),e.stopImmediatePropagation()}function ec(e){var t=e.document.documentElement,n=eo(e).on("dragstart.drag",eu,el);"onselectstart"in t?n.on("selectstart.drag",eu,el):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ed(e,t){var n=e.document.documentElement,r=eo(e).on("dragstart.drag",null);t&&(r.on("click.drag",eu,el),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}let ef=e=>()=>e;function eh(e,t){let{sourceEvent:n,subject:r,target:o,identifier:i,active:a,x:l,y:s,dx:u,dy:c,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}function ep(e){return!e.ctrlKey&&!e.button}function eg(){return this.parentNode}function ev(e,t){return null==t?{x:e.x,y:e.y}:t}function em(){return navigator.maxTouchPoints||"ontouchstart"in this}function ey(){var e,t,n,r,o=ep,i=eg,a=ev,l=em,s={},u=p("start","drag","end"),c=0,d=0;function f(e){e.on("mousedown.drag",h).filter(l).on("touchstart.drag",m).on("touchmove.drag",y,ea).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,l){if(!r&&o.call(this,a,l)){var s=x(this,i.call(this,a,l),a,l,"mouse");s&&(eo(a.view).on("mousemove.drag",g,el).on("mouseup.drag",v,el),ec(a.view),es(a),n=!1,e=a.clientX,t=a.clientY,s("start",a))}}function g(r){if(eu(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}s.mouse("drag",r)}function v(e){eo(e.view).on("mousemove.drag mouseup.drag",null),ed(e.view,n),eu(e),s.mouse("end",e)}function m(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,l=i.call(this,e,t),s=a.length;for(n=0;n<s;++n)(r=x(this,l,e,t,a[n].identifier,a[n]))&&(es(e),r("start",e,a[n]))}}function y(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=s[r[t].identifier])&&(eu(e),n("drag",e,r[t]))}function b(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=s[o[t].identifier])&&(es(e),n("end",e,o[t]))}function x(e,t,n,r,o,i){var l,d,h,p=u.copy(),g=ei(i||n,t);if(null!=(h=a.call(e,new eh("beforestart",{sourceEvent:n,target:f,identifier:o,active:c,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return l=h.x-g[0]||0,d=h.y-g[1]||0,function n(i,a,u){var v,m=g;switch(i){case"start":s[o]=n,v=c++;break;case"end":delete s[o],--c;case"drag":g=ei(u||a,t),v=c}p.call(i,e,new eh(i,{sourceEvent:a,subject:h,target:f,identifier:o,active:v,x:g[0]+l,y:g[1]+d,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(o="function"==typeof e?e:ef(!!e),f):o},f.container=function(e){return arguments.length?(i="function"==typeof e?e:ef(e),f):i},f.subject=function(e){return arguments.length?(a="function"==typeof e?e:ef(e),f):a},f.touchable=function(e){return arguments.length?(l="function"==typeof e?e:ef(!!e),f):l},f.on=function(){var e=u.on.apply(u,arguments);return e===u?f:e},f.clickDistance=function(e){return arguments.length?(d=(e*=1)*e,f):Math.sqrt(d)},f}function eb(e){return((e=Math.exp(e))+1/e)/2}eh.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};let ex=function e(t,n,r){function o(e,o){var i,a,l=e[0],s=e[1],u=e[2],c=o[0],d=o[1],f=o[2],h=c-l,p=d-s,g=h*h+p*p;if(g<1e-12)a=Math.log(f/u)/t,i=function(e){return[l+e*h,s+e*p,u*Math.exp(t*e*a)]};else{var v=Math.sqrt(g),m=(f*f-u*u+r*g)/(2*u*n*v),y=(f*f-u*u-r*g)/(2*f*n*v),b=Math.log(Math.sqrt(m*m+1)-m);a=(Math.log(Math.sqrt(y*y+1)-y)-b)/t,i=function(e){var r,o,i=e*a,c=eb(b),d=u/(n*v)*(c*(((r=Math.exp(2*(r=t*i+b)))-1)/(r+1))-((o=Math.exp(o=b))-1/o)/2);return[l+d*h,s+d*p,u*c/eb(t*i+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);var ew,eS,eE=0,e_=0,eC=0,ek=0,eM=0,ej=0,eA="object"==typeof performance&&performance.now?performance:Date,eO="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function eN(){return eM||(eO(eR),eM=eA.now()+ej)}function eR(){eM=0}function ez(){this._call=this._time=this._next=null}function eP(e,t,n){var r=new ez;return r.restart(e,t,n),r}function eT(){eM=(ek=eA.now())+ej,eE=e_=0;try{eN(),++eE;for(var e,t=ew;t;)(e=eM-t._time)>=0&&t._call.call(void 0,e),t=t._next;--eE}finally{eE=0,function(){for(var e,t,n=ew,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ew=t);eS=e,eL(r)}(),eM=0}}function eD(){var e=eA.now(),t=e-ek;t>1e3&&(ej-=t,ek=e)}function eL(e){!eE&&(e_&&(e_=clearTimeout(e_)),e-eM>24?(e<1/0&&(e_=setTimeout(eT,e-eA.now()-ej)),eC&&(eC=clearInterval(eC))):(eC||(ek=eA.now(),eC=setInterval(eD,1e3)),eE=1,eO(eT)))}function eI(e,t,n){var r=new ez;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}ez.prototype=eP.prototype={constructor:ez,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?eN():+n)+(null==t?0:+t),this._next||eS===this||(eS?eS._next=this:ew=this,eS=this),this._call=e,this._time=n,eL()},stop:function(){this._call&&(this._call=null,this._time=1/0,eL())}};var eF=p("start","end","cancel","interrupt"),eB=[];function eH(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(s){var u,c,d,f;if(1!==n.state)return l();for(u in o)if((f=o[u]).name===n.name){if(3===f.state)return eI(i);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[u])}if(eI(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(s))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(u=0,n.state=3,r=Array(d=n.tween.length),c=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=eP(function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:o,on:eF,tween:eB,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function eW(e,t){var n=eU(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function eV(e,t){var n=eU(e,t);if(n.state>3)throw Error("too late; already running");return n}function eU(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function eY(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i){if((n=i[o]).name!==t){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]}a&&delete e.__transition}}function eX(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}var eG=180/Math.PI,eq={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eK(e,t,n,r,o,i){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*eG,skewX:Math.atan(s)*eG,scaleX:a,scaleY:l}}function eZ(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var l,s,u,c,d=[],f=[];return i=e(i),a=e(a),!function(e,r,o,i,a,l){if(e!==o||r!==i){var s=a.push("translate(",null,t,null,n);l.push({i:s-4,x:eX(e,o)},{i:s-2,x:eX(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,d,f),l=i.rotate,s=a.rotate,l!==s?(l-s>180?s+=360:s-l>180&&(l+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:eX(l,s)})):s&&d.push(o(d)+"rotate("+s+r),u=i.skewX,c=a.skewX,u!==c?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:eX(u,c)}):c&&d.push(o(d)+"skewX("+c+r),!function(e,t,n,r,i,a){if(e!==n||t!==r){var l=i.push(o(i)+"scale(",null,",",null,")");a.push({i:l-4,x:eX(e,n)},{i:l-2,x:eX(t,r)})}else(1!==n||1!==r)&&i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,d,f),i=a=null,function(e){for(var t,n=-1,r=f.length;++n<r;)d[(t=f[n]).i]=t.x(e);return d.join("")}}}var e$=eZ(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?eq:eK(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),eQ=eZ(function(e){return null==e?eq:(t||(t=document.createElementNS("http://www.w3.org/2000/svg","g")),t.setAttribute("transform",e),e=t.transform.baseVal.consolidate())?eK((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):eq},", ",")",")");function eJ(e,t,n){var r=e._id;return e.each(function(){var e=eV(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return eU(e,r).value[t]}}function e0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function e1(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function e2(){}e.s(["Color",()=>e2,"Rgb",()=>th,"brighter",()=>e3,"darker",()=>e5,"default",()=>ts,"hsl",()=>tw,"rgb",()=>tf,"rgbConvert",()=>td],47238),e.s(["default",()=>e0,"extend",()=>e1],11209);var e5=.7,e3=1.4285714285714286,e4="\\s*([+-]?\\d+)\\s*",e6="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",e8="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e9=/^#([0-9a-f]{3,8})$/,e7=new RegExp("^rgb\\(".concat(e4,",").concat(e4,",").concat(e4,"\\)$")),te=new RegExp("^rgb\\(".concat(e8,",").concat(e8,",").concat(e8,"\\)$")),tt=new RegExp("^rgba\\(".concat(e4,",").concat(e4,",").concat(e4,",").concat(e6,"\\)$")),tn=new RegExp("^rgba\\(".concat(e8,",").concat(e8,",").concat(e8,",").concat(e6,"\\)$")),tr=new RegExp("^hsl\\(".concat(e6,",").concat(e8,",").concat(e8,"\\)$")),to=new RegExp("^hsla\\(".concat(e6,",").concat(e8,",").concat(e8,",").concat(e6,"\\)$")),ti={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function ta(){return this.rgb().formatHex()}function tl(){return this.rgb().formatRgb()}function ts(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=e9.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?tu(t):3===n?new th(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?tc(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?tc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=e7.exec(e))?new th(t[1],t[2],t[3],1):(t=te.exec(e))?new th(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tt.exec(e))?tc(t[1],t[2],t[3],t[4]):(t=tn.exec(e))?tc(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=tr.exec(e))?tb(t[1],t[2]/100,t[3]/100,1):(t=to.exec(e))?tb(t[1],t[2]/100,t[3]/100,t[4]):ti.hasOwnProperty(e)?tu(ti[e]):"transparent"===e?new th(NaN,NaN,NaN,0):null}function tu(e){return new th(e>>16&255,e>>8&255,255&e,1)}function tc(e,t,n,r){return r<=0&&(e=t=n=NaN),new th(e,t,n,r)}function td(e){return(e instanceof e2||(e=ts(e)),e)?new th((e=e.rgb()).r,e.g,e.b,e.opacity):new th}function tf(e,t,n,r){return 1==arguments.length?td(e):new th(e,t,n,null==r?1:r)}function th(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function tp(){return"#".concat(ty(this.r)).concat(ty(this.g)).concat(ty(this.b))}function tg(){let e=tv(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(tm(this.r),", ").concat(tm(this.g),", ").concat(tm(this.b)).concat(1===e?")":", ".concat(e,")"))}function tv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ty(e){return((e=tm(e))<16?"0":"")+e.toString(16)}function tb(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tS(e,t,n,r)}function tx(e){if(e instanceof tS)return new tS(e.h,e.s,e.l,e.opacity);if(e instanceof e2||(e=ts(e)),!e)return new tS;if(e instanceof tS)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=t===i?(n-r)/l+(n<r)*6:n===i?(r-t)/l+2:(t-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new tS(a,l,s,e.opacity)}function tw(e,t,n,r){return 1==arguments.length?tx(e):new tS(e,t,n,null==r?1:r)}function tS(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tE(e){return(e=(e||0)%360)<0?e+360:e}function t_(e){return Math.max(0,Math.min(1,e||0))}function tC(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function tk(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}e0(e2,ts,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ta,formatHex:ta,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tx(this).formatHsl()},formatRgb:tl,toString:tl}),e0(th,tf,e1(e2,{brighter(e){return e=null==e?e3:Math.pow(e3,e),new th(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?e5:Math.pow(e5,e),new th(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new th(tm(this.r),tm(this.g),tm(this.b),tv(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tp,formatHex:tp,formatHex8:function(){return"#".concat(ty(this.r)).concat(ty(this.g)).concat(ty(this.b)).concat(ty((isNaN(this.opacity)?1:this.opacity)*255))},formatRgb:tg,toString:tg})),e0(tS,tw,e1(e2,{brighter(e){return e=null==e?e3:Math.pow(e3,e),new tS(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?e5:Math.pow(e5,e),new tS(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new th(tC(e>=240?e-240:e+120,o,r),tC(e,o,r),tC(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new tS(tE(this.h),t_(this.s),t_(this.l),tv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=tv(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(tE(this.h),", ").concat(100*t_(this.s),"%, ").concat(100*t_(this.l),"%").concat(1===e?")":", ".concat(e,")"))}})),e.s(["interpolateNumber",()=>eX],52491),e.s(["interpolateRgb",()=>tR],62573),e.s(["default",()=>tN,"gamma",()=>tO,"hue",()=>tA],25004);let tM=e=>()=>e;function tj(e,t){return function(n){return e+n*t}}function tA(e,t){var n=t-e;return n?tj(e,n>180||n<-180?n-360*Math.round(n/360):n):tM(isNaN(e)?t:e)}function tO(e){return 1==(e*=1)?tN:function(t,n){var r,o,i;return n-t?(r=t,o=n,r=Math.pow(r,i=e),o=Math.pow(o,i)-r,i=1/i,function(e){return Math.pow(r+e*o,i)}):tM(isNaN(t)?n:t)}}function tN(e,t){var n=t-e;return n?tj(e,n):tM(isNaN(e)?t:e)}let tR=function e(t){var n=tO(t);function r(e,t){var r=n((e=tf(e)).r,(t=tf(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=tN(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function tz(e){return function(t){var n,r,o=t.length,i=Array(o),a=Array(o),l=Array(o);for(n=0;n<o;++n)r=tf(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}tz(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return tk((n-r/t)*t,a,o,i,l)}}),tz(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return tk((n-r/t)*t,o,i,a,l)}});var tP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tT=RegExp(tP.source,"g");function tD(e,t){var n,r,o,i,a,l=tP.lastIndex=tT.lastIndex=0,s=-1,u=[],c=[];for(e+="",t+="";(o=tP.exec(e))&&(i=tT.exec(t));)(a=i.index)>l&&(a=t.slice(l,a),u[s]?u[s]+=a:u[++s]=a),(o=o[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:eX(o,i)})),l=tT.lastIndex;return l<t.length&&(a=t.slice(l),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})}function tL(e,t){var n;return("number"==typeof t?eX:t instanceof ts?tR:(n=ts(t))?(t=n,tR):tD)(e,t)}var tI=er.prototype.constructor;function tF(e){return function(){this.style.removeProperty(e)}}var tB=0;function tH(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}var tW=er.prototype;tH.prototype=(function(e){return er().transition(e)}).prototype={constructor:tH,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=y(e));for(var r=this._groups,o=r.length,i=Array(o),a=0;a<o;++a)for(var l,s,u=r[a],c=u.length,d=i[a]=Array(c),f=0;f<c;++f)(l=u[f])&&(s=e.call(l,l.__data__,f,u))&&("__data__"in l&&(s.__data__=l.__data__),d[f]=s,eH(d[f],t,n,f,d,eU(l,n)));return new tH(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=x(e));for(var r=this._groups,o=r.length,i=[],a=[],l=0;l<o;++l)for(var s,u=r[l],c=u.length,d=0;d<c;++d)if(s=u[d]){for(var f,h=e.call(s,s.__data__,d,u),p=eU(s,n),g=0,v=h.length;g<v;++g)(f=h[g])&&eH(f,t,n,g,h,p);i.push(h),a.push(s)}return new tH(i,a,t,n)},selectChild:tW.selectChild,selectChildren:tW.selectChildren,filter:function(e){"function"!=typeof e&&(e=w(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],l=a.length,s=r[o]=[],u=0;u<l;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&s.push(i);return new tH(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),l=0;l<i;++l)for(var s,u=t[l],c=n[l],d=u.length,f=a[l]=Array(d),h=0;h<d;++h)(s=u[h]||c[h])&&(f[h]=s);for(;l<r;++l)a[l]=t[l];return new tH(a,this._parents,this._name,this._id)},selection:function(){return new tI(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++tB,r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],s=l.length,u=0;u<s;++u)if(a=l[u]){var c=eU(a,t);eH(a,e,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tH(r,this._parents,e,n)},call:tW.call,nodes:tW.nodes,node:tW.node,size:tW.size,empty:tW.empty,each:tW.each,on:function(e,t){var n,r,o,i,a,l,s=this._id;return arguments.length<2?eU(this.node(),s).on.on(e):this.each((n=s,r=e,o=t,l=(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?eW:eV,function(){var e=l(this,n),t=e.on;t!==i&&(a=(i=t).copy()).on(r,o),e.on=a}))},attr:function(e,t){var n=T(e),r="transform"===n?eQ:tL;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,o,i;return function(){var a,l,s=n(this);return null==s?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}:function(e,t,n){var r,o,i;return function(){var a,l,s=n(this);return null==s?void this.removeAttribute(e):(a=this.getAttribute(e))===(l=s+"")?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}})(n,r,eJ(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}:function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=T(e);return this.tween(n,(r.local?function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttributeNS(e.space,e.local,o.call(this,t))}),n}return o._value=t,o}:function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttribute(e,o.call(this,t))}),n}return o._value=t,o})(r,t))},style:function(e,t,n){var r,o,i,a,l,s,u,c,d,f,h,p,g,v,m,y,b,x,w,S,E,_="transform"==(e+="")?e$:tL;return null==t?this.styleTween(e,(r=e,function(){var e=L(this,r),t=(this.style.removeProperty(r),L(this,r));return e===t?null:e===o&&t===i?a:a=_(o=e,i=t)})).on("end.style."+e,tF(e)):"function"==typeof t?this.styleTween(e,(l=e,s=eJ(this,"style."+e,t),function(){var e=L(this,l),t=s(this),n=t+"";return null==t&&(this.style.removeProperty(l),n=t=L(this,l)),e===n?null:e===u&&n===c?d:(c=n,d=_(u=e,t))})).each((f=this._id,b="end."+(y="style."+(h=e)),function(){var e=eV(this,f),t=e.on,n=null==e.value[y]?m||(m=tF(h)):void 0;(t!==p||v!==n)&&(g=(p=t).copy()).on(b,v=n),e.on=g})):this.styleTween(e,(x=e,E=t+"",function(){var e=L(this,x);return e===E?null:e===w?S:S=_(w=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t){this.style.setProperty(e,i.call(this,t),n)}),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=eJ(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return r._value=e,r}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=eU(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var o=eV(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}}o.tween=r}}:function(e,t,n){var r,o;if("function"!=typeof n)throw Error();return function(){var i=eV(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var l={name:t,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===t){o[s]=l;break}s===u&&o.push(l)}i.tween=o}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eW(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){eW(this,e).delay=t}})(t,e)):eU(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eV(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){eV(this,e).duration=t}})(t,e)):eU(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){eV(this,e).ease=t}}(t,e)):eU(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();eV(this,t).ease=n}))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var l={value:a},s={value:function(){0==--o&&i()}};n.each(function(){var n=eV(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),n.on=t}),0===o&&i()})},[Symbol.iterator]:tW[Symbol.iterator]};var tV={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};er.prototype.interrupt=function(e){return this.each(function(){eY(this,e)})},er.prototype.transition=function(e){var t,n;e instanceof tH?(t=e._id,e=e._name):(t=++tB,(n=tV).time=eN(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],s=l.length,u=0;u<s;++u)(a=l[u])&&eH(a,e,t,u,l,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error("transition ".concat(t," not found"));return n}(a,t));return new tH(r,this._parents,e,t)};let tU=e=>()=>e;function tY(e,t){let{sourceEvent:n,target:r,transform:o,dispatch:i}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function tX(e,t,n){this.k=e,this.x=t,this.y=n}tX.prototype={constructor:tX,scale:function(e){return 1===e?this:new tX(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tX(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tG=new tX(1,0,0);function tq(e){for(;!e.__zoom;)if(!(e=e.parentNode))return tG;return e.__zoom}function tK(e){e.stopImmediatePropagation()}function tZ(e){e.preventDefault(),e.stopImmediatePropagation()}function t$(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function tQ(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function tJ(){return this.__zoom||tG}function t0(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function t1(){return navigator.maxTouchPoints||"ontouchstart"in this}function t2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function t5(){var e,t,n,r=t$,o=tQ,i=t2,a=t0,l=t1,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,d=ex,f=p("start","zoom","end"),h=0,g=10;function v(e){e.property("__zoom",tJ).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",C).filter(l).on("touchstart.zoom",k).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new tX(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new tX(e.k,r,o)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",function(){w(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(r).end()}).tween("zoom",function(){var e=arguments,i=w(this,e).event(r),a=o.apply(this,e),l=null==n?b(a):"function"==typeof n?n.apply(this,e):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=this.__zoom,c="function"==typeof t?t.apply(this,e):t,f=d(u.invert(l).concat(s/u.k),c.invert(l).concat(s/c.k));return function(e){if(1===e)e=c;else{var t=f(e),n=s/t[2];e=new tX(n,l[0]-t[0]*n,l[1]-t[1]*n)}i.zoom(null,e)}})}function w(e,t,n){return!n&&e.__zooming||new S(e,t)}function S(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function E(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var l=w(this,n).event(e),c=this.__zoom,d=Math.max(s[0],Math.min(s[1],c.k*Math.pow(2,a.apply(this,arguments)))),f=ei(e);if(l.wheel)(l.mouse[0][0]!==f[0]||l.mouse[0][1]!==f[1])&&(l.mouse[1]=c.invert(l.mouse[0]=f)),clearTimeout(l.wheel);else{if(c.k===d)return;l.mouse=[f,c.invert(f)],eY(this),l.start()}tZ(e),l.wheel=setTimeout(function(){l.wheel=null,l.end()},150),l.zoom("mouse",i(y(m(c,d),l.mouse[0],l.mouse[1]),l.extent,u))}}function _(e){for(var t=arguments.length,o=Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];if(!n&&r.apply(this,arguments)){var l=e.currentTarget,s=w(this,o,!0).event(e),c=eo(e.view).on("mousemove.zoom",function(e){if(tZ(e),!s.moved){var t=e.clientX-f,n=e.clientY-p;s.moved=t*t+n*n>h}s.event(e).zoom("mouse",i(y(s.that.__zoom,s.mouse[0]=ei(e,l),s.mouse[1]),s.extent,u))},!0).on("mouseup.zoom",function(e){c.on("mousemove.zoom mouseup.zoom",null),ed(e.view,s.moved),tZ(e),s.event(e).end()},!0),d=ei(e,l),f=e.clientX,p=e.clientY;ec(e.view),tK(e),s.mouse=[d,this.__zoom.invert(d)],eY(this),s.start()}}function C(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var l=this.__zoom,s=ei(e.changedTouches?e.changedTouches[0]:e,this),d=l.invert(s),f=l.k*(e.shiftKey?.5:2),h=i(y(m(l,f),s,d),o.apply(this,n),u);tZ(e),c>0?eo(this).transition().duration(c).call(x,h,s,e):eo(this).call(v.transform,h,s,e)}}function k(n){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(r.apply(this,arguments)){var l,s,u,c,d=n.touches,f=d.length,h=w(this,i,n.changedTouches.length===f).event(n);for(tK(n),s=0;s<f;++s)c=[c=ei(u=d[s],this),this.__zoom.invert(c),u.identifier],h.touch0?h.touch1||h.touch0[2]===c[2]||(h.touch1=c,h.taps=0):(h.touch0=c,l=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),l&&(h.taps<2&&(t=c[0],e=setTimeout(function(){e=null},500)),eY(this),h.start())}}function M(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.__zooming){var o,a,l,s,c=w(this,n).event(e),d=e.changedTouches,f=d.length;for(tZ(e),o=0;o<f;++o)l=ei(a=d[o],this),c.touch0&&c.touch0[2]===a.identifier?c.touch0[0]=l:c.touch1&&c.touch1[2]===a.identifier&&(c.touch1[0]=l);if(a=c.that.__zoom,c.touch1){var h=c.touch0[0],p=c.touch0[1],g=c.touch1[0],v=c.touch1[1],b=(b=g[0]-h[0])*b+(b=g[1]-h[1])*b,x=(x=v[0]-p[0])*x+(x=v[1]-p[1])*x;a=m(a,Math.sqrt(b/x)),l=[(h[0]+g[0])/2,(h[1]+g[1])/2],s=[(p[0]+v[0])/2,(p[1]+v[1])/2]}else{if(!c.touch0)return;l=c.touch0[0],s=c.touch0[1]}c.zoom("touch",i(y(a,l,s),c.extent,u))}}function j(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(this.__zooming){var a,l,s=w(this,o).event(e),u=e.changedTouches,c=u.length;for(tK(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),a=0;a<c;++a)l=u[a],s.touch0&&s.touch0[2]===l.identifier?delete s.touch0:s.touch1&&s.touch1[2]===l.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(l=ei(l,this),Math.hypot(t[0]-l[0],t[1]-l[1])<g)){var d=eo(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return v.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",tJ),e!==o?x(e,t,n,r):o.interrupt().each(function(){w(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},v.scaleBy=function(e,t,n,r){v.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n,r)},v.scaleTo=function(e,t,n,r){v.transform(e,function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,l=r.invert(a),s="function"==typeof t?t.apply(this,arguments):t;return i(y(m(r,s),a,l),e,u)},n,r)},v.translateBy=function(e,t,n,r){v.transform(e,function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),u)},null,r)},v.translateTo=function(e,t,n,r,a){v.transform(e,function(){var e=o.apply(this,arguments),a=this.__zoom,l=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return i(tG.translate(l[0],l[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,u)},r,a)},S.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=eo(this.that).datum();f.call(e,this.that,new tY(e,{sourceEvent:this.sourceEvent,target:v,type:e,transform:this.that.__zoom,dispatch:f}),t)}},v.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:tU(+e),v):a},v.filter=function(e){return arguments.length?(r="function"==typeof e?e:tU(!!e),v):r},v.touchable=function(e){return arguments.length?(l="function"==typeof e?e:tU(!!e),v):l},v.extent=function(e){return arguments.length?(o="function"==typeof e?e:tU([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):o},v.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],v):[s[0],s[1]]},v.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],v):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},v.constrain=function(e){return arguments.length?(i=e,v):i},v.duration=function(e){return arguments.length?(c=+e,v):c},v.interpolate=function(e){return arguments.length?(d=e,v):d},v.on=function(){var e=f.on.apply(f,arguments);return e===f?v:e},v.clickDistance=function(e){return arguments.length?(h=(e*=1)*e,v):Math.sqrt(h)},v.tapDistance=function(e){return arguments.length?(g=+e,v):g},v}function t3(e,t){var n,r,o=typeof t;return null==t||"boolean"===o?tM(t):("number"===o?eX:"string"===o?(r=ts(t))?(t=r,tR):tD:t instanceof ts?tR:t instanceof Date?function(e,t){var n=new Date;return e*=1,t*=1,function(r){return n.setTime(e*(1-r)+t*r),n}}:!ArrayBuffer.isView(n=t)||n instanceof DataView?Array.isArray(t)?function(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=Array(o),a=Array(r);for(n=0;n<o;++n)i[n]=t3(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var n,r={},o={};for(n in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)n in e?r[n]=t3(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}:eX:function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}})(e,t)}tq.prototype=tX.prototype,e.s(["interpolate",()=>t3],44307);let t4={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error003:e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error009:e=>'Marker type "'.concat(e,"\" doesn't exist."),error008:(e,t)=>{let{id:n,sourceHandle:r,targetHandle:o}=t;return"Couldn't create edge for ".concat(e,' handle id: "').concat("source"===e?r:o,'", edge id: ').concat(n,".")},error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),error012:e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},t6=[[-1/0,-1/0],[1/0,1/0]],t8=["Enter"," ","Escape"],t9={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":e=>{let{direction:t,x:n,y:r}=e;return"Moved selected node ".concat(t,". New position, x: ").concat(n,", y: ").concat(r)},"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};!function(e){e.Strict="strict",e.Loose="loose"}(n||(n={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(r||(r={})),function(e){e.Partial="partial",e.Full="full"}(o||(o={}));let t7={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};!function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(i||(i={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(a||(a={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(l||(l={}));let ne={[l.Left]:l.Right,[l.Right]:l.Left,[l.Top]:l.Bottom,[l.Bottom]:l.Top};function nt(e){return null===e?null:e?"valid":"invalid"}let nn=e=>"id"in e&&"source"in e&&"target"in e,nr=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),no=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],{width:r,height:o}=nz(e),i=null!=(t=e.origin)?t:n,a=r*i[0],l=o*i[1];return{x:e.position.x-a,y:e.position.y-l}},ni=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{nodeOrigin:[0,0]};return 0===e.length?{x:0,y:0,width:0,height:0}:ny(e.reduce((e,n)=>{let r="string"==typeof n,o=t.nodeLookup||r?void 0:n;return t.nodeLookup&&(o=r?t.nodeLookup.get(n):nr(n)?n:t.nodeLookup.get(n.id)),nv(e,o?nx(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0}))},na=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(e=>{if(void 0===t.filter||t.filter(e)){let t=nx(e);n=nv(n,t)}}),ny(n)},nl=function(e,t){let[n,r,o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={...nM(t,[n,r,o]),width:t.width/o,height:t.height/o},s=[];for(let t of e.values()){var u,c,d,f,h,p;let{measured:e,selectable:n=!0,hidden:r=!1}=t;if(a&&!n||r)continue;let o=null!=(d=null!=(c=null!=(u=e.width)?u:t.width)?c:t.initialWidth)?d:null,g=null!=(p=null!=(h=null!=(f=e.height)?f:t.height)?h:t.initialHeight)?p:null,v=nS(l,nb(t)),m=(null!=o?o:0)*(null!=g?g:0),y=i&&v>0;(!t.internals.handleBounds||y||v>=m||t.dragging)&&s.push(t)}return s};async function ns(e,t){var n,r,o;let{nodes:i,width:a,height:l,panZoom:s,minZoom:u,maxZoom:c}=e;if(0===i.size)return Promise.resolve(!0);let d=nO(na(function(e,t){let n=new Map,r=(null==t?void 0:t.nodes)?new Set(t.nodes.map(e=>e.id)):null;return e.forEach(e=>{e.measured.width&&e.measured.height&&((null==t?void 0:t.includeHiddenNodes)||!e.hidden)&&(!r||r.has(e.id))&&n.set(e.id,e)}),n}(i,t)),a,l,null!=(n=null==t?void 0:t.minZoom)?n:u,null!=(r=null==t?void 0:t.maxZoom)?r:c,null!=(o=null==t?void 0:t.padding)?o:.1);return await s.setViewport(d,{duration:null==t?void 0:t.duration,ease:null==t?void 0:t.ease,interpolate:null==t?void 0:t.interpolate}),Promise.resolve(!0)}function nu(e){var t,n,r;let{nodeId:o,nextPosition:i,nodeLookup:a,nodeOrigin:l=[0,0],nodeExtent:s,onError:u}=e,c=a.get(o),d=c.parentId?a.get(c.parentId):void 0,{x:f,y:h}=d?d.internals.positionAbsolute:{x:0,y:0},p=null!=(t=c.origin)?t:l,g=c.extent||s;if("parent"!==c.extent||c.expandParent)d&&nR(c.extent)&&(g=[[c.extent[0][0]+f,c.extent[0][1]+h],[c.extent[1][0]+f,c.extent[1][1]+h]]);else if(d){let e=d.measured.width,t=d.measured.height;e&&t&&(g=[[f,h],[f+e,h+t]])}else null==u||u("005",t4.error005());let v=nR(g)?nf(i,g,c.measured):i;return(void 0===c.measured.width||void 0===c.measured.height)&&(null==u||u("015",t4.error015())),{position:{x:v.x-f+(null!=(n=c.measured.width)?n:0)*p[0],y:v.y-h+(null!=(r=c.measured.height)?r:0)*p[1]},positionAbsolute:v}}async function nc(e){let{nodesToRemove:t=[],edgesToRemove:n=[],nodes:r,edges:o,onBeforeDelete:i}=e,a=new Set(t.map(e=>e.id)),l=[];for(let e of r){if(!1===e.deletable)continue;let t=a.has(e.id),n=!t&&e.parentId&&l.find(t=>t.id===e.parentId);(t||n)&&l.push(e)}let s=new Set(n.map(e=>e.id)),u=o.filter(e=>!1!==e.deletable),c=((e,t)=>{let n=new Set;return e.forEach(e=>{n.add(e.id)}),t.filter(e=>n.has(e.source)||n.has(e.target))})(l,u);for(let e of u)s.has(e.id)&&!c.find(t=>t.id===e.id)&&c.push(e);if(!i)return{edges:c,nodes:l};let d=await i({nodes:l,edges:c});return"boolean"==typeof d?d?{edges:c,nodes:l}:{edges:[],nodes:[]}:d}let nd=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},nf=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return{x:nd(n.x,r[0][0],r[1][0]-(null!=(e=null==o?void 0:o.width)?e:0)),y:nd(n.y,r[0][1],r[1][1]-(null!=(t=null==o?void 0:o.height)?t:0))}};function nh(e,t,n){let{width:r,height:o}=nz(n),{x:i,y:a}=n.internals.positionAbsolute;return nf(e,[[i,a],[i+r,a+o]],t)}let np=(e,t,n)=>e<t?nd(Math.abs(e-t),1,t)/t:e>n?-nd(Math.abs(e-n),1,t)/t:0,ng=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40;return[np(e.x,r,t.width-r)*n,np(e.y,r,t.height-r)*n]},nv=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),nm=e=>{let{x:t,y:n,width:r,height:o}=e;return{x:t,y:n,x2:t+r,y2:n+o}},ny=e=>{let{x:t,y:n,x2:r,y2:o}=e;return{x:t,y:n,width:r-t,height:o-n}},nb=function(e){var t,n,r,o,i,a,l,s;let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],{x:c,y:d}=nr(e)?e.internals.positionAbsolute:no(e,u);return{x:c,y:d,width:null!=(i=null!=(o=null!=(r=null==(t=e.measured)?void 0:t.width)?r:e.width)?o:e.initialWidth)?i:0,height:null!=(s=null!=(l=null!=(a=null==(n=e.measured)?void 0:n.height)?a:e.height)?l:e.initialHeight)?s:0}},nx=function(e){var t,n,r,o,i,a,l,s;let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],{x:c,y:d}=nr(e)?e.internals.positionAbsolute:no(e,u);return{x:c,y:d,x2:c+(null!=(i=null!=(o=null!=(r=null==(t=e.measured)?void 0:t.width)?r:e.width)?o:e.initialWidth)?i:0),y2:d+(null!=(s=null!=(l=null!=(a=null==(n=e.measured)?void 0:n.height)?a:e.height)?l:e.initialHeight)?s:0)}},nw=(e,t)=>ny(nv(nm(e),nm(t))),nS=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),nE=e=>n_(e.width)&&n_(e.height)&&n_(e.x)&&n_(e.y),n_=e=>!isNaN(e)&&isFinite(e),nC=(e,t)=>{},nk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1];return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}},nM=function(e,t){let{x:n,y:r}=e,[o,i,a]=t,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],u={x:(n-o)/a,y:(r-i)/a};return l?nk(u,s):u},nj=(e,t)=>{let{x:n,y:r}=e,[o,i,a]=t;return{x:n*a+o,y:r*a+i}};function nA(e,t){if("number"==typeof e)return Math.floor((t-t/(1+e))*.5);if("string"==typeof e&&e.endsWith("px")){let t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"==typeof e&&e.endsWith("%")){let n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error('[React Flow] The padding value "'.concat(e,'" is invalid. Please provide a number or a string with a valid unit (px or %).')),0}let nO=(e,t,n,r,o,i)=>{let a=function(e,t,n){if("string"==typeof e||"number"==typeof e){let r=nA(e,n),o=nA(e,t);return{top:r,right:o,bottom:r,left:o,x:2*o,y:2*r}}if("object"==typeof e){var r,o,i,a,l,s,u,c;let d=nA(null!=(o=null!=(r=e.top)?r:e.y)?o:0,n),f=nA(null!=(a=null!=(i=e.bottom)?i:e.y)?a:0,n),h=nA(null!=(s=null!=(l=e.left)?l:e.x)?s:0,t),p=nA(null!=(c=null!=(u=e.right)?u:e.x)?c:0,t);return{top:d,right:p,bottom:f,left:h,x:h+p,y:d+f}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(i,t,n),l=nd(Math.min((t-a.x)/e.width,(n-a.y)/e.height),r,o),s=e.x+e.width/2,u=e.y+e.height/2,c=t/2-s*l,d=n/2-u*l,f=function(e,t,n,r,o,i){let{x:a,y:l}=nj(e,[t,n,r]),{x:s,y:u}=nj({x:e.x+e.width,y:e.y+e.height},[t,n,r]);return{left:Math.floor(a),top:Math.floor(l),right:Math.floor(o-s),bottom:Math.floor(i-u)}}(e,c,d,l,t,n),h={left:Math.min(f.left-a.left,0),top:Math.min(f.top-a.top,0),right:Math.min(f.right-a.right,0),bottom:Math.min(f.bottom-a.bottom,0)};return{x:c-h.left+h.right,y:d-h.top+h.bottom,zoom:l}},nN=()=>{var e,t;return"undefined"!=typeof navigator&&(null==(t=navigator)||null==(e=t.userAgent)?void 0:e.indexOf("Mac"))>=0};function nR(e){return null!=e&&"parent"!==e}function nz(e){var t,n,r,o,i,a,l,s;return{width:null!=(i=null!=(o=null!=(r=null==(t=e.measured)?void 0:t.width)?r:e.width)?o:e.initialWidth)?i:0,height:null!=(s=null!=(l=null!=(a=null==(n=e.measured)?void 0:n.height)?a:e.height)?l:e.initialHeight)?s:0}}function nP(e){var t,n,r,o,i,a;return(null!=(o=null!=(r=null==(t=e.measured)?void 0:t.width)?r:e.width)?o:e.initialWidth)!==void 0&&(null!=(a=null!=(i=null==(n=e.measured)?void 0:n.height)?i:e.height)?a:e.initialHeight)!==void 0}function nT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:0,height:0},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i={...e},a=r.get(n);if(a){var l,s;let e=a.origin||o;i.x+=a.internals.positionAbsolute.x-(null!=(l=t.width)?l:0)*e[0],i.y+=a.internals.positionAbsolute.y-(null!=(s=t.height)?s:0)*e[1]}return i}function nD(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function nL(e,t){var n,r;let{snapGrid:o=[0,0],snapToGrid:i=!1,transform:a,containerBounds:l}=t,{x:s,y:u}=nW(e),c=nM({x:s-(null!=(n=null==l?void 0:l.left)?n:0),y:u-(null!=(r=null==l?void 0:l.top)?r:0)},a),{x:d,y:f}=i?nk(c,o):c;return{xSnapped:d,ySnapped:f,...c}}let nI=e=>({width:e.offsetWidth,height:e.offsetHeight}),nF=e=>{var t,n;return(null==e||null==(t=e.getRootNode)?void 0:t.call(e))||(null==(n=window)?void 0:n.document)},nB=["INPUT","SELECT","TEXTAREA"];function nH(e){var t,n;let r=(null==(n=e.composedPath)||null==(t=n.call(e))?void 0:t[0])||e.target;return(null==r?void 0:r.nodeType)===1&&(nB.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey"))}let nW=(e,t)=>{var n,r,o,i;let a="clientX"in e,l=a?e.clientX:null==(n=e.touches)?void 0:n[0].clientX,s=a?e.clientY:null==(r=e.touches)?void 0:r[0].clientY;return{x:l-(null!=(o=null==t?void 0:t.left)?o:0),y:s-(null!=(i=null==t?void 0:t.top)?i:0)}},nV=(e,t,n,r,o)=>{let i=t.querySelectorAll(".".concat(e));return i&&i.length?Array.from(i).map(t=>{let i=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:o,position:t.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r,...nI(t)}}):null};function nU(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:l,targetControlY:s}=e,u=.125*t+.375*i+.375*l+.125*r,c=.125*n+.375*a+.375*s+.125*o,d=Math.abs(u-t),f=Math.abs(c-n);return[u,c,d,f]}function nY(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function nX(e){let{pos:t,x1:n,y1:r,x2:o,y2:i,c:a}=e;switch(t){case l.Left:return[n-nY(n-o,a),r];case l.Right:return[n+nY(o-n,a),r];case l.Top:return[n,r-nY(r-i,a)];case l.Bottom:return[n,r+nY(i-r,a)]}}function nG(e){let{sourceX:t,sourceY:n,sourcePosition:r=l.Bottom,targetX:o,targetY:i,targetPosition:a=l.Top,curvature:s=.25}=e,[u,c]=nX({pos:r,x1:t,y1:n,x2:o,y2:i,c:s}),[d,f]=nX({pos:a,x1:o,y1:i,x2:t,y2:n,c:s}),[h,p,g,v]=nU({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:u,sourceControlY:c,targetControlX:d,targetControlY:f});return["M".concat(t,",").concat(n," C").concat(u,",").concat(c," ").concat(d,",").concat(f," ").concat(o,",").concat(i),h,p,g,v]}function nq(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e,i=Math.abs(r-t)/2,a=Math.abs(o-n)/2;return[r<t?r+i:r-i,o<n?o+a:o-a,i,a]}function nK(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e,[i,a,l,s]=nq({sourceX:t,sourceY:n,targetX:r,targetY:o});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(o),i,a,l,s]}let nZ={[l.Left]:{x:-1,y:0},[l.Right]:{x:1,y:0},[l.Top]:{x:0,y:-1},[l.Bottom]:{x:0,y:1}},n$=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nQ(e){let{sourceX:t,sourceY:n,sourcePosition:r=l.Bottom,targetX:o,targetY:i,targetPosition:a=l.Top,borderRadius:s=5,centerX:u,centerY:c,offset:d=20,stepPosition:f=.5}=e,[h,p,g,v,m]=function(e){let t,n,{source:r,sourcePosition:o=l.Bottom,target:i,targetPosition:a=l.Top,center:s,offset:u,stepPosition:c}=e,d=nZ[o],f=nZ[a],h={x:r.x+d.x*u,y:r.y+d.y*u},p={x:i.x+f.x*u,y:i.y+f.y*u},g=(e=>{let{source:t,sourcePosition:n=l.Bottom,target:r}=e;return n===l.Left||n===l.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:h,sourcePosition:o,target:p}),v=0!==g.x?"x":"y",m=g[v],y=[],b={x:0,y:0},x={x:0,y:0},[,,w,S]=nq({sourceX:r.x,sourceY:r.y,targetX:i.x,targetY:i.y});if(d[v]*f[v]==-1){var E,_,C,k;"x"===v?(t=null!=(E=s.x)?E:h.x+(p.x-h.x)*c,n=null!=(_=s.y)?_:(h.y+p.y)/2):(t=null!=(C=s.x)?C:(h.x+p.x)/2,n=null!=(k=s.y)?k:h.y+(p.y-h.y)*c);let e=[{x:t,y:h.y},{x:t,y:p.y}],r=[{x:h.x,y:n},{x:p.x,y:n}];y=d[v]===m?"x"===v?e:r:"x"===v?r:e}else{let e=[{x:h.x,y:p.y}],l=[{x:p.x,y:h.y}];if(y="x"===v?d.x===m?l:e:d.y===m?e:l,o===a){let e=Math.abs(r[v]-i[v]);if(e<=u){let t=Math.min(u-1,u-e);d[v]===m?b[v]=(h[v]>r[v]?-1:1)*t:x[v]=(p[v]>i[v]?-1:1)*t}}if(o!==a){let t="x"===v?"y":"x",n=d[v]===f[t],r=h[t]>p[t],o=h[t]<p[t];(1===d[v]&&(!n&&r||n&&o)||1!==d[v]&&(!n&&o||n&&r))&&(y="x"===v?e:l)}let s={x:h.x+b.x,y:h.y+b.y},c={x:p.x+x.x,y:p.y+x.y};Math.max(Math.abs(s.x-y[0].x),Math.abs(c.x-y[0].x))>=Math.max(Math.abs(s.y-y[0].y),Math.abs(c.y-y[0].y))?(t=(s.x+c.x)/2,n=y[0].y):(t=y[0].x,n=(s.y+c.y)/2)}return[[r,{x:h.x+b.x,y:h.y+b.y},...y,{x:p.x+x.x,y:p.y+x.y},i],t,n,w,S]}({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:a,center:{x:u,y:c},offset:d,stepPosition:f});return[h.reduce((e,t,n)=>e+(n>0&&n<h.length-1?function(e,t,n,r){let o=Math.min(n$(e,t)/2,n$(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return"L".concat(i," ").concat(a);if(e.y===a){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(i+o*t,",").concat(a,"Q ").concat(i,",").concat(a," ").concat(i,",").concat(a+o*r)}let l=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return"L ".concat(i,",").concat(a+o*s,"Q ").concat(i,",").concat(a," ").concat(i+o*l,",").concat(a)}(h[n-1],t,h[n+1],s):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y)),""),p,g,v,m]}function nJ(e){var t;return e&&!!(e.internals.handleBounds||(null==(t=e.handles)?void 0:t.length))&&!!(e.measured.width||e.width||e.initialWidth)}function n0(e){if(!e)return null;let t=[],n=[];for(let i of e){var r,o;i.width=null!=(r=i.width)?r:1,i.height=null!=(o=i.height)?o:1,"source"===i.type?t.push(i):"target"===i.type&&n.push(i)}return{source:t,target:n}}function n1(e,t){var n,r,o;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.Left,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(null!=(n=null==t?void 0:t.x)?n:0)+e.internals.positionAbsolute.x,u=(null!=(r=null==t?void 0:t.y)?r:0)+e.internals.positionAbsolute.y,{width:c,height:d}=null!=t?t:nz(e);if(a)return{x:s+c/2,y:u+d/2};switch(null!=(o=null==t?void 0:t.position)?o:i){case l.Top:return{x:s+c/2,y:u};case l.Right:return{x:s+c,y:u+d/2};case l.Bottom:return{x:s+c/2,y:u+d};case l.Left:return{x:s,y:u+d/2}}}function n2(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function n5(e,t){return e?"string"==typeof e?e:"".concat(t?"".concat(t,"__"):"").concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&")):""}let n3={nodeOrigin:[0,0],nodeExtent:t6,elevateNodesOnSelect:!0,defaults:{}},n4={...n3,checkEquality:!0};function n6(e,t){let n={...e};for(let e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function n8(e,t,n,r){let o=n6(n4,r),i=e.length>0,a=new Map(t),l=1e3*(null!=o&&!!o.elevateNodesOnSelect);for(let c of(t.clear(),n.clear(),e)){let e=a.get(c.id);if(o.checkEquality&&c===(null==e?void 0:e.internals.userNode))t.set(c.id,e);else{var s,u;let n=nf(no(c,o.nodeOrigin),nR(c.extent)?c.extent:o.nodeExtent,nz(c));e={...o.defaults,...c,measured:{width:null==(s=c.measured)?void 0:s.width,height:null==(u=c.measured)?void 0:u.height},internals:{positionAbsolute:n,handleBounds:function(e,t){if(!e.handles)return e.measured?null==t?void 0:t.internals.handleBounds:void 0;let n=[],r=[];for(let t of e.handles){var o,i;let a={id:t.id,width:null!=(o=t.width)?o:1,height:null!=(i=t.height)?i:1,nodeId:e.id,x:t.x,y:t.y,position:t.position,type:t.type};"source"===t.type?n.push(a):"target"===t.type&&r.push(a)}return{source:n,target:r}}(c,e),z:n7(c,l),userNode:c}},t.set(c.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(i=!1),c.parentId&&n9(e,t,n,r)}return i}function n9(e,t,n,r){let{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=n6(n3,r),l=e.parentId,s=t.get(l);if(!s)return void console.warn("Parent node ".concat(l," not found. Please make sure that parent nodes are in front of their child nodes in the nodes array."));!function(e,t){if(!e.parentId)return;let n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n);let{x:u,y:c,z:d}=function(e,t,n,r,o){var i;let{x:a,y:l}=t.internals.positionAbsolute,s=nz(e),u=no(e,n),c=nR(e.extent)?nf(u,e.extent,s):u,d=nf({x:a+c.x,y:l+c.y},r,s);"parent"===e.extent&&(d=nh(d,s,t));let f=n7(e,o),h=null!=(i=t.internals.z)?i:0;return{x:d.x,y:d.y,z:h>=f?h+1:f}}(e,s,i,a,1e3*!!o),{positionAbsolute:f}=e.internals,h=u!==f.x||c!==f.y;(h||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:h?{x:u,y:c}:f,z:d}})}function n7(e,t){return(n_(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function re(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0],o=[],i=new Map;for(let n of e){var a,l;let e=t.get(n.parentId);if(!e)continue;let r=nw(null!=(l=null==(a=i.get(n.parentId))?void 0:a.expandedRect)?l:nb(e),n.rect);i.set(n.parentId,{expandedRect:r,parent:e})}return i.size>0&&i.forEach((t,i)=>{var a,l;let{expandedRect:s,parent:u}=t,c=u.internals.positionAbsolute,d=nz(u),f=null!=(a=u.origin)?a:r,h=s.x<c.x?Math.round(Math.abs(c.x-s.x)):0,p=s.y<c.y?Math.round(Math.abs(c.y-s.y)):0,g=Math.max(d.width,Math.round(s.width)),v=Math.max(d.height,Math.round(s.height)),m=(g-d.width)*f[0],y=(v-d.height)*f[1];(h>0||p>0||m||y)&&(o.push({id:i,type:"position",position:{x:u.position.x-h+m,y:u.position.y-p+y}}),null==(l=n.get(i))||l.forEach(t=>{e.some(e=>e.id===t.id)||o.push({id:t.id,type:"position",position:{x:t.position.x+h,y:t.position.y+p}})})),(d.width<s.width||d.height<s.height||h||p)&&o.push({id:i,type:"dimensions",setAttributes:!0,dimensions:{width:g+(h?f[0]*h-m:0),height:v+(p?f[1]*p-y:0)}})}),o}async function rt(e){let{delta:t,panZoom:n,transform:r,translateExtent:o,width:i,height:a}=e;if(!n||!t.x&&!t.y)return Promise.resolve(!1);let l=await n.setViewportConstrained({x:r[0]+t.x,y:r[1]+t.y,zoom:r[2]},[[0,0],[i,a]],o);return Promise.resolve(!!l&&(l.x!==r[0]||l.y!==r[1]||l.k!==r[2]))}function rn(e,t,n,r,o,i){let a=o,l=r.get(a)||new Map;r.set(a,l.set(n,t)),a="".concat(o,"-").concat(e);let s=r.get(a)||new Map;if(r.set(a,s.set(n,t)),i){a="".concat(o,"-").concat(e,"-").concat(i);let l=r.get(a)||new Map;r.set(a,l.set(n,t))}}function rr(e,t,n){for(let r of(e.clear(),t.clear(),n)){let{source:n,target:o,sourceHandle:i=null,targetHandle:a=null}=r,l={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:a},s="".concat(n,"-").concat(i,"--").concat(o,"-").concat(a);rn("source",l,"".concat(o,"-").concat(a,"--").concat(n,"-").concat(i),e,n,i),rn("target",l,s,e,o,a),t.set(r.id,r)}}function ro(e,t,n){let r=e;do{var o;if(null==r||null==(o=r.matches)?void 0:o.call(r,t))return!0;if(r===n)break;r=null==r?void 0:r.parentElement}while(r)return!1}function ri(e){var t,n,r;let{nodeId:o,dragItems:i,nodeLookup:a,dragging:l=!0}=e,s=[];for(let[e,t]of i){let n=null==(r=a.get(e))?void 0:r.internals.userNode;n&&s.push({...n,position:t.position,dragging:l})}if(!o)return[s[0],s];let u=null==(t=a.get(o))?void 0:t.internals.userNode;return[u?{...u,position:(null==(n=i.get(o))?void 0:n.position)||u.position,dragging:l}:s[0],s]}function ra(e,t,n,r,o){var i,a,l,s,u,c;let d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=r.get(e);if(!f)return null;let h="strict"===o?null==(i=f.internals.handleBounds)?void 0:i[t]:[...null!=(s=null==(a=f.internals.handleBounds)?void 0:a.source)?s:[],...null!=(u=null==(l=f.internals.handleBounds)?void 0:l.target)?u:[]],p=null!=(c=n?null==h?void 0:h.find(e=>e.id===n):null==h?void 0:h[0])?c:null;return p&&d?{...p,...n1(f,p,p.position,!0)}:p}function rl(e,t){return e?e:(null==t?void 0:t.classList.contains("target"))?"target":(null==t?void 0:t.classList.contains("source"))?"source":null}let rs=()=>!0;function ru(e,t){let{handle:r,connectionMode:o,fromNodeId:i,fromHandleId:a,fromType:l,doc:s,lib:u,flowId:c,isValidConnection:d=rs,nodeLookup:f}=t,h="target"===l,p=r?s.querySelector(".".concat(u,'-flow__handle[data-id="').concat(c,"-").concat(null==r?void 0:r.nodeId,"-").concat(null==r?void 0:r.id,"-").concat(null==r?void 0:r.type,'"]')):null,{x:g,y:v}=nW(e),m=s.elementFromPoint(g,v),y=(null==m?void 0:m.classList.contains("".concat(u,"-flow__handle")))?m:p,b={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){let e=rl(void 0,y),t=y.getAttribute("data-nodeid"),r=y.getAttribute("data-handleid"),l=y.classList.contains("connectable"),s=y.classList.contains("connectableend");if(!t||!e)return b;let u={source:h?t:i,sourceHandle:h?r:a,target:h?i:t,targetHandle:h?a:r};b.connection=u,b.isValid=l&&s&&(o===n.Strict?h&&"source"===e||!h&&"target"===e:t!==i||r!==a)&&d(u),b.toHandle=ra(t,e,r,f,o,!0)}return b}let rc={onPointerDown:function(e,t){let n,{connectionMode:r,connectionRadius:o,handleId:i,nodeId:a,edgeUpdaterType:s,isTarget:u,domNode:c,nodeLookup:d,lib:f,autoPanOnConnect:h,flowId:p,panBy:g,cancelConnection:v,onConnectStart:m,onConnect:y,onConnectEnd:b,isValidConnection:x=rs,onReconnectEnd:w,updateConnection:S,getTransform:E,getFromHandle:_,autoPanSpeed:C,dragThreshold:k=1,handleDomNode:M}=t,j=nF(e.target),A=0,{x:O,y:N}=nW(e),R=rl(s,M),z=null==c?void 0:c.getBoundingClientRect(),P=!1;if(!z||!R)return;let T=ra(a,R,i,d,r);if(!T)return;let D=nW(e,z),L=!1,I=null,F=!1,B=null,H={...T,nodeId:a,type:R,position:T.position},W=d.get(a),V={inProgress:!0,isValid:null,from:n1(W,H,l.Left,!0),fromHandle:H,fromPosition:H.position,fromNode:W,to:D,toHandle:null,toPosition:ne[H.position],toNode:null};function U(){P=!0,S(V),null==m||m(e,{nodeId:a,handleId:i,handleType:R})}function Y(e){var t,l;let s;if(!P){let{x:t,y:n}=nW(e),r=t-O,o=n-N;if(!(r*r+o*o>k*k))return;U()}if(!_()||!H)return void X(e);let c=E();n=function(e,t,n,r){var o,i,a,l,s;let u=[],c=1/0;for(let s of function(e,t,n){let r=[],o={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(let e of t.values())nS(o,nb(e))>0&&r.push(e);return r}(e,n,t+250))for(let n of[...null!=(a=null==(o=s.internals.handleBounds)?void 0:o.source)?a:[],...null!=(l=null==(i=s.internals.handleBounds)?void 0:i.target)?l:[]]){if(r.nodeId===n.nodeId&&r.type===n.type&&r.id===n.id)continue;let{x:o,y:i}=n1(s,n,n.position,!0),a=Math.sqrt(Math.pow(o-e.x,2)+Math.pow(i-e.y,2));a>t||(a<c?(u=[{...n,x:o,y:i}],c=a):a===c&&u.push({...n,x:o,y:i}))}if(!u.length)return null;if(u.length>1){let e="source"===r.type?"target":"source";return null!=(s=u.find(t=>t.type===e))?s:u[0]}return u[0]}(nM(D=nW(e,z),c,!1,[1,1]),o,d,H),L||(!function e(){if(!h||!z)return;let[t,n]=ng(D,z,C);g({x:t,y:n}),A=requestAnimationFrame(e)}(),L=!0);let v=ru(e,{handle:n,connectionMode:r,fromNodeId:a,fromHandleId:i,fromType:u?"target":"source",isValidConnection:x,doc:j,lib:f,flowId:p,nodeLookup:d});B=v.handleDomNode,I=v.connection,t=!!n,l=v.isValid,s=null,l?s=!0:t&&!l&&(s=!1),F=s;let m={...V,isValid:F,to:v.toHandle&&F?nj({x:v.toHandle.x,y:v.toHandle.y},c):D,toHandle:v.toHandle,toPosition:F&&v.toHandle?v.toHandle.position:ne[H.position],toNode:v.toHandle?d.get(v.toHandle.nodeId):null};F&&n&&V.toHandle&&m.toHandle&&V.toHandle.type===m.toHandle.type&&V.toHandle.nodeId===m.toHandle.nodeId&&V.toHandle.id===m.toHandle.id&&V.to.x===m.to.x&&V.to.y===m.to.y||(S(m),V=m)}function X(e){if(!("touches"in e)||!(e.touches.length>0)){if(P){(n||B)&&I&&F&&(null==y||y(I));let{inProgress:t,...r}=V,o={...r,toPosition:V.toHandle?V.toPosition:null};null==b||b(e,o),s&&(null==w||w(e,o))}v(),cancelAnimationFrame(A),L=!1,F=!1,I=null,B=null,j.removeEventListener("mousemove",Y),j.removeEventListener("mouseup",X),j.removeEventListener("touchmove",Y),j.removeEventListener("touchend",X)}}0===k&&U(),j.addEventListener("mousemove",Y),j.addEventListener("mouseup",X),j.addEventListener("touchmove",Y),j.addEventListener("touchend",X)},isValid:ru},rd=e=>({x:e.x,y:e.y,zoom:e.k}),rf=e=>{let{x:t,y:n,zoom:r}=e;return tG.translate(t,n).scale(r)},rh=(e,t)=>e.target.closest(".".concat(t)),rp=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),rg=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,rv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rg,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},o="number"==typeof t&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},rm=e=>{let t=e.ctrlKey&&nN()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function ry(e,t){return Math.max(0,t-e)}function rb(e,t){return Math.max(0,e-t)}function rx(e,t,n){return Math.max(0,t-e,e-n)}!function(e){e.Line="line",e.Handle="handle"}(s||(s={}));let rw={width:0,height:0,x:0,y:0},rS={...rw,pointerX:0,pointerY:0,aspectRatio:1};var rE=e.i(30224);let r_={get url(){return`file://${e.P("node_modules/zustand/esm/vanilla.mjs")}`}},rC=e=>{let t,n=new Set,r=(e,r)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{(r_.env?r_.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},{useDebugValue:rk}=d.default,{useSyncExternalStoreWithSelector:rM}=rE.default,rj=e=>e;function rA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rj,n=arguments.length>2?arguments[2]:void 0,r=rM(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return rk(r),r}let rO=(e,t)=>{let n=(e=>e?rC(e):rC)(e),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return rA(n,e,r)};return Object.assign(r,n),r};function rN(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}e.i(74080);let rR=(0,d.createContext)(null),rz=rR.Provider,rP=t4.error001();function rT(e,t){let n=(0,d.useContext)(rR);if(null===n)throw Error(rP);return rA(n,e,t)}function rD(){let e=(0,d.useContext)(rR);if(null===e)throw Error(rP);return(0,d.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let rL={display:"none"},rI={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rF="react-flow__node-desc",rB="react-flow__edge-desc",rH=e=>e.ariaLiveMessage,rW=e=>e.ariaLabelConfig;function rV(e){let{rfId:t}=e,n=rT(rH);return(0,c.jsx)("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:rI,children:n})}function rU(e){let{rfId:t,disableKeyboardA11y:n}=e,r=rT(rW);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{id:"".concat(rF,"-").concat(t),style:rL,children:n?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),(0,c.jsx)("div",{id:"".concat(rB,"-").concat(t),style:rL,children:r["edge.a11yDescription.default"]}),!n&&(0,c.jsx)(rV,{rfId:t})]})}let rY=(0,d.forwardRef)((e,t)=>{let{position:n="top-left",children:r,className:o,style:i,...a}=e,l="".concat(n).split("-");return(0,c.jsx)("div",{className:f(["react-flow__panel",o,...l]),style:i,ref:t,...a,children:r})});function rX(e){let{proOptions:t,position:n="bottom-right"}=e;return(null==t?void 0:t.hideAttribution)?null:(0,c.jsx)(rY,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,c.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}rY.displayName="Panel";let rG=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},rq=e=>e.id;function rK(e,t){return rN(e.selectedNodes.map(rq),t.selectedNodes.map(rq))&&rN(e.selectedEdges.map(rq),t.selectedEdges.map(rq))}function rZ(e){let{onSelectionChange:t}=e,n=rD(),{selectedNodes:r,selectedEdges:o}=rT(rG,rK);return(0,d.useEffect)(()=>{let e={nodes:r,edges:o};null==t||t(e),n.getState().onSelectionChangeHandlers.forEach(t=>t(e))},[r,o,t]),null}let r$=e=>!!e.onSelectionChangeHandlers;function rQ(e){let{onSelectionChange:t}=e,n=rT(r$);return t||n?(0,c.jsx)(rZ,{onSelectionChange:t}):null}let rJ=[0,0],r0={x:0,y:0,zoom:1},r1=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig","rfId"],r2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),r5={translateExtent:t6,nodeOrigin:rJ,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function r3(e){let{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:a,reset:l,setDefaultNodesAndEdges:s,setPaneClickDistance:u}=rT(r2,rN),c=rD();(0,d.useEffect)(()=>(s(e.defaultNodes,e.defaultEdges),()=>{f.current=r5,l()}),[]);let f=(0,d.useRef)(r5);return(0,d.useEffect)(()=>{for(let l of r1){let s=e[l];if(s!==f.current[l]&&void 0!==e[l])if("nodes"===l)t(s);else if("edges"===l)n(s);else if("minZoom"===l)r(s);else if("maxZoom"===l)o(s);else if("translateExtent"===l)i(s);else if("nodeExtent"===l)a(s);else if("paneClickDistance"===l)u(s);else if("ariaLabelConfig"===l)c.setState({ariaLabelConfig:{...t9,...s||{}}});else"fitView"===l?c.setState({fitViewQueued:s}):"fitViewOptions"===l?c.setState({fitViewOptions:s}):c.setState({[l]:s})}f.current=e},r1.map(t=>e[t])),null}function r4(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}let r6="undefined"!=typeof document?document:null;function r8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:r6,actInsideInputWithModifier:!0},[n,r]=(0,d.useState)(!1),o=(0,d.useRef)(!1),i=(0,d.useRef)(new Set([])),[a,l]=(0,d.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,d.useEffect)(()=>{var n,s;let u=null!=(n=null==t?void 0:t.target)?n:r6,c=null==(s=null==t?void 0:t.actInsideInputWithModifier)||s;if(null!==e){let e=e=>{if(o.current=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey,(!o.current||o.current&&!c)&&nH(e))return!1;let n=r7(e.code,l);if(i.current.add(e[n]),r9(a,i.current,!1)){var s,u;let n=(null==(u=e.composedPath)||null==(s=u.call(e))?void 0:s[0])||e.target,i=(null==n?void 0:n.nodeName)==="BUTTON"||(null==n?void 0:n.nodeName)==="A";!1!==t.preventDefault&&(o.current||!i)&&e.preventDefault(),r(!0)}},n=e=>{let t=r7(e.code,l);r9(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(e[t]),"Meta"===e.key&&i.current.clear(),o.current=!1},s=()=>{i.current.clear(),r(!1)};return null==u||u.addEventListener("keydown",e),null==u||u.addEventListener("keyup",n),window.addEventListener("blur",s),window.addEventListener("contextmenu",s),()=>{null==u||u.removeEventListener("keydown",e),null==u||u.removeEventListener("keyup",n),window.removeEventListener("blur",s),window.removeEventListener("contextmenu",s)}}},[e,r]),n}function r9(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function r7(e,t){return t.includes(e)?"code":"key"}function oe(e,t){let n=[],r=new Map,o=[];for(let t of e)if("add"===t.type){o.push(t);continue}else if("remove"===t.type||"replace"===t.type)r.set(t.id,[t]);else{let e=r.get(t.id);e?e.push(t):r.set(t.id,[t])}for(let e of t){let t=r.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let o={...e};for(let e of t)!function(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(null!=t.measured||(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((!0===e.setAttributes||"width"===e.setAttributes)&&(t.width=e.dimensions.width),(!0===e.setAttributes||"height"===e.setAttributes)&&(t.height=e.dimensions.height)));"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}}(e,o);n.push(o)}return o.length&&o.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function ot(e,t){return oe(e,t)}function on(e,t){return{id:e,type:"select",selected:t}}function or(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];for(let[o,i]of e){let e=t.has(o);(void 0!==i.selected||e)&&i.selected!==e&&(n&&(i.selected=e),r.push(on(i.id,e)))}return r}function oo(e){let{items:t=[],lookup:n}=e,r=[],o=new Map(t.map(e=>[e.id,e]));for(let[e,o]of t.entries()){var i,a;let t=n.get(o.id),l=null!=(a=null==t||null==(i=t.internals)?void 0:i.userNode)?a:t;void 0!==l&&l!==o&&r.push({id:o.id,item:o,type:"replace"}),void 0===l&&r.push({item:o,type:"add",index:e})}for(let[e]of n)void 0===o.get(e)&&r.push({id:e,type:"remove"});return r}function oi(e){return{id:e.id,type:"remove"}}let oa=e=>(e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e))(e);function ol(e){return(0,d.forwardRef)(e)}let os="undefined"!=typeof window?d.useLayoutEffect:d.useEffect;function ou(e){let[t,n]=(0,d.useState)(BigInt(0)),[r]=(0,d.useState)(()=>{var e;let t;return e=()=>n(e=>e+BigInt(1)),t=[],{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}});return os(()=>{let t=r.get();t.length&&(e(t),r.reset())},[t]),r}let oc=(0,d.createContext)(null);function od(e){let{children:t}=e,n=rD(),r=ou((0,d.useCallback)(e=>{let{nodes:t=[],setNodes:r,hasDefaultNodes:o,onNodesChange:i,nodeLookup:a,fitViewQueued:l}=n.getState(),s=t;for(let t of e)s="function"==typeof t?t(s):t;let u=oo({items:s,lookup:a});o&&r(s),u.length>0?null==i||i(u):l&&window.requestAnimationFrame(()=>{let{fitViewQueued:e,nodes:t,setNodes:r}=n.getState();e&&r(t)})},[])),o=ou((0,d.useCallback)(e=>{let{edges:t=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i,edgeLookup:a}=n.getState(),l=t;for(let t of e)l="function"==typeof t?t(l):t;o?r(l):i&&i(oo({items:l,lookup:a}))},[])),i=(0,d.useMemo)(()=>({nodeQueue:r,edgeQueue:o}),[]);return(0,c.jsx)(oc.Provider,{value:i,children:t})}let of=e=>!!e.panZoom;function oh(){let e=(()=>{let e=rD();return(0,d.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:null==t?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:null==t?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:null==n?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{var r,o,i;let{transform:[a,l,s],panZoom:u}=e.getState();return u?(await u.setViewport({x:null!=(r=t.x)?r:a,y:null!=(o=t.y)?o:l,zoom:null!=(i=t.zoom)?i:s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{var r;let{width:o,height:i,minZoom:a,maxZoom:l,panZoom:s}=e.getState(),u=nO(t,o,i,a,l,null!=(r=null==n?void 0:n.padding)?r:.1);return s?(await s.setViewport(u,{duration:null==n?void 0:n.duration,ease:null==n?void 0:n.ease,interpolate:null==n?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:function(t){var n,r;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{transform:i,snapGrid:a,snapToGrid:l,domNode:s}=e.getState();if(!s)return t;let{x:u,y:c}=s.getBoundingClientRect(),d={x:t.x-u,y:t.y-c},f=null!=(n=o.snapGrid)?n:a;return nM(d,i,null!=(r=o.snapToGrid)?r:l,f)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:o,y:i}=r.getBoundingClientRect(),a=nj(t,n);return{x:a.x+o,y:a.y+i}}}),[])})(),t=rD(),n=function(){let e=(0,d.useContext)(oc);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),r=rT(of),o=(0,d.useMemo)(()=>{let e=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},o=e=>{n.edgeQueue.push(e)},i=e=>{var n,r,o,i;let{nodeLookup:a,nodeOrigin:l}=t.getState(),s=oa(e)?e:a.get(e.id),u=s.parentId?nT(s.position,s.measured,s.parentId,a,l):s.position;return nb({...s,position:u,width:null!=(o=null==(n=s.measured)?void 0:n.width)?o:s.width,height:null!=(i=null==(r=s.measured)?void 0:r.height)?i:s.height})},a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};r(r=>r.map(r=>{if(r.id===e){let e="function"==typeof t?t(r):t;return n.replace&&oa(e)?e:{...r,...e}}return r}))},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};o(r=>r.map(r=>{if(r.id===e){let e="function"==typeof t?t(r):t;return n.replace&&nn(e)?e:{...r,...e}}return r}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>{var n;return null==(n=e(t))?void 0:n.internals.userNode},getInternalNode:e,getEdges:()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:o,addNodes:e=>{let t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:n=[],transform:r}=t.getState(),[o,i,a]=r;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:o,y:i,zoom:a}}},deleteElements:async e=>{let{nodes:n=[],edges:r=[]}=e,{nodes:o,edges:i,onNodesDelete:a,onEdgesDelete:l,triggerNodeChanges:s,triggerEdgeChanges:u,onDelete:c,onBeforeDelete:d}=t.getState(),{nodes:f,edges:h}=await nc({nodesToRemove:n,edgesToRemove:r,nodes:o,edges:i,onBeforeDelete:d}),p=h.length>0,g=f.length>0;if(p){let e=h.map(oi);null==l||l(h),u(e)}if(g){let e=f.map(oi);null==a||a(f),s(e)}return(g||p)&&(null==c||c({nodes:f,edges:h})),{deletedNodes:f,deletedEdges:h}},getIntersectingNodes:function(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,o=nE(e),a=o?e:i(e),l=void 0!==r;return a?(r||t.getState().nodes).filter(r=>{let i=t.getState().nodeLookup.get(r.id);if(i&&!o&&(r.id===e.id||!i.internals.positionAbsolute))return!1;let s=nb(l?r:i),u=nS(s,a);return n&&u>0||u>=s.width*s.height||u>=a.width*a.height}):[]},isNodeIntersecting:function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=nE(e)?e:i(e);if(!r)return!1;let o=nS(r,t);return n&&o>0||o>=t.width*t.height||o>=r.width*r.height},updateNode:a,updateNodeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};a(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},updateEdge:l,updateEdgeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};l(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},getNodesBounds:e=>{let{nodeLookup:n,nodeOrigin:r}=t.getState();return ni(e,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:e=>{var n,r;let{type:o,id:i,nodeId:a}=e;return Array.from(null!=(r=null==(n=t.getState().connectionLookup.get("".concat(a,"-").concat(o).concat(i?"-".concat(i):"")))?void 0:n.values())?r:[])},getNodeConnections:e=>{var n,r;let{type:o,handleId:i,nodeId:a}=e;return Array.from(null!=(r=null==(n=t.getState().connectionLookup.get("".concat(a).concat(o?i?"-".concat(o,"-").concat(i):"-".concat(o):"")))?void 0:n.values())?r:[])},fitView:async e=>{var r;let o,i,a=null!=(r=t.getState().fitViewResolver)?r:{promise:new Promise((e,t)=>{o=e,i=t}),resolve:o,reject:i};return t.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:a}),n.nodeQueue.push(e=>[...e]),a.promise}}},[]);return(0,d.useMemo)(()=>({...o,...e,viewportInitialized:r}),[r])}let op=e=>e.selected,og="undefined"!=typeof window?window:void 0,ov={position:"absolute",width:"100%",height:"100%",top:0,left:0},om=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function oy(e){let{onPaneContextMenu:t,zoomOnScroll:n=!0,zoomOnPinch:o=!0,panOnScroll:i=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=r.Free,zoomOnDoubleClick:s=!0,panOnDrag:u=!0,defaultViewport:f,translateExtent:h,minZoom:p,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:m=!0,children:y,noWheelClassName:b,noPanClassName:x,onViewportChange:w,isControlledViewport:S,paneClickDistance:E}=e,_=rD(),C=(0,d.useRef)(null),{userSelectionActive:k,lib:M,connectionInProgress:j}=rT(om,rN),A=r8(v),O=(0,d.useRef)(),N=rD();(0,d.useEffect)(()=>{let e=()=>{var e,t,n,r,o;if(!C.current||!(null==(n=null==(e=(t=C.current).checkVisibility)?void 0:e.call(t))||n))return!1;let i=nI(C.current);(0===i.height||0===i.width)&&(null==(r=(o=N.getState()).onError)||r.call(o,"004",t4.error004())),N.setState({width:i.width||500,height:i.height||500})};if(C.current){e(),window.addEventListener("resize",e);let t=new ResizeObserver(()=>e());return t.observe(C.current),()=>{window.removeEventListener("resize",e),t&&C.current&&t.unobserve(C.current)}}},[]);let R=(0,d.useCallback)(e=>{null==w||w({x:e[0],y:e[1],zoom:e[2]}),S||_.setState({transform:e})},[w,S]);return(0,d.useEffect)(()=>{if(C.current){O.current=function(e){let{domNode:t,minZoom:n,maxZoom:o,paneClickDistance:i,translateExtent:a,viewport:l,onPanZoom:s,onPanZoomStart:u,onPanZoomEnd:c,onDraggingChange:d}=e,f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),p=t5().clickDistance(!n_(i)||i<0?0:i).scaleExtent([n,o]).translateExtent(a),g=eo(t).call(p);x({x:l.x,y:l.y,zoom:nd(l.zoom,n,o)},[[0,0],[h.width,h.height]],a);let v=g.on("wheel.zoom"),m=g.on("dblclick.zoom");function y(e,t){return g?new Promise(n=>{null==p||p.interpolate((null==t?void 0:t.interpolate)==="linear"?t3:ex).transform(rv(g,null==t?void 0:t.duration,null==t?void 0:t.ease,()=>n(!0)),e)}):Promise.resolve(!1)}function b(){p.on("zoom",null)}async function x(e,t,n){let r=rf(e),o=null==p?void 0:p.constrain()(r,t,n);return o&&await y(o),new Promise(e=>e(o))}return p.wheelDelta(rm),{update:function(e){let{noWheelClassName:t,noPanClassName:n,onPaneContextMenu:o,userSelectionActive:i,panOnScroll:a,panOnDrag:l,panOnScrollMode:h,panOnScrollSpeed:y,preventScrolling:x,zoomOnPinch:w,zoomOnScroll:S,zoomOnDoubleClick:E,zoomActivationKeyPressed:_,lib:C,onTransformChange:k,connectionInProgress:M}=e;i&&!f.isZoomingOrPanning&&b();let j=!a||_||i?function(e){let{noWheelClassName:t,preventScrolling:n,d3ZoomHandler:r}=e;return function(e,o){let i="wheel"===e.type,a=!n&&i&&!e.ctrlKey,l=rh(e,t);if(e.ctrlKey&&i&&l&&e.preventDefault(),a||l)return null;e.preventDefault(),r.call(this,e,o)}}({noWheelClassName:t,preventScrolling:x,d3ZoomHandler:v}):function(e){let{zoomPanValues:t,noWheelClassName:n,d3Selection:o,d3Zoom:i,panOnScrollMode:a,panOnScrollSpeed:l,zoomOnPinch:s,onPanZoomStart:u,onPanZoom:c,onPanZoomEnd:d}=e;return e=>{if(rh(e,n))return e.ctrlKey&&e.preventDefault(),!1;e.preventDefault(),e.stopImmediatePropagation();let f=o.property("__zoom").k||1;if(e.ctrlKey&&s){let t=ei(e),n=f*Math.pow(2,rm(e));i.scaleTo(o,n,t,e);return}let h=1===e.deltaMode?20:1,p=a===r.Vertical?0:e.deltaX*h,g=a===r.Horizontal?0:e.deltaY*h;!nN()&&e.shiftKey&&a!==r.Vertical&&(p=e.deltaY*h,g=0),i.translateBy(o,-(p/f)*l,-(g/f)*l,{internal:!0});let v=rd(o.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,null==u||u(e,v)),t.isPanScrolling&&(null==c||c(e,v),t.panScrollTimeout=setTimeout(()=>{null==d||d(e,v),t.isPanScrolling=!1},150))}}({zoomPanValues:f,noWheelClassName:t,d3Selection:g,d3Zoom:p,panOnScrollMode:h,panOnScrollSpeed:y,zoomOnPinch:w,onPanZoomStart:u,onPanZoom:s,onPanZoomEnd:c});if(g.on("wheel.zoom",j,{passive:!1}),!i){let e=function(e){let{zoomPanValues:t,onDraggingChange:n,onPanZoomStart:r}=e;return e=>{var o,i,a;if(null==(o=e.sourceEvent)?void 0:o.internal)return;let l=rd(e.transform);t.mouseButton=(null==(i=e.sourceEvent)?void 0:i.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=l,(null==(a=e.sourceEvent)?void 0:a.type)==="mousedown"&&n(!0),r&&(null==r||r(e.sourceEvent,l))}}({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:u});p.on("start",e);let t=function(e){let{zoomPanValues:t,panOnDrag:n,onPaneContextMenu:r,onTransformChange:o,onPanZoom:i}=e;return e=>{var a,l,s;t.usedRightMouseButton=!!(r&&rp(n,null!=(s=t.mouseButton)?s:0)),(null==(a=e.sourceEvent)?void 0:a.sync)||o([e.transform.x,e.transform.y,e.transform.k]),!i||(null==(l=e.sourceEvent)?void 0:l.internal)||null==i||i(e.sourceEvent,rd(e.transform))}}({zoomPanValues:f,panOnDrag:l,onPaneContextMenu:!!o,onPanZoom:s,onTransformChange:k});p.on("zoom",t);let n=function(e){let{zoomPanValues:t,panOnDrag:n,panOnScroll:r,onDraggingChange:o,onPanZoomEnd:i,onPaneContextMenu:a}=e;return e=>{var l,s;if(null==(l=e.sourceEvent)||!l.internal){let l,u;if(t.isZoomingOrPanning=!1,a&&rp(n,null!=(s=t.mouseButton)?s:0)&&!t.usedRightMouseButton&&e.sourceEvent&&a(e.sourceEvent),t.usedRightMouseButton=!1,o(!1),i&&(l=t.prevViewport,u=e.transform,l.x!==u.x||l.y!==u.y||l.zoom!==u.k)){let n=rd(e.transform);t.prevViewport=n,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{null==i||i(e.sourceEvent,n)},150*!!r)}}}}({zoomPanValues:f,panOnDrag:l,panOnScroll:a,onPaneContextMenu:o,onPanZoomEnd:c,onDraggingChange:d});p.on("end",n)}let A=function(e){let{zoomActivationKeyPressed:t,zoomOnScroll:n,zoomOnPinch:r,panOnDrag:o,panOnScroll:i,zoomOnDoubleClick:a,userSelectionActive:l,noWheelClassName:s,noPanClassName:u,lib:c,connectionInProgress:d}=e;return e=>{var f;let h=t||n,p=r&&e.ctrlKey,g="wheel"===e.type;if(1===e.button&&"mousedown"===e.type&&(rh(e,"".concat(c,"-flow__node"))||rh(e,"".concat(c,"-flow__edge"))))return!0;if(!o&&!h&&!i&&!a&&!r||l||d&&!g||rh(e,s)&&g||rh(e,u)&&(!g||i&&g&&!t)||!r&&e.ctrlKey&&g)return!1;if(!r&&"touchstart"===e.type&&(null==(f=e.touches)?void 0:f.length)>1)return e.preventDefault(),!1;if(!h&&!i&&!p&&g||!o&&("mousedown"===e.type||"touchstart"===e.type)||Array.isArray(o)&&!o.includes(e.button)&&"mousedown"===e.type)return!1;let v=Array.isArray(o)&&o.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||g)&&v}}({zoomActivationKeyPressed:_,panOnDrag:l,zoomOnScroll:S,panOnScroll:a,zoomOnDoubleClick:E,zoomOnPinch:w,userSelectionActive:i,noPanClassName:n,noWheelClassName:t,lib:C,connectionInProgress:M});p.filter(A),E?g.on("dblclick.zoom",m):g.on("dblclick.zoom",null)},destroy:b,setViewport:async function e(e,t){let n=rf(e);return await y(n,t),new Promise(e=>e(n))},setViewportConstrained:x,getViewport:function(){let e=g?tq(g.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return g?new Promise(n=>{null==p||p.interpolate((null==t?void 0:t.interpolate)==="linear"?t3:ex).scaleTo(rv(g,null==t?void 0:t.duration,null==t?void 0:t.ease,()=>n(!0)),e)}):Promise.resolve(!1)},scaleBy:function(e,t){return g?new Promise(n=>{null==p||p.interpolate((null==t?void 0:t.interpolate)==="linear"?t3:ex).scaleBy(rv(g,null==t?void 0:t.duration,null==t?void 0:t.ease,()=>n(!0)),e)}):Promise.resolve(!1)},setScaleExtent:function(e){null==p||p.scaleExtent(e)},setTranslateExtent:function(e){null==p||p.translateExtent(e)},syncViewport:function(e){if(g){let t=rf(e),n=g.property("__zoom");(n.k!==e.zoom||n.x!==e.x||n.y!==e.y)&&(null==p||p.transform(g,t,null,{sync:!0}))}},setClickDistance:function(e){let t=!n_(e)||e<0?0:e;null==p||p.clickDistance(t)}}}({domNode:C.current,minZoom:p,maxZoom:g,translateExtent:h,viewport:f,paneClickDistance:E,onDraggingChange:e=>_.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{let{onViewportChangeStart:n,onMoveStart:r}=_.getState();null==r||r(e,t),null==n||n(t)},onPanZoom:(e,t)=>{let{onViewportChange:n,onMove:r}=_.getState();null==r||r(e,t),null==n||n(t)},onPanZoomEnd:(e,t)=>{let{onViewportChangeEnd:n,onMoveEnd:r}=_.getState();null==r||r(e,t),null==n||n(t)}});let{x:e,y:t,zoom:n}=O.current.getViewport();return _.setState({panZoom:O.current,transform:[e,t,n],domNode:C.current.closest(".react-flow")}),()=>{var e;null==(e=O.current)||e.destroy()}}},[]),(0,d.useEffect)(()=>{var e;null==(e=O.current)||e.update({onPaneContextMenu:t,zoomOnScroll:n,zoomOnPinch:o,panOnScroll:i,panOnScrollSpeed:a,panOnScrollMode:l,zoomOnDoubleClick:s,panOnDrag:u,zoomActivationKeyPressed:A,preventScrolling:m,noPanClassName:x,userSelectionActive:k,noWheelClassName:b,lib:M,onTransformChange:R,connectionInProgress:j})},[t,n,o,i,a,l,s,u,A,m,x,k,b,M,R,j]),(0,c.jsx)("div",{className:"react-flow__renderer",ref:C,style:ov,children:y})}let ob=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ox(){let{userSelectionActive:e,userSelectionRect:t}=rT(ob,rN);return e&&t?(0,c.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}let ow=(e,t)=>n=>{n.target===t.current&&(null==e||e(n))},oS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function oE(e){let{isSelecting:t,selectionKeyPressed:n,selectionMode:r=o.Full,panOnDrag:i,selectionOnDrag:a,onSelectionStart:l,onSelectionEnd:s,onPaneClick:u,onPaneContextMenu:h,onPaneScroll:p,onPaneMouseEnter:g,onPaneMouseMove:v,onPaneMouseLeave:m,children:y}=e,b=rD(),{userSelectionActive:x,elementsSelectable:w,dragging:S,connectionInProgress:E}=rT(oS,rN),_=w&&(t||x),C=(0,d.useRef)(null),k=(0,d.useRef)(),M=(0,d.useRef)(new Set),j=(0,d.useRef)(new Set),A=(0,d.useRef)(!1),O=(0,d.useRef)(!1),N=e=>{if(A.current||E){A.current=!1;return}null==u||u(e),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},R=!0===i||Array.isArray(i)&&i.includes(0);return(0,c.jsxs)("div",{className:f(["react-flow__pane",{draggable:R,dragging:S,selection:t}]),onClick:_?void 0:ow(N,C),onContextMenu:ow(e=>{if(Array.isArray(i)&&(null==i?void 0:i.includes(2)))return void e.preventDefault();null==h||h(e)},C),onWheel:ow(p?e=>p(e):void 0,C),onPointerEnter:_?void 0:g,onPointerDown:_?e=>{var n,r;let{resetSelectedElements:o,domNode:i}=b.getState();if(k.current=null==i?void 0:i.getBoundingClientRect(),!w||!t||0!==e.button||e.target!==C.current||!k.current)return;null==(r=e.target)||null==(n=r.setPointerCapture)||n.call(r,e.pointerId),O.current=!0,A.current=!1;let{x:a,y:s}=nW(e.nativeEvent,k.current);o(),b.setState({userSelectionRect:{width:0,height:0,startX:a,startY:s,x:a,y:s}}),null==l||l(e)}:v,onPointerMove:_?e=>{var t,n;let{userSelectionRect:i,transform:a,nodeLookup:l,edgeLookup:s,connectionLookup:u,triggerNodeChanges:c,triggerEdgeChanges:d,defaultEdgeOptions:f}=b.getState();if(!k.current||!i)return;A.current=!0;let{x:h,y:p}=nW(e.nativeEvent,k.current),{startX:g,startY:v}=i,m={startX:g,startY:v,x:h<g?h:g,y:p<v?p:v,width:Math.abs(h-g),height:Math.abs(p-v)},y=M.current,x=j.current;M.current=new Set(nl(l,m,a,r===o.Partial,!0).map(e=>e.id)),j.current=new Set;let w=null==(t=null==f?void 0:f.selectable)||t;for(let e of M.current){let t=u.get(e);if(t)for(let{edgeId:e}of t.values()){let t=s.get(e);t&&(null!=(n=t.selectable)?n:w)&&j.current.add(e)}}nD(y,M.current)||c(or(l,M.current,!0)),nD(x,j.current)||d(or(s,j.current)),b.setState({userSelectionRect:m,userSelectionActive:!0,nodesSelectionActive:!1})}:v,onPointerUp:_?e=>{var t,r;if(0!==e.button||!O.current)return;null==(r=e.target)||null==(t=r.releasePointerCapture)||t.call(r,e.pointerId);let{userSelectionRect:o}=b.getState();!x&&o&&e.target===C.current&&(null==N||N(e)),b.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:M.current.size>0}),null==s||s(e),(n||a)&&(A.current=!1),O.current=!1}:void 0,onPointerLeave:m,ref:C,style:ov,children:[y,(0,c.jsx)(ox,{})]})}function o_(e){let{id:t,store:n,unselect:r=!1,nodeRef:o}=e,{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:l,nodeLookup:s,onError:u}=n.getState(),c=s.get(t);if(!c){null==u||u("012",t4.error012(t));return}n.setState({nodesSelectionActive:!1}),c.selected?(r||c.selected&&l)&&(a({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var e;return null==o||null==(e=o.current)?void 0:e.blur()})):i([t])}function oC(e){let{nodeRef:t,disabled:n=!1,noDragClassName:r,handleSelector:o,nodeId:i,isSelectable:a,nodeClickDistance:l}=e,s=rD(),[u,c]=(0,d.useState)(!1),f=(0,d.useRef)();return(0,d.useEffect)(()=>{f.current=function(e){let{onNodeMouseDown:t,getStoreItems:n,onDragStart:r,onDrag:o,onDragStop:i}=e,a={x:null,y:null},l=0,s=new Map,u=!1,c={x:0,y:0},d=null,f=!1,h=null,p=!1,g=!1,v=null;return{update:function(e){let{noDragClassName:m,handleSelector:y,domNode:b,isSelectable:x,nodeId:w,nodeClickDistance:S=0}=e;function E(e){let{x:t,y:r}=e,{nodeLookup:i,nodeExtent:l,snapGrid:u,snapToGrid:c,nodeOrigin:d,onNodeDrag:f,onSelectionDrag:h,onError:p,updateNodePositions:m}=n();a={x:t,y:r};let y=!1,b=s.size>1,x=b&&l?nm(na(s)):null,S=b&&c?function(e){let{dragItems:t,snapGrid:n,x:r,y:o}=e,i=t.values().next().value;if(!i)return null;let a={x:r-i.distance.x,y:o-i.distance.y},l=nk(a,n);return{x:l.x-a.x,y:l.y-a.y}}({dragItems:s,snapGrid:u,x:t,y:r}):null;for(let[e,n]of s){if(!i.has(e))continue;let o={x:t-n.distance.x,y:r-n.distance.y};c&&(o=S?{x:Math.round(o.x+S.x),y:Math.round(o.y+S.y)}:nk(o,u));let a=null;if(b&&l&&!n.extent&&x){let{positionAbsolute:e}=n.internals,t=e.x-x.x+l[0][0],r=e.x+n.measured.width-x.x2+l[1][0];a=[[t,e.y-x.y+l[0][1]],[r,e.y+n.measured.height-x.y2+l[1][1]]]}let{position:s,positionAbsolute:f}=nu({nodeId:e,nextPosition:o,nodeLookup:i,nodeExtent:a||l,nodeOrigin:d,onError:p});y=y||n.position.x!==s.x||n.position.y!==s.y,n.position=s,n.internals.positionAbsolute=f}if(g=g||y,y&&(m(s,!0),v&&(o||f||!w&&h))){let[e,t]=ri({nodeId:w,dragItems:s,nodeLookup:i});null==o||o(v,s,e,t),null==f||f(v,e,t),w||null==h||h(v,t)}}async function _(){if(!d)return;let{transform:e,panBy:t,autoPanSpeed:r,autoPanOnNodeDrag:o}=n();if(!o){u=!1,cancelAnimationFrame(l);return}let[i,s]=ng(c,d,r);if(0!==i||0!==s){var f,h;a.x=(null!=(f=a.x)?f:0)-i/e[2],a.y=(null!=(h=a.y)?h:0)-s/e[2],await t({x:i,y:s})&&E(a)}l=requestAnimationFrame(_)}function C(e){let{nodeLookup:o,multiSelectionActive:i,nodesDraggable:l,transform:u,snapGrid:c,snapToGrid:h,selectNodesOnDrag:p,onNodeDragStart:g,onSelectionDragStart:v,unselectNodesAndEdges:m}=n();if(f=!0,(!p||!x)&&!i&&w){var y;(null==(y=o.get(w))?void 0:y.selected)||m()}x&&p&&w&&(null==t||t(w));let b=nL(e.sourceEvent,{transform:u,snapGrid:c,snapToGrid:h,containerBounds:d});if(a=b,(s=function(e,t,n,r){let o=new Map;for(let[l,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!function e(t,n){if(!t.parentId)return!1;let r=n.get(t.parentId);return!!r&&(!!r.selected||e(r,n))}(s,e))&&(s.draggable||t&&void 0===s.draggable)){let t=e.get(l);if(t){var i,a;o.set(l,{id:l,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:null!=(i=t.measured.width)?i:0,height:null!=(a=t.measured.height)?a:0}})}}return o}(o,l,b,w)).size>0&&(r||g||!w&&v)){let[t,n]=ri({nodeId:w,dragItems:s,nodeLookup:o});null==r||r(e.sourceEvent,s,t,n),null==g||g(e.sourceEvent,t,n),w||null==v||v(e.sourceEvent,n)}}h=eo(b);let k=ey().clickDistance(S).on("start",e=>{let{domNode:t,nodeDragThreshold:r,transform:o,snapGrid:i,snapToGrid:l}=n();d=(null==t?void 0:t.getBoundingClientRect())||null,p=!1,g=!1,v=e.sourceEvent,0===r&&C(e),a=nL(e.sourceEvent,{transform:o,snapGrid:i,snapToGrid:l,containerBounds:d}),c=nW(e.sourceEvent,d)}).on("drag",e=>{let{autoPanOnNodeDrag:t,transform:r,snapGrid:o,snapToGrid:i,nodeDragThreshold:l,nodeLookup:h}=n(),g=nL(e.sourceEvent,{transform:r,snapGrid:o,snapToGrid:i,containerBounds:d});if(v=e.sourceEvent,("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||w&&!h.has(w))&&(p=!0),!p){if(!u&&t&&f&&(u=!0,_()),!f){let t=nW(e.sourceEvent,d),n=t.x-c.x,r=t.y-c.y;Math.sqrt(n*n+r*r)>l&&C(e)}(a.x!==g.xSnapped||a.y!==g.ySnapped)&&s&&f&&(c=nW(e.sourceEvent,d),E(g))}}).on("end",e=>{if(f&&!p&&(u=!1,f=!1,cancelAnimationFrame(l),s.size>0)){let{nodeLookup:t,updateNodePositions:r,onNodeDragStop:o,onSelectionDragStop:a}=n();if(g&&(r(s,!1),g=!1),i||o||!w&&a){let[n,r]=ri({nodeId:w,dragItems:s,nodeLookup:t,dragging:!1});null==i||i(e.sourceEvent,s,n,r),null==o||o(e.sourceEvent,n,r),w||null==a||a(e.sourceEvent,r)}}}).filter(e=>{let t=e.target;return!e.button&&(!m||!ro(t,".".concat(m),b))&&(!y||ro(t,y,b))});h.call(k)},destroy:function(){null==h||h.on(".drag",null)}}}({getStoreItems:()=>s.getState(),onNodeMouseDown:e=>{o_({id:e,store:s,nodeRef:t})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),(0,d.useEffect)(()=>{var e,s;if(n)null==(e=f.current)||e.destroy();else if(t.current)return null==(s=f.current)||s.update({noDragClassName:r,handleSelector:o,domNode:t.current,isSelectable:a,nodeId:i,nodeClickDistance:l}),()=>{var e;null==(e=f.current)||e.destroy()}},[r,o,n,a,t,i]),u}function ok(){let e=rD();return(0,d.useCallback)(t=>{let{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:l,nodeLookup:s,nodeOrigin:u}=e.getState(),c=new Map,d=e=>e.selected&&(e.draggable||i&&void 0===e.draggable),f=r?o[0]:5,h=r?o[1]:5,p=t.direction.x*f*t.factor,g=t.direction.y*h*t.factor;for(let[,e]of s){if(!d(e))continue;let t={x:e.internals.positionAbsolute.x+p,y:e.internals.positionAbsolute.y+g};r&&(t=nk(t,o));let{position:i,positionAbsolute:l}=nu({nodeId:e.id,nextPosition:t,nodeLookup:s,nodeExtent:n,nodeOrigin:u,onError:a});e.position=i,e.internals.positionAbsolute=l,c.set(e.id,e)}l(c)},[])}let oM=(0,d.createContext)(null),oj=oM.Provider;oM.Consumer;let oA=()=>(0,d.useContext)(oM),oO=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),oN=(0,d.memo)(ol(function(e,t){let{type:r="source",position:o=l.Top,isValidConnection:i,isConnectable:a=!0,isConnectableStart:s=!0,isConnectableEnd:u=!0,id:d,onConnect:h,children:p,className:g,onMouseDown:v,onTouchStart:m,...y}=e,b=d||null,x="target"===r,w=rD(),S=oA(),{connectOnClick:E,noPanClassName:_,rfId:C}=rT(oO,rN),{connectingFrom:k,connectingTo:M,clickConnecting:j,isPossibleEndHandle:A,connectionInProcess:O,clickConnectionInProcess:N,valid:R}=rT(e=>{let{connectionClickStartHandle:t,connectionMode:o,connection:i}=e,{fromHandle:a,toHandle:l,isValid:s}=i,u=(null==l?void 0:l.nodeId)===S&&(null==l?void 0:l.id)===b&&(null==l?void 0:l.type)===r;return{connectingFrom:(null==a?void 0:a.nodeId)===S&&(null==a?void 0:a.id)===b&&(null==a?void 0:a.type)===r,connectingTo:u,clickConnecting:(null==t?void 0:t.nodeId)===S&&(null==t?void 0:t.id)===b&&(null==t?void 0:t.type)===r,isPossibleEndHandle:o===n.Strict?(null==a?void 0:a.type)!==r:S!==(null==a?void 0:a.nodeId)||b!==(null==a?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!t,valid:u&&s}},rN);if(!S){var z,P;null==(z=(P=w.getState()).onError)||z.call(P,"010",t4.error010())}let T=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=w.getState(),o={...t,...e};if(r){let e,t,{edges:n,setEdges:r}=w.getState();r(o.source&&o.target?(t=e=nn(o)?{...o}:{...o,id:(e=>{let{source:t,sourceHandle:n,target:r,targetHandle:o}=e;return"xy-edge__".concat(t).concat(n||"","-").concat(r).concat(o||"")})(o)},n.some(e=>e.source===t.source&&e.target===t.target&&(e.sourceHandle===t.sourceHandle||!e.sourceHandle&&!t.sourceHandle)&&(e.targetHandle===t.targetHandle||!e.targetHandle&&!t.targetHandle)))?n:(null===e.sourceHandle&&delete e.sourceHandle,null===e.targetHandle&&delete e.targetHandle,n.concat(e)):(nC("006",t4.error006()),n))}null==n||n(o),null==h||h(o)},D=e=>{if(!S)return;let t="clientX"in e.nativeEvent;if(s&&(t&&0===e.button||!t)){let t=w.getState();rc.onPointerDown(e.nativeEvent,{handleDomNode:e.currentTarget,autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:x,handleId:b,nodeId:S,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:T,isValidConnection:i||t.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed,dragThreshold:t.connectionDragThreshold})}t?null==v||v(e):null==m||m(e)};return(0,c.jsx)("div",{"data-handleid":b,"data-nodeid":S,"data-handlepos":o,"data-id":"".concat(C,"-").concat(S,"-").concat(b,"-").concat(r),className:f(["react-flow__handle","react-flow__handle-".concat(o),"nodrag",_,g,{source:!x,target:x,connectable:a,connectablestart:s,connectableend:u,clickconnecting:j,connectingfrom:k,connectingto:M,valid:R,connectionindicator:a&&(!O||A)&&(O||N?u:s)}]),onMouseDown:D,onTouchStart:D,onClick:E?e=>{let{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:o,connectionMode:a,isValidConnection:l,lib:u,rfId:c,nodeLookup:d,connection:f}=w.getState();if(!S||!o&&!s)return;if(!o){null==t||t(e.nativeEvent,{nodeId:S,handleId:b,handleType:r}),w.setState({connectionClickStartHandle:{nodeId:S,type:r,id:b}});return}let h=nF(e.target),p=i||l,{connection:g,isValid:v}=rc.isValid(e.nativeEvent,{handle:{nodeId:S,id:b,type:r},connectionMode:a,fromNodeId:o.nodeId,fromHandleId:o.id||null,fromType:o.type,isValidConnection:p,flowId:c,doc:h,lib:u,nodeLookup:d});v&&g&&T(g);let m=structuredClone(f);delete m.inProgress,m.toPosition=m.toHandle?m.toHandle.position:null,null==n||n(e,m),w.setState({connectionClickStartHandle:null})}:void 0,ref:t,...y,children:p})})),oR={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},oz={input:function(e){let{data:t,isConnectable:n,sourcePosition:r=l.Bottom}=e;return(0,c.jsxs)(c.Fragment,{children:[null==t?void 0:t.label,(0,c.jsx)(oN,{type:"source",position:r,isConnectable:n})]})},default:function(e){let{data:t,isConnectable:n,targetPosition:r=l.Top,sourcePosition:o=l.Bottom}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(oN,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label,(0,c.jsx)(oN,{type:"source",position:o,isConnectable:n})]})},output:function(e){let{data:t,isConnectable:n,targetPosition:r=l.Top}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(oN,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label]})},group:function(){return null}},oP=e=>{let{width:t,height:n,x:r,y:o}=na(e.nodeLookup,{filter:e=>!!e.selected});return{width:n_(t)?t:null,height:n_(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],") translate(").concat(r,"px,").concat(o,"px)")}};function oT(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:r}=e,o=rD(),{width:i,height:a,transformString:l,userSelectionActive:s}=rT(oP,rN),u=ok(),h=(0,d.useRef)(null);if((0,d.useEffect)(()=>{if(!r){var e;null==(e=h.current)||e.focus({preventScroll:!0})}},[r]),oC({nodeRef:h}),s||!i||!a)return null;let p=t?e=>{t(e,o.getState().nodes.filter(e=>e.selected))}:void 0;return(0,c.jsx)("div",{className:f(["react-flow__nodesselection","react-flow__container",n]),style:{transform:l},children:(0,c.jsx)("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:r?void 0:-1,onKeyDown:r?void 0:e=>{Object.prototype.hasOwnProperty.call(oR,e.key)&&(e.preventDefault(),u({direction:oR[e.key],factor:e.shiftKey?4:1}))},style:{width:i,height:a}})})}let oD="undefined"!=typeof window?window:void 0,oL=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function oI(e){let{children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:l,paneClickDistance:s,deleteKeyCode:u,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:b,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:E,panOnScrollSpeed:_,panOnScrollMode:C,zoomOnDoubleClick:k,panOnDrag:M,defaultViewport:j,translateExtent:A,minZoom:O,maxZoom:N,preventScrolling:R,onSelectionContextMenu:z,noWheelClassName:P,noPanClassName:T,disableKeyboardA11y:D,onViewportChange:L,isControlledViewport:I}=e,{nodesSelectionActive:F,userSelectionActive:B}=rT(oL),H=r8(f,{target:oD}),W=r8(y,{target:oD}),V=W||M,U=W||E,Y=h&&!0!==V,X=H||B||Y;return!function(e){let{deleteKeyCode:t,multiSelectionKeyCode:n}=e,r=rD(),{deleteElements:o}=oh(),i=r8(t,{actInsideInputWithModifier:!1}),a=r8(n,{target:og});(0,d.useEffect)(()=>{if(i){let{edges:e,nodes:t}=r.getState();o({nodes:t.filter(op),edges:e.filter(op)}),r.setState({nodesSelectionActive:!1})}},[i]),(0,d.useEffect)(()=>{r.setState({multiSelectionActive:a})},[a])}({deleteKeyCode:u,multiSelectionKeyCode:m}),(0,c.jsx)(oy,{onPaneContextMenu:a,elementsSelectable:x,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:U,panOnScrollSpeed:_,panOnScrollMode:C,zoomOnDoubleClick:k,panOnDrag:!H&&V,defaultViewport:j,translateExtent:A,minZoom:O,maxZoom:N,zoomActivationKeyCode:b,preventScrolling:R,noWheelClassName:P,noPanClassName:T,onViewportChange:L,isControlledViewport:I,paneClickDistance:s,children:(0,c.jsxs)(oE,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:l,panOnDrag:V,isSelecting:!!X,selectionMode:p,selectionKeyPressed:H,selectionOnDrag:Y,children:[t,F&&(0,c.jsx)(oT,{onSelectionContextMenu:z,noPanClassName:T,disableKeyboardA11y:D})]})})}oI.displayName="FlowRenderer";let oF=(0,d.memo)(oI),oB=e=>e.updateNodeInternals;function oH(e){var t,n,r,o,i,a,l,s,u,h,p,g,v;let{id:m,onClick:y,onMouseEnter:b,onMouseMove:x,onMouseLeave:w,onContextMenu:S,onDoubleClick:E,nodesDraggable:_,elementsSelectable:C,nodesConnectable:k,nodesFocusable:M,resizeObserver:j,noDragClassName:A,noPanClassName:O,disableKeyboardA11y:N,rfId:R,nodeTypes:z,nodeClickDistance:P,onError:T}=e,{node:D,internals:L,isParent:I}=rT(e=>{let t=e.nodeLookup.get(m),n=e.parentLookup.has(m);return{node:t,internals:t.internals,isParent:n}},rN),F=D.type||"default",B=(null==z?void 0:z[F])||oz[F];void 0===B&&(null==T||T("003",t4.error003(F)),F="default",B=(null==z?void 0:z.default)||oz.default);let H=!!(D.draggable||_&&void 0===D.draggable),W=!!(D.selectable||C&&void 0===D.selectable),V=!!(D.connectable||k&&void 0===D.connectable),U=!!(D.focusable||M&&void 0===D.focusable),Y=rD(),X=nP(D),G=function(e){let{node:t,nodeType:n,hasDimensions:r,resizeObserver:o}=e,i=rD(),a=(0,d.useRef)(null),l=(0,d.useRef)(null),s=(0,d.useRef)(t.sourcePosition),u=(0,d.useRef)(t.targetPosition),c=(0,d.useRef)(n),f=r&&!!t.internals.handleBounds;return(0,d.useEffect)(()=>{!a.current||t.hidden||f&&l.current===a.current||(l.current&&(null==o||o.unobserve(l.current)),null==o||o.observe(a.current),l.current=a.current)},[f,t.hidden]),(0,d.useEffect)(()=>()=>{l.current&&(null==o||o.unobserve(l.current),l.current=null)},[]),(0,d.useEffect)(()=>{if(a.current){let e=c.current!==n,r=s.current!==t.sourcePosition,o=u.current!==t.targetPosition;(e||r||o)&&(c.current=n,s.current=t.sourcePosition,u.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:a.current,force:!0}]])))}},[t.id,n,t.sourcePosition,t.targetPosition]),a}({node:D,nodeType:F,hasDimensions:X,resizeObserver:j}),q=oC({nodeRef:G,disabled:D.hidden||!H,noDragClassName:A,handleSelector:D.dragHandle,nodeId:m,isSelectable:W,nodeClickDistance:P}),K=ok();if(D.hidden)return null;let Z=nz(D),$=void 0===D.internals.handleBounds?{width:null!=(u=null!=(s=D.width)?s:D.initialWidth)?u:null==(a=D.style)?void 0:a.width,height:null!=(p=null!=(h=D.height)?h:D.initialHeight)?p:null==(l=D.style)?void 0:l.height}:{width:null!=(g=D.width)?g:null==(o=D.style)?void 0:o.width,height:null!=(v=D.height)?v:null==(i=D.style)?void 0:i.height},Q=W||H||y||b||x||w,J=b?e=>b(e,{...L.userNode}):void 0,ee=x?e=>x(e,{...L.userNode}):void 0,et=w?e=>w(e,{...L.userNode}):void 0,en=S?e=>S(e,{...L.userNode}):void 0,er=E?e=>E(e,{...L.userNode}):void 0;return(0,c.jsx)("div",{className:f(["react-flow__node","react-flow__node-".concat(F),{[O]:H},D.className,{selected:D.selected,selectable:W,parent:I,draggable:H,dragging:q}]),ref:G,style:{zIndex:L.z,transform:"translate(".concat(L.positionAbsolute.x,"px,").concat(L.positionAbsolute.y,"px)"),pointerEvents:Q?"all":"none",visibility:X?"visible":"hidden",...D.style,...$},"data-id":m,"data-testid":"rf__node-".concat(m),onMouseEnter:J,onMouseMove:ee,onMouseLeave:et,onContextMenu:en,onClick:e=>{let{selectNodesOnDrag:t,nodeDragThreshold:n}=Y.getState();W&&(!t||!H||n>0)&&o_({id:m,store:Y,nodeRef:G}),y&&y(e,{...L.userNode})},onDoubleClick:er,onKeyDown:U?e=>{if(!nH(e.nativeEvent)&&!N){if(t8.includes(e.key)&&W)o_({id:m,store:Y,unselect:"Escape"===e.key,nodeRef:G});else if(H&&D.selected&&Object.prototype.hasOwnProperty.call(oR,e.key)){e.preventDefault();let{ariaLabelConfig:t}=Y.getState();Y.setState({ariaLiveMessage:t["node.a11yDescription.ariaLiveMessage"]({direction:e.key.replace("Arrow","").toLowerCase(),x:~~L.positionAbsolute.x,y:~~L.positionAbsolute.y})}),K({direction:oR[e.key],factor:e.shiftKey?4:1})}}}:void 0,tabIndex:U?0:void 0,onFocus:U?()=>{var e;if(N||!(null==(e=G.current)?void 0:e.matches(":focus-visible")))return;let{transform:t,width:n,height:r,autoPanOnNodeFocus:o,setCenter:i}=Y.getState();o&&(nl(new Map([[m,D]]),{x:0,y:0,width:n,height:r},t,!0).length>0||i(D.position.x+Z.width/2,D.position.y+Z.height/2,{zoom:t[2]}))}:void 0,role:null!=(t=D.ariaRole)?t:U?"group":void 0,"aria-roledescription":"node","aria-describedby":N?void 0:"".concat(rF,"-").concat(R),"aria-label":D.ariaLabel,...D.domAttributes,children:(0,c.jsx)(oj,{value:m,children:(0,c.jsx)(B,{id:m,data:D.data,type:F,positionAbsoluteX:L.positionAbsolute.x,positionAbsoluteY:L.positionAbsolute.y,selected:null!=(n=D.selected)&&n,selectable:W,draggable:H,deletable:null==(r=D.deletable)||r,isConnectable:V,sourcePosition:D.sourcePosition,targetPosition:D.targetPosition,dragging:q,dragHandle:D.dragHandle,zIndex:L.z,parentId:D.parentId,...Z})})})}let oW=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function oV(e){var t;let{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,onError:a}=rT(oW,rN),l=(t=e.onlyRenderVisibleElements,rT((0,d.useCallback)(e=>t?nl(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(e=>e.id):Array.from(e.nodeLookup.keys()),[t]),rN)),s=function(){let e=rT(oB),[t]=(0,d.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return(0,d.useEffect)(()=>()=>{null==t||t.disconnect()},[t]),t}();return(0,c.jsx)("div",{className:"react-flow__nodes",style:ov,children:l.map(t=>(0,c.jsx)(oH,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:a},t))})}oV.displayName="NodeRenderer";let oU=(0,d.memo)(oV),oY={[a.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e,r={strokeWidth:n,...t&&{stroke:t}};return(0,c.jsx)("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},[a.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e,r={strokeWidth:n,...t&&{stroke:t,fill:t}};return(0,c.jsx)("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},oX=e=>{let{id:t,type:n,color:r,width:o=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:l,orient:s="auto-start-reverse"}=e,u=function(e){let t=rD();return(0,d.useMemo)(()=>{if(!Object.prototype.hasOwnProperty.call(oY,e)){var n,r;return null==(n=(r=t.getState()).onError)||n.call(r,"009",t4.error009(e)),null}return oY[e]},[e])}(n);return u?(0,c.jsx)("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(o),markerHeight:"".concat(i),viewBox:"-10 -10 20 20",markerUnits:a,orient:s,refX:"0",refY:"0",children:(0,c.jsx)(u,{color:r,strokeWidth:l})}):null},oG=e=>{let{defaultColor:t,rfId:n}=e,r=rT(e=>e.edges),o=rT(e=>e.defaultEdgeOptions),i=(0,d.useMemo)(()=>(function(e,t){let{id:n,defaultColor:r,defaultMarkerStart:o,defaultMarkerEnd:i}=t,a=new Set;return e.reduce((e,t)=>([t.markerStart||o,t.markerEnd||i].forEach(t=>{if(t&&"object"==typeof t){let o=n5(t,n);a.has(o)||(e.push({id:o,color:t.color||r,...t}),a.add(o))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))})(r,{id:n,defaultColor:t,defaultMarkerStart:null==o?void 0:o.markerStart,defaultMarkerEnd:null==o?void 0:o.markerEnd}),[r,o,n,t]);return i.length?(0,c.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,c.jsx)("defs",{children:i.map(e=>(0,c.jsx)(oX,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};oG.displayName="MarkerDefinitions";var oq=(0,d.memo)(oG);function oK(e){let{x:t,y:n,label:r,labelStyle:o,labelShowBg:i=!0,labelBgStyle:a,labelBgPadding:l=[2,4],labelBgBorderRadius:s=2,children:u,className:h,...p}=e,[g,v]=(0,d.useState)({x:1,y:0,width:0,height:0}),m=f(["react-flow__edge-textwrapper",h]),y=(0,d.useRef)(null);return((0,d.useEffect)(()=>{if(y.current){let e=y.current.getBBox();v({x:e.x,y:e.y,width:e.width,height:e.height})}},[r]),r)?(0,c.jsxs)("g",{transform:"translate(".concat(t-g.width/2," ").concat(n-g.height/2,")"),className:m,visibility:g.width?"visible":"hidden",...p,children:[i&&(0,c.jsx)("rect",{width:g.width+2*l[0],x:-l[0],y:-l[1],height:g.height+2*l[1],className:"react-flow__edge-textbg",style:a,rx:s,ry:s}),(0,c.jsx)("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:y,style:o,children:r}),u]}):null}oK.displayName="EdgeText";let oZ=(0,d.memo)(oK);function o$(e){let{path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:u,interactionWidth:d=20,...h}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{...h,d:t,fill:"none",className:f(["react-flow__edge-path",h.className])}),d?(0,c.jsx)("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,o&&n_(n)&&n_(r)?(0,c.jsx)(oZ,{x:n,y:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:u}):null]})}function oQ(e){let{pos:t,x1:n,y1:r,x2:o,y2:i}=e;return t===l.Left||t===l.Right?[.5*(n+o),r]:[n,.5*(r+i)]}function oJ(e){let{sourceX:t,sourceY:n,sourcePosition:r=l.Bottom,targetX:o,targetY:i,targetPosition:a=l.Top}=e,[s,u]=oQ({pos:r,x1:t,y1:n,x2:o,y2:i}),[c,d]=oQ({pos:a,x1:o,y1:i,x2:t,y2:n}),[f,h,p,g]=nU({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(s,",").concat(u," ").concat(c,",").concat(d," ").concat(o,",").concat(i),f,h,p,g]}function o0(e){return(0,d.memo)(t=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:l,targetPosition:s,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:m,markerStart:y,interactionWidth:b}=t,[x,w,S]=oJ({sourceX:r,sourceY:o,sourcePosition:l,targetX:i,targetY:a,targetPosition:s}),E=e.isInternal?void 0:n;return(0,c.jsx)(o$,{id:E,path:x,labelX:w,labelY:S,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:m,markerStart:y,interactionWidth:b})})}let o1=o0({isInternal:!1}),o2=o0({isInternal:!0});function o5(e){return(0,d.memo)(t=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:a,label:s,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,sourcePosition:v=l.Bottom,targetPosition:m=l.Top,markerEnd:y,markerStart:b,pathOptions:x,interactionWidth:w}=t,[S,E,_]=nQ({sourceX:r,sourceY:o,sourcePosition:v,targetX:i,targetY:a,targetPosition:m,borderRadius:null==x?void 0:x.borderRadius,offset:null==x?void 0:x.offset,stepPosition:null==x?void 0:x.stepPosition}),C=e.isInternal?void 0:n;return(0,c.jsx)(o$,{id:C,path:S,labelX:E,labelY:_,label:s,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:g,markerEnd:y,markerStart:b,interactionWidth:w})})}o1.displayName="SimpleBezierEdge",o2.displayName="SimpleBezierEdgeInternal";let o3=o5({isInternal:!1}),o4=o5({isInternal:!0});function o6(e){return(0,d.memo)(t=>{var n;let{id:r,...o}=t,i=e.isInternal?void 0:r;return(0,c.jsx)(o3,{...o,id:i,pathOptions:(0,d.useMemo)(()=>{var e;return{borderRadius:0,offset:null==(e=o.pathOptions)?void 0:e.offset}},[null==(n=o.pathOptions)?void 0:n.offset])})})}o3.displayName="SmoothStepEdge",o4.displayName="SmoothStepEdgeInternal";let o8=o6({isInternal:!1}),o9=o6({isInternal:!0});function o7(e){return(0,d.memo)(t=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:a,label:l,labelStyle:s,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:m}=t,[y,b,x]=nK({sourceX:r,sourceY:o,targetX:i,targetY:a}),w=e.isInternal?void 0:n;return(0,c.jsx)(o$,{id:w,path:y,labelX:b,labelY:x,label:l,labelStyle:s,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:m})})}o8.displayName="StepEdge",o9.displayName="StepEdgeInternal";let ie=o7({isInternal:!1}),it=o7({isInternal:!0});function ir(e){return(0,d.memo)(t=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:a,sourcePosition:s=l.Bottom,targetPosition:u=l.Top,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,style:m,markerEnd:y,markerStart:b,pathOptions:x,interactionWidth:w}=t,[S,E,_]=nG({sourceX:r,sourceY:o,sourcePosition:s,targetX:i,targetY:a,targetPosition:u,curvature:null==x?void 0:x.curvature}),C=e.isInternal?void 0:n;return(0,c.jsx)(o$,{id:C,path:S,labelX:E,labelY:_,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:v,style:m,markerEnd:y,markerStart:b,interactionWidth:w})})}ie.displayName="StraightEdge",it.displayName="StraightEdgeInternal";let io=ir({isInternal:!1}),ii=ir({isInternal:!0});io.displayName="BezierEdge",ii.displayName="BezierEdgeInternal";let ia={default:ii,straight:it,step:o9,smoothstep:o4,simplebezier:o2},il={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},is="react-flow__edgeupdater";function iu(e){let{position:t,centerX:n,centerY:r,radius:o=10,onMouseDown:i,onMouseEnter:a,onMouseOut:s,type:u}=e;return(0,c.jsx)("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:s,className:f([is,"".concat(is,"-").concat(u)]),cx:t===l.Left?n-o:t===l.Right?n+o:n,cy:t===l.Top?r-o:t===l.Bottom?r+o:r,r:o,stroke:"transparent",fill:"transparent"})}function ic(e){let{isReconnectable:t,reconnectRadius:n,edge:r,sourceX:o,sourceY:i,targetX:a,targetY:l,sourcePosition:s,targetPosition:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:p,setUpdateHover:g}=e,v=rD(),m=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:n,domNode:o,isValidConnection:i,connectionMode:a,connectionRadius:l,lib:s,onConnectStart:u,onConnectEnd:c,cancelConnection:g,nodeLookup:m,rfId:y,panBy:b,updateConnection:x}=v.getState(),w="target"===t.type;rc.onPointerDown(e.nativeEvent,{autoPanOnConnect:n,connectionMode:a,connectionRadius:l,domNode:o,handleId:t.id,nodeId:t.nodeId,nodeLookup:m,isTarget:w,edgeUpdaterType:t.type,lib:s,flowId:y,cancelConnection:g,panBy:b,isValidConnection:i,onConnect:e=>null==d?void 0:d(r,e),onConnectStart:(n,o)=>{p(!0),null==f||f(e,r,t.type),null==u||u(n,o)},onConnectEnd:c,onReconnectEnd:(e,n)=>{p(!1),null==h||h(e,r,t.type,n)},updateConnection:x,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:e.currentTarget})},y=()=>g(!0),b=()=>g(!1);return(0,c.jsxs)(c.Fragment,{children:[(!0===t||"source"===t)&&(0,c.jsx)(iu,{position:s,centerX:o,centerY:i,radius:n,onMouseDown:e=>{var t;return m(e,{nodeId:r.target,id:null!=(t=r.targetHandle)?t:null,type:"target"})},onMouseEnter:y,onMouseOut:b,type:"source"}),(!0===t||"target"===t)&&(0,c.jsx)(iu,{position:u,centerX:a,centerY:l,radius:n,onMouseDown:e=>{var t;return m(e,{nodeId:r.source,id:null!=(t=r.sourceHandle)?t:null,type:"source"})},onMouseEnter:y,onMouseOut:b,type:"target"})]})}function id(e){var t,r;let{id:o,edgesFocusable:i,edgesReconnectable:a,elementsSelectable:s,onClick:u,onDoubleClick:h,onContextMenu:p,onMouseEnter:g,onMouseMove:v,onMouseLeave:m,reconnectRadius:y,onReconnect:b,onReconnectStart:x,onReconnectEnd:w,rfId:S,edgeTypes:E,noPanClassName:_,onError:C,disableKeyboardA11y:k}=e,M=rT(e=>e.edgeLookup.get(o)),j=rT(e=>e.defaultEdgeOptions),A=(M=j?{...j,...M}:M).type||"default",O=(null==E?void 0:E[A])||ia[A];void 0===O&&(null==C||C("011",t4.error011(A)),A="default",O=(null==E?void 0:E.default)||ia.default);let N=!!(M.focusable||i&&void 0===M.focusable),R=void 0!==b&&(M.reconnectable||a&&void 0===M.reconnectable),z=!!(M.selectable||s&&void 0===M.selectable),P=(0,d.useRef)(null),[T,D]=(0,d.useState)(!1),[L,I]=(0,d.useState)(!1),F=rD(),{zIndex:B,sourceX:H,sourceY:W,targetX:V,targetY:U,sourcePosition:Y,targetPosition:X}=rT((0,d.useCallback)(e=>{let t=e.nodeLookup.get(M.source),r=e.nodeLookup.get(M.target);if(!t||!r)return{zIndex:M.zIndex,...il};let i=function(e){var t,r,o,i,a;let{sourceNode:s,targetNode:u}=e;if(!nJ(s)||!nJ(u))return null;let c=s.internals.handleBounds||n0(s.handles),d=u.internals.handleBounds||n0(u.handles),f=n2(null!=(t=null==c?void 0:c.source)?t:[],e.sourceHandle),h=n2(e.connectionMode===n.Strict?null!=(r=null==d?void 0:d.target)?r:[]:(null!=(o=null==d?void 0:d.target)?o:[]).concat(null!=(i=null==d?void 0:d.source)?i:[]),e.targetHandle);if(!f||!h)return null==(a=e.onError)||a.call(e,"008",t4.error008(f?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;let p=(null==f?void 0:f.position)||l.Bottom,g=(null==h?void 0:h.position)||l.Top,v=n1(s,f,p),m=n1(u,h,g);return{sourceX:v.x,sourceY:v.y,targetX:m.x,targetY:m.y,sourcePosition:p,targetPosition:g}}({id:o,sourceNode:t,targetNode:r,sourceHandle:M.sourceHandle||null,targetHandle:M.targetHandle||null,connectionMode:e.connectionMode,onError:C});return{zIndex:function(e){let{sourceNode:t,targetNode:n,selected:r=!1,zIndex:o,elevateOnSelect:i=!1}=e;if(void 0!==o)return o;let a=Math.max(t.parentId||i&&t.selected?t.internals.z:0,n.parentId||i&&n.selected?n.internals.z:0);return(i&&r?1e3:0)+a}({selected:M.selected,zIndex:M.zIndex,sourceNode:t,targetNode:r,elevateOnSelect:e.elevateEdgesOnSelect}),...i||il}},[M.source,M.target,M.sourceHandle,M.targetHandle,M.selected,M.zIndex]),rN),G=(0,d.useMemo)(()=>M.markerStart?"url('#".concat(n5(M.markerStart,S),"')"):void 0,[M.markerStart,S]),q=(0,d.useMemo)(()=>M.markerEnd?"url('#".concat(n5(M.markerEnd,S),"')"):void 0,[M.markerEnd,S]);if(M.hidden||null===H||null===W||null===V||null===U)return null;let K=h?e=>{h(e,{...M})}:void 0,Z=p?e=>{p(e,{...M})}:void 0,$=g?e=>{g(e,{...M})}:void 0,Q=v?e=>{v(e,{...M})}:void 0,J=m?e=>{m(e,{...M})}:void 0;return(0,c.jsx)("svg",{style:{zIndex:B},children:(0,c.jsxs)("g",{className:f(["react-flow__edge","react-flow__edge-".concat(A),M.className,_,{selected:M.selected,animated:M.animated,inactive:!z&&!u,updating:T,selectable:z}]),onClick:e=>{let{addSelectedEdges:t,unselectNodesAndEdges:n,multiSelectionActive:r}=F.getState();if(z)if(F.setState({nodesSelectionActive:!1}),M.selected&&r){var i;n({nodes:[],edges:[M]}),null==(i=P.current)||i.blur()}else t([o]);u&&u(e,M)},onDoubleClick:K,onContextMenu:Z,onMouseEnter:$,onMouseMove:Q,onMouseLeave:J,onKeyDown:N?e=>{if(!k&&t8.includes(e.key)&&z){let{unselectNodesAndEdges:n,addSelectedEdges:r}=F.getState();if("Escape"===e.key){var t;null==(t=P.current)||t.blur(),n({edges:[M]})}else r([o])}}:void 0,tabIndex:N?0:void 0,role:null!=(t=M.ariaRole)?t:N?"group":"img","aria-roledescription":"edge","data-id":o,"data-testid":"rf__edge-".concat(o),"aria-label":null===M.ariaLabel?void 0:M.ariaLabel||"Edge from ".concat(M.source," to ").concat(M.target),"aria-describedby":N?"".concat(rB,"-").concat(S):void 0,ref:P,...M.domAttributes,children:[!L&&(0,c.jsx)(O,{id:o,source:M.source,target:M.target,type:M.type,selected:M.selected,animated:M.animated,selectable:z,deletable:null==(r=M.deletable)||r,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,sourceX:H,sourceY:W,targetX:V,targetY:U,sourcePosition:Y,targetPosition:X,data:M.data,style:M.style,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerStart:G,markerEnd:q,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth}),R&&(0,c.jsx)(ic,{edge:M,isReconnectable:R,reconnectRadius:y,onReconnect:b,onReconnectStart:x,onReconnectEnd:w,sourceX:H,sourceY:W,targetX:V,targetY:U,sourcePosition:Y,targetPosition:X,setUpdateHover:D,setReconnecting:I})]})})}let ih=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ip(e){let{defaultMarkerColor:t,onlyRenderVisibleElements:n,rfId:r,edgeTypes:o,noPanClassName:i,onReconnect:a,onEdgeContextMenu:l,onEdgeMouseEnter:s,onEdgeMouseMove:u,onEdgeMouseLeave:f,onEdgeClick:h,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:v,onReconnectEnd:m,disableKeyboardA11y:y}=e,{edgesFocusable:b,edgesReconnectable:x,elementsSelectable:w,onError:S}=rT(ih,rN),E=rT((0,d.useCallback)(e=>{if(!n)return e.edges.map(e=>e.id);let t=[];if(e.width&&e.height)for(let n of e.edges){let r=e.nodeLookup.get(n.source),o=e.nodeLookup.get(n.target);r&&o&&function(e){let{sourceNode:t,targetNode:n,width:r,height:o,transform:i}=e,a=nv(nx(t),nx(n));return a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1),nS({x:-i[0]/i[2],y:-i[1]/i[2],width:r/i[2],height:o/i[2]},ny(a))>0}({sourceNode:r,targetNode:o,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t},[n]),rN);return(0,c.jsxs)("div",{className:"react-flow__edges",children:[(0,c.jsx)(oq,{defaultColor:t,rfId:r}),E.map(e=>(0,c.jsx)(id,{id:e,edgesFocusable:b,edgesReconnectable:x,elementsSelectable:w,noPanClassName:i,onReconnect:a,onContextMenu:l,onMouseEnter:s,onMouseMove:u,onMouseLeave:f,onClick:h,reconnectRadius:p,onDoubleClick:g,onReconnectStart:v,onReconnectEnd:m,rfId:r,onError:S,edgeTypes:o,disableKeyboardA11y:y},e))]})}ip.displayName="EdgeRenderer";let ig=(0,d.memo)(ip),iv=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function im(e){let{children:t}=e,n=rT(iv);return(0,c.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:t})}let iy=e=>{var t;return null==(t=e.panZoom)?void 0:t.syncViewport};function ib(e){return e.connection.inProgress?{...e.connection,to:nM(e.connection.to,e.transform)}:{...e.connection}}let ix=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function iw(e){let{containerStyle:t,style:n,type:r,component:o}=e,{nodesConnectable:i,width:a,height:l,isValid:s,inProgress:u}=rT(ix,rN);return a&&i&&u?(0,c.jsx)("svg",{style:t,width:a,height:l,className:"react-flow__connectionline react-flow__container",children:(0,c.jsx)("g",{className:f(["react-flow__connection",nt(s)]),children:(0,c.jsx)(iS,{style:n,type:r,CustomComponent:o,isValid:s})})}):null}let iS=e=>{let{style:t,type:n=i.Bezier,CustomComponent:r,isValid:o}=e,{inProgress:a,from:l,fromNode:s,fromHandle:u,fromPosition:d,to:f,toNode:h,toHandle:p,toPosition:g}=function(e){return rT(ib,rN)}();if(!a)return;if(r)return(0,c.jsx)(r,{connectionLineType:n,connectionLineStyle:t,fromNode:s,fromHandle:u,fromX:l.x,fromY:l.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:nt(o),toNode:h,toHandle:p});let v="",m={sourceX:l.x,sourceY:l.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(n){case i.Bezier:[v]=nG(m);break;case i.SimpleBezier:[v]=oJ(m);break;case i.Step:[v]=nQ({...m,borderRadius:0});break;case i.SmoothStep:[v]=nQ(m);break;default:[v]=nK(m)}return(0,c.jsx)("path",{d:v,fill:"none",className:"react-flow__connection-path",style:t})};iS.displayName="ConnectionLine";let iE={};function i_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iE;(0,d.useRef)(e),rD(),(0,d.useEffect)(()=>{},[e])}function iC(e){let{nodeTypes:t,edgeTypes:n,onInit:r,onNodeClick:o,onEdgeClick:i,onNodeDoubleClick:a,onEdgeDoubleClick:l,onNodeMouseEnter:s,onNodeMouseMove:u,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:v,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:b,connectionLineContainerStyle:x,selectionKeyCode:w,selectionOnDrag:S,selectionMode:E,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:k,deleteKeyCode:M,onlyRenderVisibleElements:j,elementsSelectable:A,defaultViewport:O,translateExtent:N,minZoom:R,maxZoom:z,preventScrolling:P,defaultMarkerColor:T,zoomOnScroll:D,zoomOnPinch:L,panOnScroll:I,panOnScrollSpeed:F,panOnScrollMode:B,zoomOnDoubleClick:H,panOnDrag:W,onPaneClick:V,onPaneMouseEnter:U,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneScroll:G,onPaneContextMenu:q,paneClickDistance:K,nodeClickDistance:Z,onEdgeContextMenu:$,onEdgeMouseEnter:Q,onEdgeMouseMove:J,onEdgeMouseLeave:ee,reconnectRadius:et,onReconnect:en,onReconnectStart:er,onReconnectEnd:eo,noDragClassName:ei,noWheelClassName:ea,noPanClassName:el,disableKeyboardA11y:es,nodeExtent:eu,rfId:ec,viewport:ed,onViewportChange:ef}=e;i_(t),i_(n),rD(),(0,d.useRef)(!1),(0,d.useEffect)(()=>{},[]);let eh=oh(),ep=(0,d.useRef)(!1);return(0,d.useEffect)(()=>{!ep.current&&eh.viewportInitialized&&r&&(setTimeout(()=>r(eh),1),ep.current=!0)},[r,eh.viewportInitialized]),!function(e){let t=rT(iy),n=rD();(0,d.useEffect)(()=>{e&&(null==t||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t])}(ed),(0,c.jsx)(oF,{onPaneClick:V,onPaneMouseEnter:U,onPaneMouseMove:Y,onPaneMouseLeave:X,onPaneContextMenu:q,onPaneScroll:G,paneClickDistance:K,deleteKeyCode:M,selectionKeyCode:w,selectionOnDrag:S,selectionMode:E,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:k,elementsSelectable:A,zoomOnScroll:D,zoomOnPinch:L,zoomOnDoubleClick:H,panOnScroll:I,panOnScrollSpeed:F,panOnScrollMode:B,panOnDrag:W,defaultViewport:O,translateExtent:N,minZoom:R,maxZoom:z,onSelectionContextMenu:p,preventScrolling:P,noDragClassName:ei,noWheelClassName:ea,noPanClassName:el,disableKeyboardA11y:es,onViewportChange:ef,isControlledViewport:!!ed,children:(0,c.jsxs)(im,{children:[(0,c.jsx)(ig,{edgeTypes:n,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:en,onReconnectStart:er,onReconnectEnd:eo,onlyRenderVisibleElements:j,onEdgeContextMenu:$,onEdgeMouseEnter:Q,onEdgeMouseMove:J,onEdgeMouseLeave:ee,reconnectRadius:et,defaultMarkerColor:T,noPanClassName:el,disableKeyboardA11y:es,rfId:ec}),(0,c.jsx)(iw,{style:y,type:m,component:b,containerStyle:x}),(0,c.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,c.jsx)(oU,{nodeTypes:t,onNodeClick:o,onNodeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:u,onNodeMouseLeave:f,onNodeContextMenu:h,nodeClickDistance:Z,onlyRenderVisibleElements:j,noPanClassName:el,noDragClassName:ei,disableKeyboardA11y:es,nodeExtent:eu,rfId:ec}),(0,c.jsx)("div",{className:"react-flow__viewport-portal"})]})})}iC.displayName="GraphView";let ik=(0,d.memo)(iC),iM=function(){var e,t,r;let{nodes:o,edges:i,defaultNodes:a,defaultEdges:l,width:s,height:u,fitView:c,fitViewOptions:d,minZoom:f=.5,maxZoom:h=2,nodeOrigin:p,nodeExtent:g}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=new Map,m=new Map,y=new Map,b=new Map,x=null!=(e=null!=l?l:i)?e:[],w=null!=(t=null!=a?a:o)?t:[],S=null!=p?p:[0,0],E=null!=g?g:t6;rr(y,b,x);let _=n8(w,v,m,{nodeOrigin:S,nodeExtent:E,elevateNodesOnSelect:!1}),C=[0,0,1];if(c&&s&&u){let{x:e,y:t,zoom:n}=nO(na(v,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),s,u,f,h,null!=(r=null==d?void 0:d.padding)?r:.1);C=[e,t,n]}return{rfId:"1",width:null!=s?s:0,height:null!=u?u:0,transform:C,nodes:w,nodesInitialized:_,nodeLookup:v,parentLookup:m,edges:x,edgeLookup:b,connectionLookup:y,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==a,hasDefaultEdges:void 0!==l,panZoom:null,minZoom:f,maxZoom:h,translateExtent:t6,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:n.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:S,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:null!=c&&c,fitViewOptions:d,fitViewResolver:null,connection:{...t7},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:nC,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:t9}};function ij(e){let{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:a,initialMinZoom:l,initialMaxZoom:s,initialFitViewOptions:u,fitView:f,nodeOrigin:h,nodeExtent:p,children:g}=e,[v]=(0,d.useState)(()=>(e=>{let t,n,{nodes:r,edges:o,defaultNodes:i,defaultEdges:a,width:l,height:s,fitView:u,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:p}=e;return t=(e,t)=>{async function n(){let{nodeLookup:n,panZoom:r,fitViewOptions:o,fitViewResolver:i,width:a,height:l,minZoom:s,maxZoom:u}=t();r&&(await ns({nodes:n,width:a,height:l,panZoom:r,minZoom:s,maxZoom:u},o),null==i||i.resolve(!0),e({fitViewResolver:null}))}return{...iM({nodes:r,edges:o,width:l,height:s,fitView:u,fitViewOptions:c,minZoom:d,maxZoom:f,nodeOrigin:h,nodeExtent:p,defaultNodes:i,defaultEdges:a}),setNodes:r=>{let{nodeLookup:o,parentLookup:i,nodeOrigin:a,elevateNodesOnSelect:l,fitViewQueued:s}=t(),u=n8(r,o,i,{nodeOrigin:a,nodeExtent:p,elevateNodesOnSelect:l,checkEquality:!0});s&&u?(n(),e({nodes:r,nodesInitialized:u,fitViewQueued:!1,fitViewOptions:void 0})):e({nodes:r,nodesInitialized:u})},setEdges:n=>{let{connectionLookup:r,edgeLookup:o}=t();rr(r,o,n),e({edges:n})},setDefaultNodesAndEdges:(n,r)=>{if(n){let{setNodes:r}=t();r(n),e({hasDefaultNodes:!0})}if(r){let{setEdges:n}=t();n(r),e({hasDefaultEdges:!0})}},updateNodeInternals:r=>{let{triggerNodeChanges:o,nodeLookup:i,parentLookup:a,domNode:l,nodeOrigin:s,nodeExtent:u,debug:c,fitViewQueued:d}=t(),{changes:f,updatedInternals:h}=function(e,t,n,r,o,i){let a=null==r?void 0:r.querySelector(".xyflow__viewport"),l=!1;if(!a)return{changes:[],updatedInternals:l};let s=[],u=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(u.transform),d=[];for(let r of e.values()){let e=t.get(r.id);if(!e)continue;if(e.hidden){t.set(e.id,{...e,internals:{...e.internals,handleBounds:void 0}}),l=!0;continue}let a=nI(r.nodeElement),u=e.measured.width!==a.width||e.measured.height!==a.height;if(a.width&&a.height&&(u||!e.internals.handleBounds||r.force)){let f=r.nodeElement.getBoundingClientRect(),h=nR(e.extent)?e.extent:i,{positionAbsolute:p}=e.internals;e.parentId&&"parent"===e.extent?p=nh(p,a,t.get(e.parentId)):h&&(p=nf(p,h,a));let g={...e,measured:a,internals:{...e.internals,positionAbsolute:p,handleBounds:{source:nV("source",r.nodeElement,f,c,e.id),target:nV("target",r.nodeElement,f,c,e.id)}}};t.set(e.id,g),e.parentId&&n9(g,t,n,{nodeOrigin:o}),l=!0,u&&(s.push({id:e.id,type:"dimensions",dimensions:a}),e.expandParent&&e.parentId&&d.push({id:e.id,parentId:e.parentId,rect:nb(g,o)}))}}if(d.length>0){let e=re(d,t,n,o);s.push(...e)}return{changes:s,updatedInternals:l}}(r,i,a,l,s,u);h&&(!function(e,t,n){let r=n6(n3,n);for(let n of e.values())if(n.parentId)n9(n,e,t,r);else{let e=nf(no(n,r.nodeOrigin),nR(n.extent)?n.extent:r.nodeExtent,nz(n));n.internals.positionAbsolute=e}}(i,a,{nodeOrigin:s,nodeExtent:u}),d?(n(),e({fitViewQueued:!1,fitViewOptions:void 0})):e({}),(null==f?void 0:f.length)>0&&(c&&console.log("React Flow: trigger node changes",f),null==o||o(f)))},updateNodePositions:function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],o=[],{nodeLookup:i,triggerNodeChanges:a}=t();for(let[t,a]of e){let e=i.get(t),u=!!((null==e?void 0:e.expandParent)&&(null==e?void 0:e.parentId)&&(null==a?void 0:a.position)),c={id:t,type:"position",position:u?{x:Math.max(0,a.position.x),y:Math.max(0,a.position.y)}:a.position,dragging:n};if(u&&e.parentId){var l,s;r.push({id:t,parentId:e.parentId,rect:{...a.internals.positionAbsolute,width:null!=(l=a.measured.width)?l:0,height:null!=(s=a.measured.height)?s:0}})}o.push(c)}if(r.length>0){let{parentLookup:e,nodeOrigin:n}=t(),a=re(r,i,e,n);o.push(...a)}a(o)},triggerNodeChanges:e=>{let{onNodesChange:n,setNodes:r,nodes:o,hasDefaultNodes:i,debug:a}=t();(null==e?void 0:e.length)&&(i&&r(oe(e,o)),a&&console.log("React Flow: trigger node changes",e),null==n||n(e))},triggerEdgeChanges:e=>{let{onEdgesChange:n,setEdges:r,edges:o,hasDefaultEdges:i,debug:a}=t();(null==e?void 0:e.length)&&(i&&r(oe(e,o)),a&&console.log("React Flow: trigger edge changes",e),null==n||n(e))},addSelectedNodes:e=>{let{multiSelectionActive:n,edgeLookup:r,nodeLookup:o,triggerNodeChanges:i,triggerEdgeChanges:a}=t();if(n)return void i(e.map(e=>on(e,!0)));i(or(o,new Set([...e]),!0)),a(or(r))},addSelectedEdges:e=>{let{multiSelectionActive:n,edgeLookup:r,nodeLookup:o,triggerNodeChanges:i,triggerEdgeChanges:a}=t();if(n)return void a(e.map(e=>on(e,!0)));a(or(r,new Set([...e]))),i(or(o,new Set,!0))},unselectNodesAndEdges:function(){let{nodes:e,edges:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{edges:r,nodes:o,nodeLookup:i,triggerNodeChanges:a,triggerEdgeChanges:l}=t(),s=(e||o).map(e=>{let t=i.get(e.id);return t&&(t.selected=!1),on(e.id,!1)}),u=(n||r).map(e=>on(e.id,!1));a(s),l(u)},setMinZoom:n=>{let{panZoom:r,maxZoom:o}=t();null==r||r.setScaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{let{panZoom:r,minZoom:o}=t();null==r||r.setScaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null==(r=t().panZoom)||r.setTranslateExtent(n),e({translateExtent:n})},setPaneClickDistance:e=>{var n;null==(n=t().panZoom)||n.setClickDistance(e)},resetSelectedElements:()=>{let{edges:e,nodes:n,triggerNodeChanges:r,triggerEdgeChanges:o,elementsSelectable:i}=t();if(!i)return;let a=n.reduce((e,t)=>t.selected?[...e,on(t.id,!1)]:e,[]),l=e.reduce((e,t)=>t.selected?[...e,on(t.id,!1)]:e,[]);r(a),o(l)},setNodeExtent:n=>{let{nodes:r,nodeLookup:o,parentLookup:i,nodeOrigin:a,elevateNodesOnSelect:l,nodeExtent:s}=t();(n[0][0]!==s[0][0]||n[0][1]!==s[0][1]||n[1][0]!==s[1][0]||n[1][1]!==s[1][1])&&(n8(r,o,i,{nodeOrigin:a,nodeExtent:n,elevateNodesOnSelect:l,checkEquality:!1}),e({nodeExtent:n}))},panBy:e=>{let{transform:n,width:r,height:o,panZoom:i,translateExtent:a}=t();return rt({delta:e,panZoom:i,transform:n,translateExtent:a,width:r,height:o})},setCenter:async(e,n,r)=>{let{width:o,height:i,maxZoom:a,panZoom:l}=t();if(!l)return Promise.resolve(!1);let s=void 0!==(null==r?void 0:r.zoom)?r.zoom:a;return await l.setViewport({x:o/2-e*s,y:i/2-n*s,zoom:s},{duration:null==r?void 0:r.duration,ease:null==r?void 0:r.ease,interpolate:null==r?void 0:r.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{e({connection:{...t7}})},updateConnection:t=>{e({connection:t})},reset:()=>e({...iM()})}},n=Object.is,t?rO(t,n):rO})({nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:f,minZoom:l,maxZoom:s,fitViewOptions:u,nodeOrigin:h,nodeExtent:p}));return(0,c.jsx)(rz,{value:v,children:(0,c.jsx)(od,{children:g})})}function iA(e){let{children:t,nodes:n,edges:r,defaultNodes:o,defaultEdges:i,width:a,height:l,fitView:s,fitViewOptions:u,minZoom:f,maxZoom:h,nodeOrigin:p,nodeExtent:g}=e;return(0,d.useContext)(rR)?(0,c.jsx)(c.Fragment,{children:t}):(0,c.jsx)(ij,{initialNodes:n,initialEdges:r,defaultNodes:o,defaultEdges:i,initialWidth:a,initialHeight:l,fitView:s,initialFitViewOptions:u,initialMinZoom:f,initialMaxZoom:h,nodeOrigin:p,nodeExtent:g,children:t})}let iO={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var iN=ol(function(e,t){let{nodes:n,edges:a,defaultNodes:l,defaultEdges:s,className:u,nodeTypes:h,edgeTypes:p,onNodeClick:g,onEdgeClick:v,onInit:m,onMove:y,onMoveStart:b,onMoveEnd:x,onConnect:w,onConnectStart:S,onConnectEnd:E,onClickConnectStart:_,onClickConnectEnd:C,onNodeMouseEnter:k,onNodeMouseMove:M,onNodeMouseLeave:j,onNodeContextMenu:A,onNodeDoubleClick:O,onNodeDragStart:N,onNodeDrag:R,onNodeDragStop:z,onNodesDelete:P,onEdgesDelete:T,onDelete:D,onSelectionChange:L,onSelectionDragStart:I,onSelectionDrag:F,onSelectionDragStop:B,onSelectionContextMenu:H,onSelectionStart:W,onSelectionEnd:V,onBeforeDelete:U,connectionMode:Y,connectionLineType:X=i.Bezier,connectionLineStyle:G,connectionLineComponent:q,connectionLineContainerStyle:K,deleteKeyCode:Z="Backspace",selectionKeyCode:$="Shift",selectionOnDrag:Q=!1,selectionMode:J=o.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:et=nN()?"Meta":"Control",zoomActivationKeyCode:en=nN()?"Meta":"Control",snapToGrid:er,snapGrid:eo,onlyRenderVisibleElements:ei=!1,selectNodesOnDrag:ea,nodesDraggable:el,autoPanOnNodeFocus:es,nodesConnectable:eu,nodesFocusable:ec,nodeOrigin:ed=rJ,edgesFocusable:ef,edgesReconnectable:eh,elementsSelectable:ep=!0,defaultViewport:eg=r0,minZoom:ev=.5,maxZoom:em=2,translateExtent:ey=t6,preventScrolling:eb=!0,nodeExtent:ex,defaultMarkerColor:ew="#b1b1b7",zoomOnScroll:eS=!0,zoomOnPinch:eE=!0,panOnScroll:e_=!1,panOnScrollSpeed:eC=.5,panOnScrollMode:ek=r.Free,zoomOnDoubleClick:eM=!0,panOnDrag:ej=!0,onPaneClick:eA,onPaneMouseEnter:eO,onPaneMouseMove:eN,onPaneMouseLeave:eR,onPaneScroll:ez,onPaneContextMenu:eP,paneClickDistance:eT=0,nodeClickDistance:eD=0,children:eL,onReconnect:eI,onReconnectStart:eF,onReconnectEnd:eB,onEdgeContextMenu:eH,onEdgeDoubleClick:eW,onEdgeMouseEnter:eV,onEdgeMouseMove:eU,onEdgeMouseLeave:eY,reconnectRadius:eX=10,onNodesChange:eG,onEdgesChange:eq,noDragClassName:eK="nodrag",noWheelClassName:eZ="nowheel",noPanClassName:e$="nopan",fitView:eQ,fitViewOptions:eJ,connectOnClick:e0,attributionPosition:e1,proOptions:e2,defaultEdgeOptions:e5,elevateNodesOnSelect:e3,elevateEdgesOnSelect:e4,disableKeyboardA11y:e6=!1,autoPanOnConnect:e8,autoPanOnNodeDrag:e9,autoPanSpeed:e7,connectionRadius:te,isValidConnection:tt,onError:tn,style:tr,id:to,nodeDragThreshold:ti,connectionDragThreshold:ta,viewport:tl,onViewportChange:ts,width:tu,height:tc,colorMode:td="light",debug:tf,onScroll:th,ariaLabelConfig:tp,...tg}=e,tv=to||"1",tm=function(e){var t;let[n,r]=(0,d.useState)("system"===e?null:e);return(0,d.useEffect)(()=>{if("system"!==e)return void r(e);let t=r4(),n=()=>r((null==t?void 0:t.matches)?"dark":"light");return n(),null==t||t.addEventListener("change",n),()=>{null==t||t.removeEventListener("change",n)}},[e]),null!==n?n:(null==(t=r4())?void 0:t.matches)?"dark":"light"}(td),ty=(0,d.useCallback)(e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),null==th||th(e)},[th]);return(0,c.jsx)("div",{"data-testid":"rf__wrapper",...tg,onScroll:ty,style:{...tr,...iO},ref:t,className:f(["react-flow",u,tm]),id:to,role:"application",children:(0,c.jsxs)(iA,{nodes:n,edges:a,width:tu,height:tc,fitView:eQ,fitViewOptions:eJ,minZoom:ev,maxZoom:em,nodeOrigin:ed,nodeExtent:ex,children:[(0,c.jsx)(ik,{onInit:m,onNodeClick:g,onEdgeClick:v,onNodeMouseEnter:k,onNodeMouseMove:M,onNodeMouseLeave:j,onNodeContextMenu:A,onNodeDoubleClick:O,nodeTypes:h,edgeTypes:p,connectionLineType:X,connectionLineStyle:G,connectionLineComponent:q,connectionLineContainerStyle:K,selectionKeyCode:$,selectionOnDrag:Q,selectionMode:J,deleteKeyCode:Z,multiSelectionKeyCode:et,panActivationKeyCode:ee,zoomActivationKeyCode:en,onlyRenderVisibleElements:ei,defaultViewport:eg,translateExtent:ey,minZoom:ev,maxZoom:em,preventScrolling:eb,zoomOnScroll:eS,zoomOnPinch:eE,zoomOnDoubleClick:eM,panOnScroll:e_,panOnScrollSpeed:eC,panOnScrollMode:ek,panOnDrag:ej,onPaneClick:eA,onPaneMouseEnter:eO,onPaneMouseMove:eN,onPaneMouseLeave:eR,onPaneScroll:ez,onPaneContextMenu:eP,paneClickDistance:eT,nodeClickDistance:eD,onSelectionContextMenu:H,onSelectionStart:W,onSelectionEnd:V,onReconnect:eI,onReconnectStart:eF,onReconnectEnd:eB,onEdgeContextMenu:eH,onEdgeDoubleClick:eW,onEdgeMouseEnter:eV,onEdgeMouseMove:eU,onEdgeMouseLeave:eY,reconnectRadius:eX,defaultMarkerColor:ew,noDragClassName:eK,noWheelClassName:eZ,noPanClassName:e$,rfId:tv,disableKeyboardA11y:e6,nodeExtent:ex,viewport:tl,onViewportChange:ts}),(0,c.jsx)(r3,{nodes:n,edges:a,defaultNodes:l,defaultEdges:s,onConnect:w,onConnectStart:S,onConnectEnd:E,onClickConnectStart:_,onClickConnectEnd:C,nodesDraggable:el,autoPanOnNodeFocus:es,nodesConnectable:eu,nodesFocusable:ec,edgesFocusable:ef,edgesReconnectable:eh,elementsSelectable:ep,elevateNodesOnSelect:e3,elevateEdgesOnSelect:e4,minZoom:ev,maxZoom:em,nodeExtent:ex,onNodesChange:eG,onEdgesChange:eq,snapToGrid:er,snapGrid:eo,connectionMode:Y,translateExtent:ey,connectOnClick:e0,defaultEdgeOptions:e5,fitView:eQ,fitViewOptions:eJ,onNodesDelete:P,onEdgesDelete:T,onDelete:D,onNodeDragStart:N,onNodeDrag:R,onNodeDragStop:z,onSelectionDrag:F,onSelectionDragStart:I,onSelectionDragStop:B,onMove:y,onMoveStart:b,onMoveEnd:x,noPanClassName:e$,nodeOrigin:ed,rfId:tv,autoPanOnConnect:e8,autoPanOnNodeDrag:e9,autoPanSpeed:e7,onError:tn,connectionRadius:te,isValidConnection:tt,selectNodesOnDrag:ea,nodeDragThreshold:ti,connectionDragThreshold:ta,onBeforeDelete:U,paneClickDistance:eT,debug:tf,ariaLabelConfig:tp}),(0,c.jsx)(rQ,{onSelectionChange:L}),eL,(0,c.jsx)(rX,{proOptions:e2,position:e1}),(0,c.jsx)(rU,{rfId:tv,disableKeyboardA11y:e6})]})})});function iR(e){let{dimensions:t,lineWidth:n,variant:r,className:o}=e;return(0,c.jsx)("path",{strokeWidth:n,d:"M".concat(t[0]/2," 0 V").concat(t[1]," M0 ").concat(t[1]/2," H").concat(t[0]),className:f(["react-flow__background-pattern",r,o])})}function iz(e){let{radius:t,className:n}=e;return(0,c.jsx)("circle",{cx:t,cy:t,r:t,className:f(["react-flow__background-pattern","dots",n])})}t4.error014(),function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(u||(u={}));let iP={[u.Dots]:1,[u.Lines]:1,[u.Cross]:6},iT=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function iD(e){let{id:t,variant:n=u.Dots,gap:r=20,size:o,lineWidth:i=1,offset:a=0,color:l,bgColor:s,style:h,className:p,patternClassName:g}=e,v=(0,d.useRef)(null),{transform:m,patternId:y}=rT(iT,rN),b=o||iP[n],x=n===u.Dots,w=n===u.Cross,S=Array.isArray(r)?r:[r,r],E=[S[0]*m[2]||1,S[1]*m[2]||1],_=b*m[2],C=Array.isArray(a)?a:[a,a],k=w?[_,_]:E,M=[C[0]*m[2]||1+k[0]/2,C[1]*m[2]||1+k[1]/2],j="".concat(y).concat(t||"");return(0,c.jsxs)("svg",{className:f(["react-flow__background",p]),style:{...h,...ov,"--xy-background-color-props":s,"--xy-background-pattern-color-props":l},ref:v,"data-testid":"rf__background",children:[(0,c.jsx)("pattern",{id:j,x:m[0]%E[0],y:m[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(M[0],",-").concat(M[1],")"),children:x?(0,c.jsx)(iz,{radius:_/2,className:g}):(0,c.jsx)(iR,{dimensions:k,lineWidth:i,variant:n,className:g})}),(0,c.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(j,")")})]})}iD.displayName="Background";let iL=(0,d.memo)(iD);function iI(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,c.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function iF(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,c.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function iB(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,c.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function iH(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,c.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function iW(){return(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,c.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function iV(e){let{children:t,className:n,...r}=e;return(0,c.jsx)("button",{type:"button",className:f(["react-flow__controls-button",n]),...r,children:t})}let iU=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function iY(e){let{style:t,showZoom:n=!0,showFitView:r=!0,showInteractive:o=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:l,onFitView:s,onInteractiveChange:u,className:d,children:h,position:p="bottom-left",orientation:g="vertical","aria-label":v}=e,m=rD(),{isInteractive:y,minZoomReached:b,maxZoomReached:x,ariaLabelConfig:w}=rT(iU,rN),{zoomIn:S,zoomOut:E,fitView:_}=oh();return(0,c.jsxs)(rY,{className:f(["react-flow__controls","horizontal"===g?"horizontal":"vertical",d]),position:p,style:t,"data-testid":"rf__controls","aria-label":null!=v?v:w["controls.ariaLabel"],children:[n&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(iV,{onClick:()=>{S(),null==a||a()},className:"react-flow__controls-zoomin",title:w["controls.zoomIn.ariaLabel"],"aria-label":w["controls.zoomIn.ariaLabel"],disabled:x,children:(0,c.jsx)(iI,{})}),(0,c.jsx)(iV,{onClick:()=>{E(),null==l||l()},className:"react-flow__controls-zoomout",title:w["controls.zoomOut.ariaLabel"],"aria-label":w["controls.zoomOut.ariaLabel"],disabled:b,children:(0,c.jsx)(iF,{})})]}),r&&(0,c.jsx)(iV,{className:"react-flow__controls-fitview",onClick:()=>{_(i),null==s||s()},title:w["controls.fitView.ariaLabel"],"aria-label":w["controls.fitView.ariaLabel"],children:(0,c.jsx)(iB,{})}),o&&(0,c.jsx)(iV,{className:"react-flow__controls-interactive",onClick:()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),null==u||u(!y)},title:w["controls.interactive.ariaLabel"],"aria-label":w["controls.interactive.ariaLabel"],children:y?(0,c.jsx)(iW,{}):(0,c.jsx)(iH,{})}),h]})}iY.displayName="Controls",(0,d.memo)(iY);let iX=(0,d.memo)(function(e){let{id:t,x:n,y:r,width:o,height:i,style:a,color:l,strokeColor:s,strokeWidth:u,className:d,borderRadius:h,shapeRendering:p,selected:g,onClick:v}=e,{background:m,backgroundColor:y}=a||{};return(0,c.jsx)("rect",{className:f(["react-flow__minimap-node",{selected:g},d]),x:n,y:r,rx:h,ry:h,width:o,height:i,style:{fill:l||m||y,stroke:s,strokeWidth:u},shapeRendering:p,onClick:v?e=>v(e,t):void 0})}),iG=e=>e.nodes.map(e=>e.id),iq=e=>e instanceof Function?e:()=>e,iK=(0,d.memo)(function(e){let{id:t,nodeColorFunc:n,nodeStrokeColorFunc:r,nodeClassNameFunc:o,nodeBorderRadius:i,nodeStrokeWidth:a,shapeRendering:l,NodeComponent:s,onClick:u}=e,{node:d,x:f,y:h,width:p,height:g}=rT(e=>{let{internals:n}=e.nodeLookup.get(t),r=n.userNode,{x:o,y:i}=n.positionAbsolute,{width:a,height:l}=nz(r);return{node:r,x:o,y:i,width:a,height:l}},rN);return d&&!d.hidden&&nP(d)?(0,c.jsx)(s,{x:f,y:h,width:p,height:g,style:d.style,selected:!!d.selected,className:o(d),color:n(d),borderRadius:i,strokeColor:r(d),strokeWidth:a,shapeRendering:l,onClick:u,id:d.id}):null});var iZ=(0,d.memo)(function(e){let{nodeStrokeColor:t,nodeColor:n,nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:a=iX,onClick:l}=e,s=rT(iG,rN),u=iq(n),d=iq(t),f=iq(r),h="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,c.jsx)(c.Fragment,{children:s.map(e=>(0,c.jsx)(iK,{id:e,nodeColorFunc:u,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:o,nodeStrokeWidth:i,NodeComponent:a,onClick:l,shapeRendering:h},e))})});let i$=e=>!e.hidden,iQ=e=>{let t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?nw(na(e.nodeLookup,{filter:i$}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}};function iJ(e){var t,n;let{style:r,className:o,nodeStrokeColor:i,nodeColor:a,nodeClassName:l="",nodeBorderRadius:s=5,nodeStrokeWidth:u,nodeComponent:h,bgColor:p,maskColor:g,maskStrokeColor:v,maskStrokeWidth:m,position:y="bottom-right",onClick:b,onNodeClick:x,pannable:w=!1,zoomable:S=!1,ariaLabel:E,inversePan:_,zoomStep:C=1,offsetScale:k=5}=e,M=rD(),j=(0,d.useRef)(null),{boundingRect:A,viewBB:O,rfId:N,panZoom:R,translateExtent:z,flowWidth:P,flowHeight:T,ariaLabelConfig:D}=rT(iQ,rN),L=null!=(t=null==r?void 0:r.width)?t:200,I=null!=(n=null==r?void 0:r.height)?n:150,F=Math.max(A.width/L,A.height/I),B=F*L,H=F*I,W=k*F,V=A.x-(B-A.width)/2-W,U=A.y-(H-A.height)/2-W,Y=B+2*W,X=H+2*W,G="".concat("react-flow__minimap-desc","-").concat(N),q=(0,d.useRef)(0),K=(0,d.useRef)();q.current=F,(0,d.useEffect)(()=>{if(j.current&&R)return K.current=function(e){let{domNode:t,panZoom:n,getTransform:r,getViewScale:o}=e,i=eo(t);return{update:function(e){let{translateExtent:t,width:a,height:l,zoomStep:s=1,pannable:u=!0,zoomable:c=!0,inversePan:d=!1}=e,f=[0,0],h=t5().on("start",e=>{if("mousedown"===e.sourceEvent.type||"touchstart"===e.sourceEvent.type){var t,n;f=[null!=(t=e.sourceEvent.clientX)?t:e.sourceEvent.touches[0].clientX,null!=(n=e.sourceEvent.clientY)?n:e.sourceEvent.touches[0].clientY]}}).on("zoom",u?e=>{var i,s;let u=r();if("mousemove"!==e.sourceEvent.type&&"touchmove"!==e.sourceEvent.type||!n)return;let c=[null!=(i=e.sourceEvent.clientX)?i:e.sourceEvent.touches[0].clientX,null!=(s=e.sourceEvent.clientY)?s:e.sourceEvent.touches[0].clientY],h=[c[0]-f[0],c[1]-f[1]];f=c;let p=o()*Math.max(u[2],Math.log(u[2]))*(d?-1:1),g={x:u[0]-h[0]*p,y:u[1]-h[1]*p};n.setViewportConstrained({x:g.x,y:g.y,zoom:u[2]},[[0,0],[a,l]],t)}:null).on("zoom.wheel",c?e=>{if("wheel"!==e.sourceEvent.type||!n)return;let t=r(),o=e.sourceEvent.ctrlKey&&nN()?10:1,i=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*s,a=t[2]*Math.pow(2,i*o);n.scaleTo(a)}:null);i.call(h,{})},destroy:function(){i.on("zoom",null)},pointer:ei}}({domNode:j.current,panZoom:R,getTransform:()=>M.getState().transform,getViewScale:()=>q.current}),()=>{var e;null==(e=K.current)||e.destroy()}},[R]),(0,d.useEffect)(()=>{var e;null==(e=K.current)||e.update({translateExtent:z,width:P,height:T,inversePan:_,pannable:w,zoomStep:C,zoomable:S})},[w,S,_,C,z,P,T]);let Z=b?e=>{var t;let[n,r]=(null==(t=K.current)?void 0:t.pointer(e))||[0,0];b(e,{x:n,y:r})}:void 0,$=x?(0,d.useCallback)((e,t)=>{x(e,M.getState().nodeLookup.get(t).internals.userNode)},[]):void 0,Q=null!=E?E:D["minimap.ariaLabel"];return(0,c.jsx)(rY,{position:y,style:{...r,"--xy-minimap-background-color-props":"string"==typeof p?p:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof g?g:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof v?v:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof m?m*F:void 0,"--xy-minimap-node-background-color-props":"string"==typeof a?a:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof i?i:void 0,"--xy-minimap-node-stroke-width-props":"number"==typeof u?u:void 0},className:f(["react-flow__minimap",o]),"data-testid":"rf__minimap",children:(0,c.jsxs)("svg",{width:L,height:I,viewBox:"".concat(V," ").concat(U," ").concat(Y," ").concat(X),className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:j,onClick:Z,children:[Q&&(0,c.jsx)("title",{id:G,children:Q}),(0,c.jsx)(iZ,{onClick:$,nodeColor:a,nodeStrokeColor:i,nodeBorderRadius:s,nodeClassName:l,nodeStrokeWidth:u,nodeComponent:h}),(0,c.jsx)("path",{className:"react-flow__minimap-mask",d:"M".concat(V-W,",").concat(U-W,"h").concat(Y+2*W,"v").concat(X+2*W,"h").concat(-Y-2*W,"z\n        M").concat(O.x,",").concat(O.y,"h").concat(O.width,"v").concat(O.height,"h").concat(-O.width,"z"),fillRule:"evenodd",pointerEvents:"none"})]})})}iJ.displayName="MiniMap",(0,d.memo)(iJ);let i0={[s.Line]:"right",[s.Handle]:"bottom-right"},i1=(0,d.memo)(function(e){let t,{nodeId:n,position:r,variant:o=s.Handle,className:i,style:a,children:l,color:u,minWidth:h=10,minHeight:p=10,maxWidth:g=Number.MAX_VALUE,maxHeight:v=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:y,autoScale:b=!0,shouldResize:x,onResizeStart:w,onResize:S,onResizeEnd:E}=e,_=oA(),C="string"==typeof n?n:_,k=rD(),M=(0,d.useRef)(null),j=o===s.Handle,A=rT((0,d.useCallback)((t=j&&b,e=>t?"".concat(Math.max(1/e.transform[2],1)):void 0),[j,b]),rN),O=(0,d.useRef)(null),N=null!=r?r:i0[o];(0,d.useEffect)(()=>{if(M.current&&C)return O.current||(O.current=function(e){let{domNode:t,nodeId:n,getStoreItems:r,onChange:o,onEnd:i}=e,a=eo(t);return{update:function(e){let t,l,s,u,{controlPosition:c,boundaries:d,keepAspectRatio:f,resizeDirection:h,onResizeStart:p,onResize:g,onResizeEnd:v,shouldResize:m}=e,y={...rw},b={...rS},x=function(e){let t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:e.includes("left"),affectsY:e.includes("top")}}(c),w=null,S=[],E=!1,_=ey().on("start",e=>{var o,i,a,c,d,f,h;let{nodeLookup:g,transform:v,snapGrid:m,snapToGrid:x,nodeOrigin:E,paneDomNode:_}=r();if(!(t=g.get(n)))return;w=null!=(o=null==_?void 0:_.getBoundingClientRect())?o:null;let{xSnapped:C,ySnapped:k}=nL(e.sourceEvent,{transform:v,snapGrid:m,snapToGrid:x,containerBounds:w});for(let[e,r]of(b={...y={width:null!=(i=t.measured.width)?i:0,height:null!=(a=t.measured.height)?a:0,x:null!=(c=t.position.x)?c:0,y:null!=(d=t.position.y)?d:0},pointerX:C,pointerY:k,aspectRatio:y.width/y.height},l=void 0,t.parentId&&("parent"===t.extent||t.expandParent)&&(s=(l=g.get(t.parentId))&&"parent"===t.extent?[[0,0],[(h=l).measured.width,h.measured.height]]:void 0),S=[],u=void 0,g))if(r.parentId===n&&(S.push({id:e,position:{...r.position},extent:r.extent}),"parent"===r.extent||r.expandParent)){let e=function(e,t,n){var r,o;let i=t.position.x+e.position.x,a=t.position.y+e.position.y,l=null!=(r=e.measured.width)?r:0,s=null!=(o=e.measured.height)?o:0,u=n[0]*l,c=n[1]*s;return[[i-u,a-c],[i+l-u,a+s-c]]}(r,t,null!=(f=r.origin)?f:E);u=u?[[Math.min(e[0][0],u[0][0]),Math.min(e[0][1],u[0][1])],[Math.max(e[1][0],u[1][0]),Math.max(e[1][1],u[1][1])]]:e}null==p||p(e,{...y})}).on("drag",e=>{var n,i,a;let{transform:c,snapGrid:p,snapToGrid:v,nodeOrigin:_}=r(),C=nL(e.sourceEvent,{transform:c,snapGrid:p,snapToGrid:v,containerBounds:w}),k=[];if(!t)return;let{x:M,y:j,width:A,height:O}=y,N={},R=null!=(n=t.origin)?n:_,{width:z,height:P,x:T,y:D}=function(e,t,n,r,o,i,a,l){var s,u,c,d;let{affectsX:f,affectsY:h}=t,{isHorizontal:p,isVertical:g}=t,v=p&&g,{xSnapped:m,ySnapped:y}=n,{minWidth:b,maxWidth:x,minHeight:w,maxHeight:S}=r,{x:E,y:_,width:C,height:k,aspectRatio:M}=e,j=Math.floor(p?m-e.pointerX:0),A=Math.floor(g?y-e.pointerY:0),O=C+(f?-j:j),N=k+(h?-A:A),R=-i[0]*C,z=-i[1]*k,P=rx(O,b,x),T=rx(N,w,S);if(a){let e=0,t=0;f&&j<0?e=ry(E+j+R,a[0][0]):!f&&j>0&&(e=rb(E+O+R,a[1][0])),h&&A<0?t=ry(_+A+z,a[0][1]):!h&&A>0&&(t=rb(_+N+z,a[1][1])),P=Math.max(P,e),T=Math.max(T,t)}if(l){let e=0,t=0;f&&j>0?e=rb(E+j,l[0][0]):!f&&j<0&&(e=ry(E+O,l[1][0])),h&&A>0?t=rb(_+A,l[0][1]):!h&&A<0&&(t=ry(_+N,l[1][1])),P=Math.max(P,e),T=Math.max(T,t)}if(o){if(p){(P=Math.max(P,rx(O/M,w,S)*M),a)&&(P=Math.max(P,(f||h)&&(!f||h||!v)?ry(_+z+(f?j:-j)/M,a[0][1])*M:rb(_+z+O/M,a[1][1])*M));l&&(P=Math.max(P,(f||h)&&(!f||h||!v)?rb(_+(f?j:-j)/M,l[0][1])*M:ry(_+O/M,l[1][1])*M))}if(g){(T=Math.max(T,rx(N*M,b,x)/M),a)&&(T=Math.max(T,(f||h)&&(!h||f||!v)?ry(E+(h?A:-A)*M+R,a[0][0])/M:rb(E+N*M+R,a[1][0])/M));l&&(T=Math.max(T,(f||h)&&(!h||f||!v)?rb(E+(h?A:-A)*M,l[0][0])/M:ry(E+N*M,l[1][0])/M))}}A+=A<0?T:-T,j+=j<0?P:-P,o&&(v?O>N*M?A=((s=f,u=h,s?!u:u)?-j:j)/M:j=((c=f,d=h,c?!d:d)?-A:A)*M:p?(A=j/M,h=f):(j=A*M,f=h));let D=f?E+j:E,L=h?_+A:_;return{width:C+(f?-j:j),height:k+(h?-A:A),x:i[0]*j*(f?-1:1)+D,y:i[1]*A*(h?-1:1)+L}}(b,x,C,d,f,R,s,u),L=z!==A,I=P!==O,F=T!==M&&L,B=D!==j&&I;if(!F&&!B&&!L&&!I)return;if((F||B||1===R[0]||1===R[1])&&(N.x=F?T:y.x,N.y=B?D:y.y,y.x=N.x,y.y=N.y,S.length>0)){let e=T-M,t=D-j;for(let n of S)n.position={x:n.position.x-e+R[0]*(z-A),y:n.position.y-t+R[1]*(P-O)},k.push(n)}if((L||I)&&(N.width=L&&(!h||"horizontal"===h)?z:y.width,N.height=I&&(!h||"vertical"===h)?P:y.height,y.width=N.width,y.height=N.height),l&&t.expandParent){let e=R[0]*(null!=(i=N.width)?i:0);N.x&&N.x<e&&(y.x=e,b.x=b.x-(N.x-e));let t=R[1]*(null!=(a=N.height)?a:0);N.y&&N.y<t&&(y.y=t,b.y=b.y-(N.y-t))}let H=function(e){let{width:t,prevWidth:n,height:r,prevHeight:o,affectsX:i,affectsY:a}=e,l=t-n,s=r-o,u=[l>0?1:l<0?-1:0,s>0?1:s<0?-1:0];return l&&i&&(u[0]=-1*u[0]),s&&a&&(u[1]=-1*u[1]),u}({width:y.width,prevWidth:A,height:y.height,prevHeight:O,affectsX:x.affectsX,affectsY:x.affectsY}),W={...y,direction:H};!1!==(null==m?void 0:m(e,W))&&(E=!0,null==g||g(e,W),o(N,k))}).on("end",e=>{E&&(null==v||v(e,{...y}),null==i||i({...y}),E=!1)});a.call(_)},destroy:function(){a.on(".drag",null)}}}({domNode:M.current,nodeId:C,getStoreItems:()=>{let{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,domNode:i}=k.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,paneDomNode:i}},onChange:(e,t)=>{let{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,nodeOrigin:i}=k.getState(),a=[],l={x:e.x,y:e.y},s=r.get(C);if(s&&s.expandParent&&s.parentId){var u,c,d,f,h,p,g;let t=null!=(u=s.origin)?u:i,n=null!=(d=null!=(c=e.width)?c:s.measured.width)?d:0,v=null!=(h=null!=(f=e.height)?f:s.measured.height)?h:0,m=re([{id:s.id,parentId:s.parentId,rect:{width:n,height:v,...nT({x:null!=(p=e.x)?p:s.position.x,y:null!=(g=e.y)?g:s.position.y},{width:n,height:v},s.parentId,r,t)}}],r,o,i);a.push(...m),l.x=e.x?Math.max(t[0]*n,e.x):void 0,l.y=e.y?Math.max(t[1]*v,e.y):void 0}if(void 0!==l.x&&void 0!==l.y){let e={id:C,type:"position",position:{...l}};a.push(e)}if(void 0!==e.width&&void 0!==e.height){let t={id:C,type:"dimensions",resizing:!0,setAttributes:!y||("horizontal"===y?"width":"height"),dimensions:{width:e.width,height:e.height}};a.push(t)}for(let e of t){let t={...e,type:"position"};a.push(t)}n(a)},onEnd:e=>{let{width:t,height:n}=e;k.getState().triggerNodeChanges([{id:C,type:"dimensions",resizing:!1,dimensions:{width:t,height:n}}])}})),O.current.update({controlPosition:N,boundaries:{minWidth:h,minHeight:p,maxWidth:g,maxHeight:v},keepAspectRatio:m,resizeDirection:y,onResizeStart:w,onResize:S,onResizeEnd:E,shouldResize:x}),()=>{var e;null==(e=O.current)||e.destroy()}},[N,h,p,g,v,m,w,S,E,x]);let R=N.split("-");return(0,c.jsx)("div",{className:f(["react-flow__resize-control","nodrag",...R,o,i]),ref:M,style:{...a,scale:A,...u&&{[j?"backgroundColor":"borderColor"]:u}},children:l})})},40141,e=>{"use strict";e.s(["GenIcon",()=>s],40141);var t=e.i(71645),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=t.default.createContext&&t.default.createContext(n),o=["attr","size","title"];function i(){return(i=Object.assign.bind()).apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){return n=>t.default.createElement(u,i({attr:l({},e.attr)},n),function e(n){return n&&n.map((n,r)=>t.default.createElement(n.tag,l({key:r},n.attr),e(n.child)))}(e.child))}function u(e){var a=n=>{var r,{attr:a,size:s,title:u}=e,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,o),d=s||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.default.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,c,{className:r,style:l(l({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&t.default.createElement("title",null,u),e.children)};return void 0!==r?t.default.createElement(r.Consumer,null,e=>a(e)):a(n)}},85845,(e,t,n)=>{var r=e.r(77684),o=e.r(45350),i=e.r(77289);t.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},72385,(e,t,n)=>{t.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===n(i[s],s,i))break}return t}}},98728,(e,t,n)=>{t.exports=e.r(72385)()},63799,(e,t,n)=>{var r=e.r(98728),o=e.r(33679);t.exports=function(e,t){return e&&r(e,t,o)}},73282,(e,t,n)=>{var r=e.r(53336);t.exports=function(e){return"function"==typeof e?e:r}},47423,(e,t,n)=>{var r=e.r(63799),o=e.r(73282);t.exports=function(e,t){return e&&r(e,o(t))}},73554,(e,t,n)=>{var r=e.r(51095);t.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,l=Object(n);(t?a--:++a<i)&&!1!==o(l[a],a,l););return n}}},53587,(e,t,n)=>{var r=e.r(63799);t.exports=e.r(73554)(r)},7073,(e,t,n)=>{var r=e.r(53587),o=e.r(51095);t.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},10632,(e,t,n)=>{var r=e.r(92708),o=e.r(66305),i=e.r(7073),a=e.r(45350);t.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},51061,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.flattenNames=void 0;var r=l(e.r(85845)),o=l(e.r(47423)),i=l(e.r(1320)),a=l(e.r(10632));function l(e){return e&&e.__esModule?e:{default:e}}var s=n.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return n.push(e)}):(0,i.default)(t)?(0,o.default)(t,function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)}):(0,r.default)(t)&&n.push(t)}),n};n.default=s},71944,(e,t,n)=>{var r=e.r(64324);t.exports=function(e){return r(e,5)}},42341,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mergeClasses=void 0;var r=a(e.r(47423)),o=a(e.r(71944)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var l=n.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,o.default)(e.default)||{};return t.map(function(t){var o=e[t];return o&&(0,r.default)(o,function(e,t){n[t]||(n[t]={}),n[t]=i({},n[t],o[t])}),t}),n};n.default=l},43762,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.autoprefix=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(e.r(47423)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},a=n.autoprefix=function(e){var t={};return(0,r.default)(e,function(e,n){var a={};(0,r.default)(e,function(e,t){var n=i[t];n?a=o({},a,n(e)):a[t]=e}),t[n]=a}),t};n.default=a},69316,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hover=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(e.r(71645));function i(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var a=n.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span",n=o.default.Component;if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function, not "+typeof n);function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var n,l,s,u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=s=i(this,(n=a.__proto__||Object.getPrototypeOf(a)).call.apply(n,[this].concat(c))),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return o.default.createElement(t,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},o.default.createElement(e,r({},s.props,s.state)))},i(s,l)}return a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(a,n):a.__proto__=n),a};n.default=a},75484,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.active=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(e.r(71645));function i(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var a=n.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span",n=o.default.Component;if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function, not "+typeof n);function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var n,l,s,u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=s=i(this,(n=a.__proto__||Object.getPrototypeOf(a)).call.apply(n,[this].concat(c))),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return o.default.createElement(t,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},o.default.createElement(e,r({},s.props,s.state)))},i(s,l)}return a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(a,n):a.__proto__=n),a};n.default=a},42006,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},65392,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ReactCSS=n.loop=n.handleActive=n.handleHover=n.hover=void 0;var r=u(e.r(51061)),o=u(e.r(42341)),i=u(e.r(43762)),a=u(e.r(69316)),l=u(e.r(75484)),s=u(e.r(42006));function u(e){return e&&e.__esModule?e:{default:e}}n.hover=a.default,n.handleHover=a.default,n.handleActive=l.default,n.loop=s.default;var c=n.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var l=(0,r.default)(n),s=(0,o.default)(e,l);return(0,i.default)(s)};n.default=c},48897,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(e.r(71645));n.default=function(e){var t=e.fill,n=e.width,i=e.height,a=e.style,l=function(e,t){var n={};for(var r in e)!(t.indexOf(r)>=0)&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",r({viewBox:"0 0 24 24",style:r({fill:void 0===t?"currentColor":t,width:void 0===n?24:n,height:void 0===i?24:i},void 0===a?{}:a)},l),o.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},52057,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(e.r(71645));n.default=function(e){var t=e.fill,n=e.width,i=e.height,a=e.style,l=function(e,t){var n={};for(var r in e)!(t.indexOf(r)>=0)&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return o.default.createElement("svg",r({viewBox:"0 0 24 24",style:r({fill:void 0===t?"currentColor":t,width:void 0===n?24:n,height:void 0===i?24:i},void 0===a?{}:a)},l),o.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},60067,10936,13536,49169,e=>{"use strict";e.s(["default",()=>s],60067);var t,n=e.i(43476),r=e.i(71645);e.s(["IoIosAddCircle",()=>i,"IoIosCloseCircle",()=>a,"IoMdResize",()=>l],10936);var o=e.i(40141);function i(e){return(0,o.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm90.5 224H272v74.5c0 8.8-7.2 16-16 16-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3V272h-74.5c-4.4 0-8.4-1.8-11.3-4.7-2.9-2.9-4.7-6.9-4.7-11.3 0-8.8 7.2-16 16-16H240v-74.5c0-8.8 7.2-16 16-16s16 7.2 16 16V240h74.5c8.8 0 16 7.2 16 16s-7.2 16-16 16z"},child:[]}]})(e)}function a(e){return(0,o.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm52.7 283.3L256 278.6l-52.7 52.7c-6.2 6.2-16.4 6.2-22.6 0-3.1-3.1-4.7-7.2-4.7-11.3 0-4.1 1.6-8.2 4.7-11.3l52.7-52.7-52.7-52.7c-3.1-3.1-4.7-7.2-4.7-11.3 0-4.1 1.6-8.2 4.7-11.3 6.2-6.2 16.4-6.2 22.6 0l52.7 52.7 52.7-52.7c6.2-6.2 16.4-6.2 22.6 0 6.2 6.2 6.2 16.4 0 22.6L278.6 256l52.7 52.7c6.2 6.2 6.2 16.4 0 22.6-6.2 6.3-16.4 6.3-22.6 0z"},child:[]}]})(e)}function l(e){return(0,o.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M297.6 48l64.9 64.9-249.6 249.6L48 297.6V464h166.4l-64.9-64.9 249.6-249.6 64.9 64.9V48z"},child:[]}]})(e)}function s(e){var t,o,l,s,u,c,d,f,h,p;let{id:g,data:v={},...m}=e,y=null!=(h=null==v||null==(t=v.position)?void 0:t.x)?h:Number.isFinite(null==(o=m.position)?void 0:o.x)?m.position.x:Number.isFinite(null==(s=m.node)||null==(l=s.position)?void 0:l.x)?m.node.position.x:0,b=null!=(p=null==v||null==(u=v.position)?void 0:u.y)?p:Number.isFinite(null==(c=m.position)?void 0:c.y)?m.position.y:Number.isFinite(null==(f=m.node)||null==(d=f.position)?void 0:d.y)?m.node.position.y:0,[x,w]=(0,r.useState)(!1),S=(null==v?void 0:v.maxX)||0,E=(null==v?void 0:v.maxY)||0,_={width:50,height:50,borderRadius:50,background:"var(--main)",fontWeight:700,fontSize:32,cursor:"pointer",color:"var(--accent-highlight)"},C=[{label:"Text",icon:(0,n.jsx)(i,{}),onClick:null==v?void 0:v.addTextNode},{label:"Image",icon:(0,n.jsx)(i,{}),onClick:null==v?void 0:v.openImagePicker}],k=(0,r.useMemo)(()=>Array.from({length:8},(e,t)=>{let n={0:"left",1:"left",2:"bottom",3:"right",4:"right",5:"right",6:"top",7:"left"},r={0:{x:[0,90],y:[-15,15]},1:{x:[0,90],y:[-15,15]},2:{x:[-45,45],y:[0,30]},3:{x:[-90,0],y:[-15,15]},4:{x:[-90,0],y:[-15,15]},5:{x:[-90,0],y:[-15,15]},6:{x:[-45,45],y:[-30,0]},7:{x:[0,90],y:[-15,15]}},o=t/8*(2*Math.PI)-Math.PI/2,i=-(60*Math.sin(o)),a=-(60*Math.cos(o)),l=[i+r[t].x[0],i+r[t].x[1]],s=[a+r[t].y[0],a+r[t].y[1]],u=y+l[0]+25,c=y+l[1]+25,d=b+s[0]+25,f=b+s[1]+25,h="left"===n[t]?45:"right"===n[t]?-45:0,p="top"===n[t]?15:"bottom"===n[t]?-15:0;return u<0||c>S||d<0||f>E?null:{idx:t,x:i,y:a,xOffset:h,yOffset:p,leftMost:u,rightMost:c,topMost:d,bottomMost:f}}),[60,90,30,S,E,y,b]),M=(0,r.useMemo)(()=>{let e=(k||[]).filter(Boolean);if(e.length<2)return[];let t=new Set(e.map(e=>e.idx));for(let n=0;n<8;n++){let r=n,o=(n+1)%8;if(t.has(r)&&t.has(o)){let t=e.find(e=>e.idx===r),n=e.find(e=>e.idx===o);if(t&&n)return[t,n]}}},[k]);return(0,n.jsxs)("div",{style:{background:"transparent",position:"relative",opacity:.7},"data-node-id":g,children:[x?(0,n.jsx)(a,{style:_,onClick:()=>w(e=>!e)}):(0,n.jsx)(i,{style:_,onClick:()=>w(e=>!e)}),x&&(M||[]).map((e,t)=>(0,n.jsxs)("div",{"data-anchor-idx":e.idx,"data-anchor-border":e.border,title:"anchor ".concat(e.idx),onClick:()=>{var n;let r=null==(n=C[t])?void 0:n.onClick;"function"==typeof r&&r({x:Math.round(y+25+(e.xOffset||0)+(e.x||0)),y:Math.round(b+25+(e.yOffset||0)+(e.y||0))})},style:{position:"absolute",left:25+e.xOffset+e.x,top:25+e.yOffset+e.y,transform:"translate(-50%, -50%)",width:90,height:30,borderRadius:6,background:"var(--accent-highlight)",border:"2px solid var(--main)",boxSizing:"border-box",pointerEvents:"auto",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:10,color:"var(--main)",cursor:"pointer"},children:[C[t].icon," ",C[t].label]},e.idx))]})}e.s([],13536);var u=e.i(65392),c=function(e,t,n,r,o){var i=o.clientWidth,a=o.clientHeight,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),c=s-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d=void 0;if(d=c<0?0:c>a?1:Math.round(100*c/a)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var f=void 0;if(r!==(f=u<0?0:u>i?1:Math.round(100*u/i)/100))return{h:t.h,s:t.s,l:t.l,a:f,source:"rgb"}}return null},d={},f=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null},h=function(e,t,n,r){var o=e+"-"+t+"-"+n+(r?"-server":"");if(d[o])return d[o];var i=f(e,t,n,r);return d[o]=i,i},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(e){var t=e.white,n=e.grey,o=e.size,i=e.renderers,a=e.borderRadius,l=e.boxShadow,s=e.children,c=(0,u.default)({default:{grid:{borderRadius:a,boxShadow:l,absolute:"0px 0px 0px 0px",background:"url("+h(t,n,o,i.canvas)+") center left"}}});return(0,r.isValidElement)(s)?r.default.cloneElement(s,p({},s.props,{style:p({},s.props.style,c.grid)})):r.default.createElement("div",{style:c.grid})};g.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function y(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var b=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");for(var e,n,r,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=c(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},y(r,n)}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),m(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,u.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:v({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return r.default.createElement("div",{style:n.alpha},r.default.createElement("div",{style:n.checkboard},r.default.createElement(g,{renderers:this.props.renderers})),r.default.createElement("div",{style:n.gradient}),r.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},r.default.createElement("div",{style:n.pointer},this.props.pointer?r.default.createElement(this.props.pointer,this.props):r.default.createElement("div",{style:n.slider}))))}}]),t}(r.PureComponent||r.Component),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=[38,40],S=1,E=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=Number(String(e.target.value).replace(/%/g,""));if(!isNaN(r)&&(t=e.keyCode,w.indexOf(t)>-1)){var o=n.getArrowOffset(),i=38===e.keyCode?r+o:r-o;n.setUpdatedValue(i,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+S++,n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),x(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value!==this.state.value&&(e.value!==this.props.value||t.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){var t,n;return t={},n=this.props.label,n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,u.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return r.default.createElement("div",{style:t.wrap},r.default.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?r.default.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(r.PureComponent||r.Component),_=function(e,t,n,r){var o=r.clientWidth,i=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var c=void 0;if(c=u<0?359:u>i?0:360*(-(100*u/i)+100)/100,n.h!==c)return{h:c,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var d=void 0;if(d=s<0?0:s>o?359:100*s/o*360/100,n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function k(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var M=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");for(var e,n,r,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=_(e,r.props.direction,r.props.hsl,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},k(r,n)}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),C(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,o=(0,u.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(100*this.props.hsl.h/360)+100+"%"}}},{vertical:"vertical"===n});return r.default.createElement("div",{style:o.hue},r.default.createElement("div",{className:"hue-"+n,style:o.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},r.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),r.default.createElement("div",{style:o.pointer},this.props.pointer?r.default.createElement(this.props.pointer,this.props):r.default.createElement("div",{style:o.slider}))))}}]),t}(r.PureComponent||r.Component),j=e.i(45009);let A=function(e,t){return e===t||e!=e&&t!=t},O=function(e,t){for(var n=e.length;n--;)if(A(e[n][0],t))return n;return -1};var N=Array.prototype.splice;function R(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}R.prototype.clear=function(){this.__data__=[],this.size=0},R.prototype.delete=function(e){var t=this.__data__,n=O(t,e);return!(n<0)&&(n==t.length-1?t.pop():N.call(t,n,1),--this.size,!0)},R.prototype.get=function(e){var t=this.__data__,n=O(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return O(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=O(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var z=e.g&&e.g.Object===Object&&e.g,P="object"==typeof self&&self&&self.Object===Object&&self,T=z||P||Function("return this")(),D=T.Symbol,L=Object.prototype,I=L.hasOwnProperty,F=L.toString,B=D?D.toStringTag:void 0;let H=function(e){var t=I.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(e){}var o=F.call(e);return r&&(t?e[B]=n:delete e[B]),o};var W=Object.prototype.toString,V=D?D.toStringTag:void 0;let U=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":V&&V in Object(e)?H(e):W.call(e)},Y=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},X=function(e){if(!Y(e))return!1;var t=U(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var G=T["__core-js_shared__"],q=function(){var e=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),K=Function.prototype.toString;let Z=function(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var $=/^\[object .+?Constructor\]$/,Q=Object.prototype,J=Function.prototype.toString,ee=Q.hasOwnProperty,et=RegExp("^"+J.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");let en=function(e){return!!Y(e)&&(!q||!(q in e))&&(X(e)?et:$).test(Z(e))},er=function(e,t){var n=null==e?void 0:e[t];return en(n)?n:void 0};var eo=er(T,"Map"),ei=er(Object,"create"),ea=Object.prototype.hasOwnProperty,el=Object.prototype.hasOwnProperty;function es(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}es.prototype.clear=function(){this.__data__=ei?ei(null):{},this.size=0},es.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t},es.prototype.get=function(e){var t=this.__data__;if(ei){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ea.call(t,e)?t[e]:void 0},es.prototype.has=function(e){var t=this.__data__;return ei?void 0!==t[e]:el.call(t,e)},es.prototype.set=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=ei&&void 0===t?"__lodash_hash_undefined__":t,this};let eu=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},ec=function(e,t){var n=e.__data__;return eu(t)?n["string"==typeof t?"string":"hash"]:n.map};function ed(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ef(e){var t=this.__data__=new R(e);this.size=t.size}ed.prototype.clear=function(){this.size=0,this.__data__={hash:new es,map:new(eo||R),string:new es}},ed.prototype.delete=function(e){var t=ec(this,e).delete(e);return this.size-=!!t,t},ed.prototype.get=function(e){return ec(this,e).get(e)},ed.prototype.has=function(e){return ec(this,e).has(e)},ed.prototype.set=function(e,t){var n=ec(this,e),r=n.size;return n.set(e,t),this.size+=+(n.size!=r),this},ef.prototype.clear=function(){this.__data__=new R,this.size=0},ef.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ef.prototype.get=function(e){return this.__data__.get(e)},ef.prototype.has=function(e){return this.__data__.has(e)},ef.prototype.set=function(e,t){var n=this.__data__;if(n instanceof R){var r=n.__data__;if(!eo||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ed(r)}return n.set(e,t),this.size=n.size,this};var eh=function(){try{var e=er(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();let ep=function(e,t,n){"__proto__"==t&&eh?eh(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},eg=function(e,t,n){(void 0===n||A(e[t],n))&&(void 0!==n||t in e)||ep(e,t,n)},ev=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var l=i[++r];if(!1===t(o[l],l,o))break}return e};var em=void 0,ey=em?em.allocUnsafe:void 0;let eb=function(e,t){if(t)return e.slice();var n=e.length,r=ey?ey(n):new e.constructor(n);return e.copy(r),r};var ex=T.Uint8Array;let ew=function(e){var t=new e.constructor(e.byteLength);return new ex(t).set(new ex(e)),t},eS=function(e,t){var n=t?ew(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},eE=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var e_=Object.create,eC=function(){function e(){}return function(t){if(!Y(t))return{};if(e_)return e_(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();let ek=function(e,t){return function(n){return e(t(n))}};var eM=ek(Object.getPrototypeOf,Object),ej=Object.prototype;let eA=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ej)},eO=function(e){return null!=e&&"object"==typeof e},eN=function(e){return eO(e)&&"[object Arguments]"==U(e)};var eR=Object.prototype,ez=eR.hasOwnProperty,eP=eR.propertyIsEnumerable,eT=eN(function(){return arguments}())?eN:function(e){return eO(e)&&ez.call(e,"callee")&&!eP.call(e,"callee")},eD=Array.isArray;let eL=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff},eI=function(e){return null!=e&&eL(e.length)&&!X(e)};var eF=void 0;let eB=(eF?eF.isBuffer:void 0)||function(){return!1};var eH=Object.prototype,eW=Function.prototype.toString,eV=eH.hasOwnProperty,eU=eW.call(Object);let eY=function(e){if(!eO(e)||"[object Object]"!=U(e))return!1;var t=eM(e);if(null===t)return!0;var n=eV.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&eW.call(n)==eU};var eX={};eX["[object Float32Array]"]=eX["[object Float64Array]"]=eX["[object Int8Array]"]=eX["[object Int16Array]"]=eX["[object Int32Array]"]=eX["[object Uint8Array]"]=eX["[object Uint8ClampedArray]"]=eX["[object Uint16Array]"]=eX["[object Uint32Array]"]=!0,eX["[object Arguments]"]=eX["[object Array]"]=eX["[object ArrayBuffer]"]=eX["[object Boolean]"]=eX["[object DataView]"]=eX["[object Date]"]=eX["[object Error]"]=eX["[object Function]"]=eX["[object Map]"]=eX["[object Number]"]=eX["[object Object]"]=eX["[object RegExp]"]=eX["[object Set]"]=eX["[object String]"]=eX["[object WeakMap]"]=!1;var eG=function(){try{return!1}catch(e){}}(),eq=eG&&eG.isTypedArray,eK=eq?function(e){return eq(e)}:function(e){return eO(e)&&eL(e.length)&&!!eX[U(e)]};let eZ=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var e$=Object.prototype.hasOwnProperty;let eQ=function(e,t,n){var r=e[t];e$.call(e,t)&&A(r,n)&&(void 0!==n||t in e)||ep(e,t,n)},eJ=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=r?r(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),o?ep(n,l,s):eQ(n,l,s)}return n},e0=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var e1=/^(?:0|[1-9]\d*)$/;let e2=function(e,t){var n=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==n||"symbol"!=n&&e1.test(e))&&e>-1&&e%1==0&&e<t};var e5=Object.prototype.hasOwnProperty;let e3=function(e,t){var n=eD(e),r=!n&&eT(e),o=!n&&!r&&eB(e),i=!n&&!r&&!o&&eK(e),a=n||r||o||i,l=a?e0(e.length,String):[],s=l.length;for(var u in e)(t||e5.call(e,u))&&!(a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||e2(u,s)))&&l.push(u);return l},e4=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var e6=Object.prototype.hasOwnProperty;let e8=function(e){if(!Y(e))return e4(e);var t=eA(e),n=[];for(var r in e)"constructor"==r&&(t||!e6.call(e,r))||n.push(r);return n},e9=function(e){return eI(e)?e3(e,!0):e8(e)},e7=function(e,t,n,r,o,i,a){var l=eZ(e,n),s=eZ(t,n),u=a.get(s);if(u)return void eg(e,n,u);var c=i?i(l,s,n+"",e,t,a):void 0,d=void 0===c;if(d){var f=eD(s),h=!f&&eB(s),p=!f&&!h&&eK(s);(c=s,f||h||p)?eD(l)?c=l:eO(l)&&eI(l)?c=eE(l):h?(d=!1,c=eb(s,!0)):p?(d=!1,c=eS(s,!0)):c=[]:eY(s)||eT(s)?(c=l,eT(l))?c=eJ(l,e9(l)):(!Y(l)||X(l))&&(c="function"!=typeof s.constructor||eA(s)?{}:eC(eM(s))):d=!1}d&&(a.set(s,c),o(c,s,r,i,a),a.delete(s)),eg(e,n,c)},te=function e(t,n,r,o,i){t!==n&&ev(n,function(a,l){if(i||(i=new ef),Y(a))e7(t,n,l,r,e,o,i);else{var s=o?o(eZ(t,l),a,l+"",t,n,i):void 0;void 0===s&&(s=a),eg(t,l,s)}},e9)},tt=function(e){return e},tn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var tr=Math.max,to=Date.now,ti=function(e){var t=0,n=0;return function(){var r=to(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(eh?function(e,t){return eh(e,"toString",{configurable:!0,enumerable:!1,value:function(){return t},writable:!0})}:tt);let ta=function(e,t){var n;return ti((n=tr(void 0===(n=t)?e.length-1:n,0),function(){for(var t=arguments,r=-1,o=tr(t.length-n,0),i=Array(o);++r<o;)i[r]=t[n+r];r=-1;for(var a=Array(n+1);++r<n;)a[r]=t[r];return a[n]=tt(i),tn(e,this,a)}),e+"")},tl=function(e,t,n){if(!Y(n))return!1;var r=typeof t;return("number"==r?!!(eI(n)&&e2(t,n.length)):"string"==r&&t in n)&&A(n[t],e)};var ts=function(e){return ta(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&tl(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,i)}return t})}(function(e,t,n){te(e,t,n)}),tu=function(e){var t=e.zDepth,n=e.radius,o=e.background,i=e.children,a=e.styles,l=(0,u.default)(ts({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},void 0===a?{}:a),{"zDepth-1":1===t});return r.default.createElement("div",{style:l.wrap},r.default.createElement("div",{style:l.bg}),r.default.createElement("div",{style:l.content},i))};tu.propTypes={background:j.default.string,zDepth:j.default.oneOf([0,1,2,3,4,5]),radius:j.default.number,styles:j.default.object},tu.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};let tc=function(){return T.Date.now()};var td=/\s/;let tf=function(e){for(var t=e.length;t--&&td.test(e.charAt(t)););return t};var th=/^\s+/;let tp=function(e){return"symbol"==typeof e||eO(e)&&"[object Symbol]"==U(e)};var tg=0/0,tv=/^[-+]0x[0-9a-f]+$/i,tm=/^0b[01]+$/i,ty=/^0o[0-7]+$/i,tb=parseInt;let tx=function(e){if("number"==typeof e)return e;if(tp(e))return tg;if(Y(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=Y(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,tf(t)+1).replace(th,""):t;var r=tm.test(e);return r||ty.test(e)?tb(e.slice(2),r?2:8):tv.test(e)?tg:+e};var tw=Math.max,tS=Math.min;let tE=function(e,t,n){var r,o,i,a,l,s,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function h(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function p(e){var n=e-s,r=e-u;return void 0===s||n>=t||n<0||d&&r>=i}function g(){var e,n,r,o=tc();if(p(o))return v(o);l=setTimeout(g,(e=o-s,n=o-u,r=t-e,d?tS(r,i-n):r))}function v(e){return(l=void 0,f&&r)?h(e):(r=o=void 0,a)}function m(){var e,n=tc(),i=p(n);if(r=arguments,o=this,s=n,i){if(void 0===l)return u=e=s,l=setTimeout(g,t),c?h(e):a;if(d)return clearTimeout(l),l=setTimeout(g,t),h(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=tx(t)||0,Y(n)&&(c=!!n.leading,i=(d="maxWait"in n)?tw(tx(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=s=o=l=void 0},m.flush=function(){return void 0===l?a:v(tc())},m},t_=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw TypeError("Expected a function");return Y(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),tE(e,t,{leading:r,maxWait:t,trailing:o})};var tC=function(e,t,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(n.getBoundingClientRect().left+window.pageXOffset),u=l-(n.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>o&&(s=o),u<0?u=0:u>i&&(u=i);var c=s/o,d=1-u/i;return{h:t.h,s:c,v:d,a:t.a,source:"hsv"}},tk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tM=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"==typeof n.props.onChange&&n.throttle(n.props.onChange,tC(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=t_(function(e,t,n){e(t,n)},50),n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),tk(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,o=t.white,i=t.black,a=t.pointer,l=t.circle,s=(0,u.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(100*this.props.hsv.v)+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:o,black:i,pointer:a,circle:l}},{custom:!!this.props.style});return r.default.createElement("div",{style:s.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},r.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),r.default.createElement("div",{style:s.white,className:"saturation-white"},r.default.createElement("div",{style:s.black,className:"saturation-black"}),r.default.createElement("div",{style:s.pointer},this.props.pointer?r.default.createElement(this.props.pointer,this.props):r.default.createElement("div",{style:s.circle}))))}}]),t}(r.PureComponent||r.Component);let tj=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var tA=ek(Object.keys,Object),tO=Object.prototype.hasOwnProperty;let tN=function(e){if(!eA(e))return tA(e);var t=[];for(var n in Object(e))tO.call(e,n)&&"constructor"!=n&&t.push(n);return t},tR=function(e){return eI(e)?e3(e):tN(e)};var tz=(t=function(e,t){return e&&ev(e,t,tR)},function(e,n){if(null==e)return e;if(!eI(e))return t(e,n);for(var r=e.length,o=-1,i=Object(e);++o<r&&!1!==n(i[o],o,i););return e});let tP=function(e,t){return(eD(e)?tj:tz)(e,"function"==typeof t?t:tt)};function tT(e){return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tD=/^\s+/,tL=/\s+$/;function tI(e,t){if(t=t||{},(e=e||"")instanceof tI)return e;if(!(this instanceof tI))return new tI(e,t);var n,r,o,i,a,l,s,u,c,d,f,h,p,g,v,m,y,b,x,w,S=(r={r:0,g:0,b:0},o=1,i=null,a=null,l=null,s=!1,u=!1,"string"==typeof(n=e)&&(n=function(e){e=e.replace(tD,"").replace(tL,"").toLowerCase();var t,n=!1;if(t1[e])e=t1[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=ne.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=ne.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=ne.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=ne.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=ne.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=ne.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=ne.hex8.exec(e))?{r:t6(t[1]),g:t6(t[2]),b:t6(t[3]),a:t6(t[4])/255,format:n?"name":"hex8"}:(t=ne.hex6.exec(e))?{r:t6(t[1]),g:t6(t[2]),b:t6(t[3]),format:n?"name":"hex"}:(t=ne.hex4.exec(e))?{r:t6(t[1]+""+t[1]),g:t6(t[2]+""+t[2]),b:t6(t[3]+""+t[3]),a:t6(t[4]+""+t[4])/255,format:n?"name":"hex8"}:!!(t=ne.hex3.exec(e))&&{r:t6(t[1]+""+t[1]),g:t6(t[2]+""+t[2]),b:t6(t[3]+""+t[3]),format:n?"name":"hex"}}(n)),"object"==tT(n)&&(nt(n.r)&&nt(n.g)&&nt(n.b)?(c=n.r,d=n.g,f=n.b,r={r:255*t3(c,255),g:255*t3(d,255),b:255*t3(f,255)},s=!0,u="%"===String(n.r).substr(-1)?"prgb":"rgb"):nt(n.h)&&nt(n.s)&&nt(n.v)?(i=t9(n.s),a=t9(n.v),h=n.h,p=i,g=a,h=6*t3(h,360),p=t3(p,100),g=t3(g,100),v=Math.floor(h),m=h-v,y=g*(1-p),b=g*(1-m*p),x=g*(1-(1-m)*p),r={r:255*[g,b,y,y,x,g][w=v%6],g:255*[x,g,g,b,y,y][w],b:255*[y,y,x,g,g,b][w]},s=!0,u="hsv"):nt(n.h)&&nt(n.s)&&nt(n.l)&&(i=t9(n.s),l=t9(n.l),r=function(e,t,n){var r,o,i;function a(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=t3(e,360),t=t3(t,100),n=t3(n,100),0===t)r=o=i=n;else{var l=n<.5?n*(1+t):n+t-n*t,s=2*n-l;r=a(s,l,e+1/3),o=a(s,l,e),i=a(s,l,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(n.h,i,l),s=!0,u="hsl"),n.hasOwnProperty("a")&&(o=n.a)),o=t5(o),{ok:s,format:n.format||u,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:o});this._originalInput=e,this._r=S.r,this._g=S.g,this._b=S.b,this._a=S.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||S.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=S.ok}function tF(e,t,n){e=t3(e,255);var r,o,i=Math.max(e,t=t3(t,255),n=t3(n,255)),a=Math.min(e,t,n),l=(i+a)/2;if(i==a)r=o=0;else{var s=i-a;switch(o=l>.5?s/(2-i-a):s/(i+a),i){case e:r=(t-n)/s+6*(t<n);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:o,l:l}}function tB(e,t,n){e=t3(e,255);var r,o=Math.max(e,t=t3(t,255),n=t3(n,255)),i=Math.min(e,t,n),a=o-i;if(o==i)r=0;else{switch(o){case e:r=(t-n)/a+6*(t<n);break;case t:r=(n-e)/a+2;break;case n:r=(e-t)/a+4}r/=6}return{h:r,s:0===o?0:a/o,v:o}}function tH(e,t,n,r){var o=[t8(Math.round(e).toString(16)),t8(Math.round(t).toString(16)),t8(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function tW(e,t,n,r){return[t8(t7(r)),t8(Math.round(e).toString(16)),t8(Math.round(t).toString(16)),t8(Math.round(n).toString(16))].join("")}function tV(e,t){t=0===t?0:t||10;var n=tI(e).toHsl();return n.s-=t/100,n.s=t4(n.s),tI(n)}function tU(e,t){t=0===t?0:t||10;var n=tI(e).toHsl();return n.s+=t/100,n.s=t4(n.s),tI(n)}function tY(e){return tI(e).desaturate(100)}function tX(e,t){t=0===t?0:t||10;var n=tI(e).toHsl();return n.l+=t/100,n.l=t4(n.l),tI(n)}function tG(e,t){t=0===t?0:t||10;var n=tI(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-(t/100*255)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-(t/100*255)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-(t/100*255)))),tI(n)}function tq(e,t){t=0===t?0:t||10;var n=tI(e).toHsl();return n.l-=t/100,n.l=t4(n.l),tI(n)}function tK(e,t){var n=tI(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,tI(n)}function tZ(e){var t=tI(e).toHsl();return t.h=(t.h+180)%360,tI(t)}function t$(e,t){if(isNaN(t)||t<=0)throw Error("Argument to polyad must be a positive number");for(var n=tI(e).toHsl(),r=[tI(e)],o=360/t,i=1;i<t;i++)r.push(tI({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function tQ(e){var t=tI(e).toHsl(),n=t.h;return[tI(e),tI({h:(n+72)%360,s:t.s,l:t.l}),tI({h:(n+216)%360,s:t.s,l:t.l})]}function tJ(e,t,n){t=t||6,n=n||30;var r=tI(e).toHsl(),o=360/n,i=[tI(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(tI(r));return i}function t0(e,t){t=t||6;for(var n=tI(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],l=1/t;t--;)a.push(tI({h:r,s:o,v:i})),i=(i+l)%1;return a}tI.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*((n=r.b/255)<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=t5(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=tB(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=tB(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=tF(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=tF(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return tH(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){var t,n,r,o,i,a;return t=this._r,n=this._g,r=this._b,o=this._a,i=e,a=[t8(Math.round(t).toString(16)),t8(Math.round(n).toString(16)),t8(Math.round(r).toString(16)),t8(t7(o))],i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*t3(this._r,255))+"%",g:Math.round(100*t3(this._g,255))+"%",b:Math.round(100*t3(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*t3(this._r,255))+"%, "+Math.round(100*t3(this._g,255))+"%, "+Math.round(100*t3(this._b,255))+"%)":"rgba("+Math.round(100*t3(this._r,255))+"%, "+Math.round(100*t3(this._g,255))+"%, "+Math.round(100*t3(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(t2[tH(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+tW(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=tI(e);n="#"+tW(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e)?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return tI(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(tX,arguments)},brighten:function(){return this._applyModification(tG,arguments)},darken:function(){return this._applyModification(tq,arguments)},desaturate:function(){return this._applyModification(tV,arguments)},saturate:function(){return this._applyModification(tU,arguments)},greyscale:function(){return this._applyModification(tY,arguments)},spin:function(){return this._applyModification(tK,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(tJ,arguments)},complement:function(){return this._applyCombination(tZ,arguments)},monochromatic:function(){return this._applyCombination(t0,arguments)},splitcomplement:function(){return this._applyCombination(tQ,arguments)},triad:function(){return this._applyCombination(t$,[3])},tetrad:function(){return this._applyCombination(t$,[4])}},tI.fromRatio=function(e,t){if("object"==tT(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&("a"===r?n[r]=e[r]:n[r]=t9(e[r]));e=n}return tI(e,t)},tI.equals=function(e,t){return!!e&&!!t&&tI(e).toRgbString()==tI(t).toRgbString()},tI.random=function(){return tI.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},tI.mix=function(e,t,n){n=0===n?0:n||50;var r=tI(e).toRgb(),o=tI(t).toRgb(),i=n/100;return tI({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},tI.readability=function(e,t){var n=tI(e),r=tI(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},tI.isReadable=function(e,t,n){var r,o,i,a,l,s=tI.readability(e,t);switch(l=!1,(o=((r=(r=n)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),i=(r.size||"small").toLowerCase(),"AA"!==o&&"AAA"!==o&&(o="AA"),"small"!==i&&"large"!==i&&(i="small"),a={level:o,size:i}).level+a.size){case"AAsmall":case"AAAlarge":l=s>=4.5;break;case"AAlarge":l=s>=3;break;case"AAAsmall":l=s>=7}return l},tI.mostReadable=function(e,t,n){var r,o,i,a,l=null,s=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var u=0;u<t.length;u++)(r=tI.readability(e,t[u]))>s&&(s=r,l=tI(t[u]));return tI.isReadable(e,l,{level:i,size:a})||!o?l:(n.includeFallbackColors=!1,tI.mostReadable(e,["#fff","#000"],n))};var t1=tI.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},t2=tI.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(t1);function t5(e){return(isNaN(e=parseFloat(e))||e<0||e>1)&&(e=1),e}function t3(e,t){"string"==typeof(n=e)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(e="100%");var n,r,o="string"==typeof(r=e)&&-1!=r.indexOf("%");return(e=Math.min(t,Math.max(0,parseFloat(e))),o&&(e=parseInt(e*t,10)/100),1e-6>Math.abs(e-t))?1:e%t/parseFloat(t)}function t4(e){return Math.min(1,Math.max(0,e))}function t6(e){return parseInt(e,16)}function t8(e){return 1==e.length?"0"+e:""+e}function t9(e){return e<=1&&(e=100*e+"%"),e}function t7(e){return Math.round(255*parseFloat(e)).toString(16)}var ne=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:RegExp("rgb"+t),rgba:RegExp("rgba"+n),hsl:RegExp("hsl"+t),hsla:RegExp("hsla"+n),hsv:RegExp("hsv"+t),hsva:RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function nt(e){return!!ne.CSS_UNIT.exec(e)}var nn=function(e){var t=0,n=0;return tP(["r","g","b","a","h","s","l","v"],function(r){e[r]&&(t+=1,isNaN(e[r])||(n+=1),("s"===r||"l"===r)&&/^\d+%$/.test(e[r])&&(n+=1))}),t===n&&e},nr=function(e,t){var n=e.hex?tI(e.hex):tI(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===a&&0===i.a?"transparent":"#"+a,rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},no=function(e){if("transparent"===e)return!0;var t=+("#"===String(e).charAt(0));return e.length!==4+t&&e.length<7+t&&tI(e).isValid()},ni=function(e){if(!e)return"#fff";var t=nr(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},na=function(e,t){return tI(t+" ("+e.replace("","")+")")._ok},nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();let nu=function(e){var t=function(t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);function n(e){if(!(this instanceof n))throw TypeError("Cannot call a class as a function");var t=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(nn(e)){var r=nr(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(nn(e)){var r=nr(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=nl({},nr(e.color,0)),t.debounce=tE(function(e,t,n){e(t,n)},100),t}return n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t),ns(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),r.default.createElement(e,nl({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return nl({},nr(e.color,t.oldHue))}}]),n}(r.PureComponent||r.Component);return t.propTypes=nl({},e.propTypes),t.defaultProps=nl({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};var nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function nf(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}var nh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};let np=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span",n=r.default.Component;if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function, not "+typeof n);function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var e,t,n,r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=n=nf(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},nf(n,t)}return o.prototype=Object.create(n&&n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(o,n):o.__proto__=n),nd(o,[{key:"render",value:function(){return r.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},r.default.createElement(e,nc({},this.props,this.state)))}}]),o}(function(e){var t=e.color,n=e.style,o=e.onClick,i=void 0===o?function(){}:o,a=e.onHover,l=e.title,s=void 0===l?t:l,c=e.children,d=e.focus,f=e.focusStyle,h="transparent"===t,p=(0,u.default)({default:{swatch:nh({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?void 0===f?{}:f:{})}}),v={};return a&&(v.onMouseOver=function(e){return a(t,e)}),r.default.createElement("div",nh({style:p.swatch,onClick:function(e){return i(t,e)},title:s,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&i(t,e)}},v),c,h&&r.default.createElement(g,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))});var ng=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nv=function(e){var t=e.rgb,n=e.hsl,o=e.width,i=e.height,a=e.onChange,l=e.direction,s=e.style,c=e.renderers,d=e.pointer,f=e.className,h=(0,u.default)({default:{picker:{position:"relative",width:o,height:i},alpha:{radius:"2px",style:s}}});return r.default.createElement("div",{style:h.picker,className:"alpha-picker "+(void 0===f?"":f)},r.default.createElement(b,ng({},h.alpha,{rgb:t,hsl:n,pointer:d,renderers:c,onChange:a,direction:l})))};nv.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=(0,u.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})}},nu(nv);let nm=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};function ny(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ed;++t<n;)this.add(e[t])}ny.prototype.add=ny.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ny.prototype.has=function(e){return this.__data__.has(e)};let nb=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},nx=function(e,t,n,r,o,i){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=2&n?new ny:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var p=e[d],g=t[d];if(r)var v=a?r(g,p,d,t,e,i):r(p,g,d,e,t,i);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!nb(t,function(e,t){if(!h.has(t)&&(p===e||o(p,e,n,r,i)))return h.push(t)})){f=!1;break}}else if(!(p===g||o(p,g,n,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f},nw=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},nS=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n};var nE=D?D.prototype:void 0,n_=nE?nE.valueOf:void 0;let nC=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new ex(e),new ex(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return A(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=nw;case"[object Set]":var s=1&r;if(l||(l=nS),e.size!=t.size&&!s)break;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=nx(l(e),l(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(n_)return n_.call(e)==n_.call(t)}return!1},nk=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},nM=function(e,t,n){var r=t(e);return eD(e)?r:nk(r,n(e))},nj=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var nA=Object.prototype.propertyIsEnumerable,nO=Object.getOwnPropertySymbols,nN=nO?function(e){return null==e?[]:nj(nO(e=Object(e)),function(t){return nA.call(e,t)})}:function(){return[]};let nR=function(e){return nM(e,tR,nN)};var nz=Object.prototype.hasOwnProperty;let nP=function(e,t,n,r,o,i){var a=1&n,l=nR(e),s=l.length;if(s!=nR(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:nz.call(t,c)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=a;++u<s;){var g=e[c=l[u]],v=t[c];if(r)var m=a?r(v,g,c,t,e,i):r(g,v,c,e,t,i);if(!(void 0===m?g===v||o(g,v,n,r,i):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(h=!1)}return i.delete(e),i.delete(t),h};var nT=er(T,"DataView"),nD=er(T,"Promise"),nL=er(T,"Set"),nI=er(T,"WeakMap"),nF="[object Map]",nB="[object Promise]",nH="[object Set]",nW="[object WeakMap]",nV="[object DataView]",nU=Z(nT),nY=Z(eo),nX=Z(nD),nG=Z(nL),nq=Z(nI),nK=U;(nT&&nK(new nT(new ArrayBuffer(1)))!=nV||eo&&nK(new eo)!=nF||nD&&nK(nD.resolve())!=nB||nL&&nK(new nL)!=nH||nI&&nK(new nI)!=nW)&&(nK=function(e){var t=U(e),n="[object Object]"==t?e.constructor:void 0,r=n?Z(n):"";if(r)switch(r){case nU:return nV;case nY:return nF;case nX:return nB;case nG:return nH;case nq:return nW}return t});let nZ=nK;var n$="[object Arguments]",nQ="[object Array]",nJ="[object Object]",n0=Object.prototype.hasOwnProperty;let n1=function(e,t,n,r,o,i){var a=eD(e),l=eD(t),s=a?nQ:nZ(e),u=l?nQ:nZ(t);s=s==n$?nJ:s,u=u==n$?nJ:u;var c=s==nJ,d=u==nJ,f=s==u;if(f&&eB(e)){if(!eB(t))return!1;a=!0,c=!1}if(f&&!c)return i||(i=new ef),a||eK(e)?nx(e,t,n,r,o,i):nC(e,t,s,n,r,o,i);if(!(1&n)){var h=c&&n0.call(e,"__wrapped__"),p=d&&n0.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,v=p?t.value():t;return i||(i=new ef),o(g,v,n,r,i)}}return!!f&&(i||(i=new ef),nP(e,t,n,r,o,i))},n2=function e(t,n,r,o,i){return t===n||(null!=t&&null!=n&&(eO(t)||eO(n))?n1(t,n,r,o,e,i):t!=t&&n!=n)},n5=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=n[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new ef;if(r)var f=r(u,c,s,e,t,d);if(!(void 0===f?n2(c,u,3,r,d):f))return!1}}return!0},n3=function(e){return e==e&&!Y(e)},n4=function(e){for(var t=tR(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,n3(o)]}return t},n6=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},n8=function(e){var t=n4(e);return 1==t.length&&t[0][2]?n6(t[0][0],t[0][1]):function(n){return n===e||n5(n,e,t)}};var n9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n7=/^\w*$/;let re=function(e,t){if(eD(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||tp(e))||n7.test(e)||!n9.test(e)||null!=t&&e in Object(t)};function rt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(rt.Cache||ed),n}rt.Cache=ed;var rn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rr=/\\(\\)?/g,ro=function(e){var t=rt(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rn,function(e,n,r,o){t.push(r?o.replace(rr,"$1"):n||e)}),t}),ri=1/0,ra=D?D.prototype:void 0,rl=ra?ra.toString:void 0;let rs=function e(t){if("string"==typeof t)return t;if(eD(t))return nm(t,e)+"";if(tp(t))return rl?rl.call(t):"";var n=t+"";return"0"==n&&1/t==-ri?"-0":n},ru=function(e,t){return eD(e)?e:re(e,t)?[e]:ro(null==e?"":rs(e))};var rc=1/0;let rd=function(e){if("string"==typeof e||tp(e))return e;var t=e+"";return"0"==t&&1/e==-rc?"-0":t},rf=function(e,t){t=ru(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[rd(t[n++])];return n&&n==r?e:void 0},rh=function(e,t,n){var r=null==e?void 0:rf(e,t);return void 0===r?n:r},rp=function(e,t){return null!=e&&t in Object(e)},rg=function(e,t,n){t=ru(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=rd(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&eL(o)&&e2(a,o)&&(eD(e)||eT(e))},rv=function(e){var t;return re(e)?(t=rd(e),function(e){return null==e?void 0:e[t]}):function(t){return rf(t,e)}},rm=function(e){if("function"==typeof e)return e;if(null==e)return tt;if("object"==typeof e){var t,n;return eD(e)?(t=e[0],n=e[1],re(t)&&n3(n)?n6(rd(t),n):function(e){var r=rh(e,t);return void 0===r&&r===n?null!=e&&rg(e,t,rp):n2(n,r,3)}):n8(e)}return rv(e)},ry=function(e,t){var n=-1,r=eI(e)?Array(e.length):[];return tz(e,function(e,o,i){r[++n]=t(e,o,i)}),r},rb=function(e,t){return(eD(e)?nm:ry)(e,rm(t,3))},rx=function(e){var t=e.colors,n=e.onClick,o=e.onSwatchHover,i=(0,u.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:i.swatches},rb(t,function(e){return r.default.createElement(np,{key:e,color:e,style:i.swatch,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+e}})}),r.default.createElement("div",{style:i.clear}))};var rw=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.hex,i=e.colors,a=e.width,l=e.triangle,s=e.styles,c=e.className,d="transparent"===o,f=function(e,n){no(e)&&t({hex:e,source:"hex"},n)},h=(0,u.default)(ts({default:{card:{width:a,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:ni(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},void 0===s?{}:s),{"hide-triangle":"hide"===l});return r.default.createElement("div",{style:h.card,className:"block-picker "+(void 0===c?"":c)},r.default.createElement("div",{style:h.triangle}),r.default.createElement("div",{style:h.head},d&&r.default.createElement(g,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:h.label},o)),r.default.createElement("div",{style:h.body},r.default.createElement(rx,{colors:i,onClick:f,onSwatchHover:n}),r.default.createElement(E,{style:{input:h.input},value:o,onChange:f})))};rw.propTypes={width:j.default.oneOfType([j.default.string,j.default.number]),colors:j.default.arrayOf(j.default.string),triangle:j.default.oneOf(["top","hide"]),styles:j.default.object},rw.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},nu(rw);var rS={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},rE={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},r_={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},rC={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},rk={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},rM={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},rj={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},rA={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},rO={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},rN={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},rR={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},rz={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},rP={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},rT={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},rD={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},rL={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},rI={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},rF={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},rB=function(e){var t=e.color,n=e.onClick,o=e.onSwatchHover,i=e.hover,a=e.active,l=e.circleSize,s=e.circleSpacing,c=(0,u.default)({default:{swatch:{width:l,height:l,marginRight:s,marginBottom:s,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(l/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:a});return r.default.createElement("div",{style:c.swatch},r.default.createElement(np,{style:c.Swatch,color:t,onClick:n,onHover:o,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};rB.defaultProps={circleSize:28,circleSpacing:14};let rH=(0,u.handleHover)(rB);var rW=function(e){var t=e.width,n=e.onChange,o=e.onSwatchHover,i=e.colors,a=e.hex,l=e.circleSize,s=e.styles,c=e.circleSpacing,d=e.className,f=(0,u.default)(ts({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},void 0===s?{}:s)),h=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:f.card,className:"circle-picker "+(void 0===d?"":d)},rb(i,function(e){return r.default.createElement(rH,{key:e,color:e,onClick:h,onSwatchHover:o,active:a===e.toLowerCase(),circleSize:l,circleSpacing:c})}))};rW.propTypes={width:j.default.oneOfType([j.default.string,j.default.number]),circleSize:j.default.number,circleSpacing:j.default.number,styles:j.default.object},rW.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[rS["500"],rE["500"],r_["500"],rC["500"],rk["500"],rM["500"],rj["500"],rA["500"],rO["500"],rN["500"],rR["500"],rz["500"],rP["500"],rT["500"],rD["500"],rL["500"],rI["500"],rF["500"]],styles:{}},nu(rW);let rV=function(e){return void 0===e};var rU=e.i(48897),rY=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),rX=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?no(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(rV(e.s)?n.props.hsl.s:e.s),l:Number(rV(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),rY(t,[{key:"render",value:function(){var e=this,t=(0,u.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=r.default.createElement("div",{style:t.fields,className:"flexbox-fix"},r.default.createElement("div",{style:t.field},r.default.createElement(E,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=r.default.createElement("div",{style:t.fields,className:"flexbox-fix"},r.default.createElement("div",{style:t.field},r.default.createElement(E,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),r.default.createElement("div",{style:t.field},r.default.createElement(E,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),r.default.createElement("div",{style:t.field},r.default.createElement(E,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),r.default.createElement("div",{style:t.alpha},r.default.createElement(E,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=r.default.createElement("div",{style:t.fields,className:"flexbox-fix"},r.default.createElement("div",{style:t.field},r.default.createElement(E,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),r.default.createElement("div",{style:t.field},r.default.createElement(E,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),r.default.createElement("div",{style:t.field},r.default.createElement(E,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),r.default.createElement("div",{style:t.alpha},r.default.createElement(E,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),r.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,r.default.createElement("div",{style:t.toggle},r.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},r.default.createElement(rU.default,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(r.default.Component);rX.defaultProps={view:"hex"};let rG=function(){var e=(0,u.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})},rq=function(){var e=(0,u.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};var rK=function(e){var t=e.width,n=e.onChange,o=e.disableAlpha,i=e.rgb,a=e.hsl,l=e.hsv,s=e.hex,c=e.renderers,d=e.styles,f=e.className,h=e.defaultView,p=(0,u.default)(ts({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},void 0===d?{}:d),{disableAlpha:o});return r.default.createElement("div",{style:p.picker,className:"chrome-picker "+(void 0===f?"":f)},r.default.createElement("div",{style:p.saturation},r.default.createElement(tM,{style:p.Saturation,hsl:a,hsv:l,pointer:rq,onChange:n})),r.default.createElement("div",{style:p.body},r.default.createElement("div",{style:p.controls,className:"flexbox-fix"},r.default.createElement("div",{style:p.color},r.default.createElement("div",{style:p.swatch},r.default.createElement("div",{style:p.active}),r.default.createElement(g,{renderers:c}))),r.default.createElement("div",{style:p.toggles},r.default.createElement("div",{style:p.hue},r.default.createElement(M,{style:p.Hue,hsl:a,pointer:rG,onChange:n})),r.default.createElement("div",{style:p.alpha},r.default.createElement(b,{style:p.Alpha,rgb:i,hsl:a,pointer:rG,renderers:c,onChange:n})))),r.default.createElement(rX,{rgb:i,hsl:a,hex:s,view:h,onChange:n,disableAlpha:o})))};rK.propTypes={width:j.default.oneOfType([j.default.string,j.default.number]),disableAlpha:j.default.bool,styles:j.default.object,defaultView:j.default.oneOf(["hex","rgb","hsl"])},rK.defaultProps={width:225,disableAlpha:!1,styles:{}};let rZ=nu(rK),r$=function(e){var t=e.color,n=e.onClick,o=e.onSwatchHover,i=e.active,a=(0,u.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:ni(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:i,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(np,{style:a.color,color:t,onClick:void 0===n?function(){}:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:a.dot}))},rQ=function(e){var t=e.hex,n=e.rgb,o=e.onChange,i=(0,u.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),a=function(e,t){e.r||e.g||e.b?o({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):o({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:i.fields,className:"flexbox-fix"},r.default.createElement("div",{style:i.active}),r.default.createElement(E,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:a}),r.default.createElement(E,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:a}),r.default.createElement(E,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:a}),r.default.createElement(E,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:a}))};var rJ=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.colors,i=e.hex,a=e.rgb,l=e.styles,s=void 0===l?{}:l,c=e.className,d=(0,u.default)(ts({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},s)),f=function(e,n){e.hex?no(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(tu,{style:d.Compact,styles:s},r.default.createElement("div",{style:d.compact,className:"compact-picker "+(void 0===c?"":c)},r.default.createElement("div",null,rb(o,function(e){return r.default.createElement(r$,{key:e,color:e,active:e.toLowerCase()===i,onClick:f,onSwatchHover:n})}),r.default.createElement("div",{style:d.clear})),r.default.createElement(rQ,{hex:i,rgb:a,onChange:f})))};rJ.propTypes={colors:j.default.arrayOf(j.default.string),styles:j.default.object},rJ.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},nu(rJ);let r0=(0,u.handleHover)(function(e){var t=e.hover,n=e.color,o=e.onClick,i=e.onSwatchHover,a={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},l=(0,u.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:a}},{hover:t});return r.default.createElement("div",{style:l.swatch},r.default.createElement(np,{color:n,onClick:o,onHover:i,focusStyle:a}))});var r1=function(e){var t=e.width,n=e.colors,o=e.onChange,i=e.onSwatchHover,a=e.triangle,l=e.styles,s=e.className,c=(0,u.default)(ts({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},void 0===l?{}:l),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a,"bottom-left-triangle":"bottom-left"===a,"bottom-right-triangle":"bottom-right"===a}),d=function(e,t){return o({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:c.card,className:"github-picker "+(void 0===s?"":s)},r.default.createElement("div",{style:c.triangleShadow}),r.default.createElement("div",{style:c.triangle}),rb(n,function(e){return r.default.createElement(r0,{color:e,key:e,onClick:d,onSwatchHover:i})}))};r1.propTypes={width:j.default.oneOfType([j.default.string,j.default.number]),colors:j.default.arrayOf(j.default.string),triangle:j.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:j.default.object},r1.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},nu(r1);var r2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r5=function(e){var t=e.width,n=e.height,o=e.onChange,i=e.hsl,a=e.direction,l=e.pointer,s=e.styles,c=e.className,d=(0,u.default)(ts({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},void 0===s?{}:s));return r.default.createElement("div",{style:d.picker,className:"hue-picker "+(void 0===c?"":c)},r.default.createElement(M,r2({},d.hue,{hsl:i,pointer:l,onChange:function(e){return o({a:1,h:e.h,l:.5,s:1})},direction:a})))};r5.propTypes={styles:j.default.object},r5.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=(0,u.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})},styles:{}},nu(r5),nu(function(e){var t=e.onChange,n=e.hex,o=e.rgb,i=e.styles,a=void 0===i?{}:i,l=e.className,s=(0,u.default)(ts({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},a)),c=function(e,n){e.hex?no(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||o.r,g:e.g||o.g,b:e.b||o.b,source:"rgb"},n)};return r.default.createElement(tu,{styles:a},r.default.createElement("div",{style:s.material,className:"material-picker "+(void 0===l?"":l)},r.default.createElement(E,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:c}),r.default.createElement("div",{style:s.split,className:"flexbox-fix"},r.default.createElement("div",{style:s.third},r.default.createElement(E,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:o.r,onChange:c})),r.default.createElement("div",{style:s.third},r.default.createElement(E,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:o.g,onChange:c})),r.default.createElement("div",{style:s.third},r.default.createElement(E,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:o.b,onChange:c})))))});let r3=function(e){var t=e.onChange,n=e.rgb,o=e.hsv,i=e.hex,a=(0,u.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),l=function(e,r){e["#"]?no(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||o.h,s:e.s||o.s,v:e.v||o.v,source:"hsv"},r)};return r.default.createElement("div",{style:a.fields},r.default.createElement(E,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"h",value:Math.round(o.h),onChange:l}),r.default.createElement(E,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"s",value:Math.round(100*o.s),onChange:l}),r.default.createElement(E,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"v",value:Math.round(100*o.v),onChange:l}),r.default.createElement("div",{style:a.divider}),r.default.createElement(E,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:l}),r.default.createElement(E,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:l}),r.default.createElement(E,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:l}),r.default.createElement("div",{style:a.divider}),r.default.createElement(E,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"#",value:i.replace("#",""),onChange:l}),r.default.createElement("div",{style:a.fieldSymbols},r.default.createElement("div",{style:a.symbol},""),r.default.createElement("div",{style:a.symbol},"%"),r.default.createElement("div",{style:a.symbol},"%")))},r4=function(e){var t=e.hsl,n=(0,u.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})},r6=function(){var e=(0,u.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))},r8=function(e){var t=e.onClick,n=e.label,o=e.children,i=e.active,a=(0,u.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return r.default.createElement("div",{style:a.button,onClick:t},n||o)},r9=function(e){var t=e.rgb,n=e.currentColor,o=(0,u.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:o.label},"new"),r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.new}),r.default.createElement("div",{style:o.current})),r.default.createElement("div",{style:o.label},"current"))};var r7=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),oe=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+typeof e);function t(e){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r7(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=e.className,o=(0,u.default)(ts({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},void 0===t?{}:t));return r.default.createElement("div",{style:o.picker,className:"photoshop-picker "+(void 0===n?"":n)},r.default.createElement("div",{style:o.head},this.props.header),r.default.createElement("div",{style:o.body,className:"flexbox-fix"},r.default.createElement("div",{style:o.saturation},r.default.createElement(tM,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:r4,onChange:this.props.onChange})),r.default.createElement("div",{style:o.hue},r.default.createElement(M,{direction:"vertical",hsl:this.props.hsl,pointer:r6,onChange:this.props.onChange})),r.default.createElement("div",{style:o.controls},r.default.createElement("div",{style:o.top,className:"flexbox-fix"},r.default.createElement("div",{style:o.previews},r.default.createElement(r9,{rgb:this.props.rgb,currentColor:this.state.currentColor})),r.default.createElement("div",{style:o.actions},r.default.createElement(r8,{label:"OK",onClick:this.props.onAccept,active:!0}),r.default.createElement(r8,{label:"Cancel",onClick:this.props.onCancel}),r.default.createElement(r3,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(r.default.Component);oe.propTypes={header:j.default.string,styles:j.default.object},oe.defaultProps={header:"Color Picker",styles:{}},nu(oe);let ot=function(e){var t=e.onChange,n=e.rgb,o=e.hsl,i=e.hex,a=e.disableAlpha,l=(0,u.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:a}),s=function(e,r){e.hex?no(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:o.h,s:o.s,l:o.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:l.fields,className:"flexbox-fix"},r.default.createElement("div",{style:l.double},r.default.createElement(E,{style:{input:l.input,label:l.label},label:"hex",value:i.replace("#",""),onChange:s})),r.default.createElement("div",{style:l.single},r.default.createElement(E,{style:{input:l.input,label:l.label},label:"r",value:n.r,onChange:s,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:l.single},r.default.createElement(E,{style:{input:l.input,label:l.label},label:"g",value:n.g,onChange:s,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:l.single},r.default.createElement(E,{style:{input:l.input,label:l.label},label:"b",value:n.b,onChange:s,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:l.alpha},r.default.createElement(E,{style:{input:l.input,label:l.label},label:"a",value:Math.round(100*n.a),onChange:s,dragLabel:"true",dragMax:"100"})))};var on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},or=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,i=e.onSwatchHover,a=(0,u.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),l=function(e,t){o({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:a.colors,className:"flexbox-fix"},t.map(function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return r.default.createElement("div",{key:n,style:a.swatchWrap},r.default.createElement(np,on({},t,{style:a.swatch,onClick:l,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};or.propTypes={colors:j.default.arrayOf(j.default.oneOfType([j.default.string,j.default.shape({color:j.default.string,title:j.default.string})])).isRequired};var oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi=function(e){var t=e.width,n=e.rgb,o=e.hex,i=e.hsv,a=e.hsl,l=e.onChange,s=e.onSwatchHover,c=e.disableAlpha,d=e.presetColors,f=e.renderers,h=e.styles,p=void 0===h?{}:h,v=e.className,m=(0,u.default)(ts({default:oo({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return r.default.createElement("div",{style:m.picker,className:"sketch-picker "+(void 0===v?"":v)},r.default.createElement("div",{style:m.saturation},r.default.createElement(tM,{style:m.Saturation,hsl:a,hsv:i,onChange:l})),r.default.createElement("div",{style:m.controls,className:"flexbox-fix"},r.default.createElement("div",{style:m.sliders},r.default.createElement("div",{style:m.hue},r.default.createElement(M,{style:m.Hue,hsl:a,onChange:l})),r.default.createElement("div",{style:m.alpha},r.default.createElement(b,{style:m.Alpha,rgb:n,hsl:a,renderers:f,onChange:l}))),r.default.createElement("div",{style:m.color},r.default.createElement(g,null),r.default.createElement("div",{style:m.activeColor}))),r.default.createElement(ot,{rgb:n,hsl:a,hex:o,onChange:l,disableAlpha:c}),r.default.createElement(or,{colors:d,onClick:l,onSwatchHover:s}))};oi.propTypes={disableAlpha:j.default.bool,width:j.default.oneOfType([j.default.string,j.default.number]),styles:j.default.object},oi.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},nu(oi);let oa=function(e){var t=e.hsl,n=e.offset,o=e.onClick,i=void 0===o?function(){}:o,a=e.active,l=e.first,s=e.last,c=(0,u.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:a,first:l,last:s});return r.default.createElement("div",{style:c.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})},ol=function(e){var t=e.onClick,n=e.hsl,o=(0,u.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:o.swatches},r.default.createElement("div",{style:o.swatch},r.default.createElement(oa,{hsl:n,offset:".80",active:.1>Math.abs(n.l-.8)&&.1>Math.abs(n.s-.5),onClick:t,first:!0})),r.default.createElement("div",{style:o.swatch},r.default.createElement(oa,{hsl:n,offset:".65",active:.1>Math.abs(n.l-.65)&&.1>Math.abs(n.s-.5),onClick:t})),r.default.createElement("div",{style:o.swatch},r.default.createElement(oa,{hsl:n,offset:".50",active:.1>Math.abs(n.l-.5)&&.1>Math.abs(n.s-.5),onClick:t})),r.default.createElement("div",{style:o.swatch},r.default.createElement(oa,{hsl:n,offset:".35",active:.1>Math.abs(n.l-.35)&&.1>Math.abs(n.s-.5),onClick:t})),r.default.createElement("div",{style:o.swatch},r.default.createElement(oa,{hsl:n,offset:".20",active:.1>Math.abs(n.l-.2)&&.1>Math.abs(n.s-.5),onClick:t,last:!0})),r.default.createElement("div",{style:o.clear}))};var os=function(e){var t=e.hsl,n=e.onChange,o=e.pointer,i=e.styles,a=e.className,l=(0,u.default)(ts({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},void 0===i?{}:i));return r.default.createElement("div",{style:l.wrap||{},className:"slider-picker "+(void 0===a?"":a)},r.default.createElement("div",{style:l.hue},r.default.createElement(M,{style:l.Hue,hsl:t,pointer:o,onChange:n})),r.default.createElement("div",{style:l.swatches},r.default.createElement(ol,{hsl:t,onClick:n})))};os.propTypes={styles:j.default.object},os.defaultProps={pointer:function(){var e=(0,u.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})},styles:{}},nu(os);var ou=e.i(52057);let oc=function(e){var t=e.color,n=e.onClick,o=e.onSwatchHover,i=e.first,a=e.last,l=e.active,s=(0,u.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:ni(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:i,last:a,active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(np,{color:t,style:s.color,onClick:void 0===n?function(){}:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:s.check},r.default.createElement(ou.default,null)))},od=function(e){var t=e.onClick,n=e.onSwatchHover,o=e.group,i=e.active,a=(0,u.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:a.group},rb(o,function(e,a){return r.default.createElement(oc,{key:e,color:e,active:e.toLowerCase()===i,first:0===a,last:a===o.length-1,onClick:t,onSwatchHover:n})}))};var of=function(e){var t=e.width,n=e.height,o=e.onChange,i=e.onSwatchHover,a=e.colors,l=e.hex,s=e.styles,c=e.className,d=(0,u.default)(ts({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},void 0===s?{}:s)),f=function(e,t){return o({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:d.picker,className:"swatches-picker "+(void 0===c?"":c)},r.default.createElement(tu,null,r.default.createElement("div",{style:d.overflow},r.default.createElement("div",{style:d.body},rb(a,function(e){return r.default.createElement(od,{key:e.toString(),group:e,active:l,onClick:f,onSwatchHover:i})}),r.default.createElement("div",{style:d.clear})))))};of.propTypes={width:j.default.oneOfType([j.default.string,j.default.number]),height:j.default.oneOfType([j.default.string,j.default.number]),colors:j.default.arrayOf(j.default.arrayOf(j.default.string)),styles:j.default.object},of.defaultProps={width:320,height:240,colors:[[rS["900"],rS["700"],rS["500"],rS["300"],rS["100"]],[rE["900"],rE["700"],rE["500"],rE["300"],rE["100"]],[r_["900"],r_["700"],r_["500"],r_["300"],r_["100"]],[rC["900"],rC["700"],rC["500"],rC["300"],rC["100"]],[rk["900"],rk["700"],rk["500"],rk["300"],rk["100"]],[rM["900"],rM["700"],rM["500"],rM["300"],rM["100"]],[rj["900"],rj["700"],rj["500"],rj["300"],rj["100"]],[rA["900"],rA["700"],rA["500"],rA["300"],rA["100"]],[rO["900"],rO["700"],rO["500"],rO["300"],rO["100"]],["#194D33",rN["700"],rN["500"],rN["300"],rN["100"]],[rR["900"],rR["700"],rR["500"],rR["300"],rR["100"]],[rz["900"],rz["700"],rz["500"],rz["300"],rz["100"]],[rP["900"],rP["700"],rP["500"],rP["300"],rP["100"]],[rT["900"],rT["700"],rT["500"],rT["300"],rT["100"]],[rD["900"],rD["700"],rD["500"],rD["300"],rD["100"]],[rL["900"],rL["700"],rL["500"],rL["300"],rL["100"]],[rI["900"],rI["700"],rI["500"],rI["300"],rI["100"]],[rF["900"],rF["700"],rF["500"],rF["300"],rF["100"]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},nu(of);var oh=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.hex,i=e.colors,a=e.width,l=e.triangle,s=e.styles,c=e.className,d=(0,u.default)(ts({default:{card:{width:a,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},void 0===s?{}:s),{"hide-triangle":"hide"===l,"top-left-triangle":"top-left"===l,"top-right-triangle":"top-right"===l}),f=function(e,n){no(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:d.card,className:"twitter-picker "+(void 0===c?"":c)},r.default.createElement("div",{style:d.triangleShadow}),r.default.createElement("div",{style:d.triangle}),r.default.createElement("div",{style:d.body},rb(i,function(e,t){return r.default.createElement(np,{key:t,color:e,hex:e,style:d.swatch,onClick:f,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),r.default.createElement("div",{style:d.hash},"#"),r.default.createElement(E,{label:null,style:{input:d.input},value:o.replace("#",""),onChange:f}),r.default.createElement("div",{style:d.clear})))};oh.propTypes={width:j.default.oneOfType([j.default.string,j.default.number]),triangle:j.default.oneOf(["hide","top-left","top-right"]),colors:j.default.arrayOf(j.default.string),styles:j.default.object},oh.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},nu(oh);var op=function(e){var t=(0,u.default)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return r.default.createElement("div",{style:t.picker})};op.propTypes={hsl:j.default.shape({h:j.default.number,s:j.default.number,l:j.default.number,a:j.default.number})},op.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var og=function(e){var t=(0,u.default)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return r.default.createElement("div",{style:t.picker})};og.propTypes={hsl:j.default.shape({h:j.default.number,s:j.default.number,l:j.default.number,a:j.default.number})},og.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};let ov=function(e){var t=e.onChange,n=e.rgb,o=e.hsl,i=e.hex,a=e.hsv,l=function(e,n){if(e.hex)no(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");na(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var o=e.hsv.split(",");na(e.hsv,"hsv")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("",""),1==o[1]?o[1]=.01:1==o[2]&&(o[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsv"},n))}else if(e.hsl){var i=e.hsl.split(",");na(e.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("",""),1==f[1]?f[1]=.01:1==f[2]&&(f[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},n))}},s=(0,u.default)({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=n.r+", "+n.g+", "+n.b,d=Math.round(o.h)+", "+Math.round(100*o.s)+"%, "+Math.round(100*o.l)+"%",f=Math.round(a.h)+", "+Math.round(100*a.s)+"%, "+Math.round(100*a.v)+"%";return r.default.createElement("div",{style:s.wrap,className:"flexbox-fix"},r.default.createElement("div",{style:s.fields},r.default.createElement("div",{style:s.double},r.default.createElement(E,{style:{input:s.input,label:s.label},label:"hex",value:i,onChange:l})),r.default.createElement("div",{style:s.column},r.default.createElement("div",{style:s.single},r.default.createElement(E,{style:{input:s.input2,label:s.label2},label:"rgb",value:c,onChange:l})),r.default.createElement("div",{style:s.single},r.default.createElement(E,{style:{input:s.input2,label:s.label2},label:"hsv",value:f,onChange:l})),r.default.createElement("div",{style:s.single},r.default.createElement(E,{style:{input:s.input2,label:s.label2},label:"hsl",value:d,onChange:l})))))};var om=function(e){var t=e.width,n=e.onChange,o=e.rgb,i=e.hsl,a=e.hsv,l=e.hex,s=e.header,c=e.styles,d=e.className,f=(0,u.default)(ts({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+o.r+", "+o.g+", "+o.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},void 0===c?{}:c));return r.default.createElement("div",{style:f.picker,className:"google-picker "+(void 0===d?"":d)},r.default.createElement("div",{style:f.head},s),r.default.createElement("div",{style:f.swatch}),r.default.createElement("div",{style:f.saturation},r.default.createElement(tM,{hsl:i,hsv:a,pointer:op,onChange:n})),r.default.createElement("div",{style:f.body},r.default.createElement("div",{style:f.controls,className:"flexbox-fix"},r.default.createElement("div",{style:f.hue},r.default.createElement(M,{style:f.Hue,hsl:i,radius:"4px",pointer:og,onChange:n}))),r.default.createElement(ov,{rgb:o,hsl:i,hex:l,hsv:a,onChange:n})))};om.propTypes={width:j.default.oneOfType([j.default.string,j.default.number]),styles:j.default.object,header:j.default.string},om.defaultProps={width:652,styles:{},header:"Color picker"},nu(om),e.s(["ChromePicker",()=>rZ],49169)},73665,e=>{"use strict";e.s(["MdDelete",()=>n,"MdOutlineDragIndicator",()=>r,"MdOutlineEdit",()=>o]);var t=e.i(40141);function n(e){return(0,t.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function r(e){return(0,t.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function o(e){return(0,t.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"},child:[]}]})(e)}},4397,(e,t,n)=>{"use strict";function r(e){let{widthInt:t,heightInt:n,blurWidth:r,blurHeight:o,blurDataURL:i,objectFit:a}=e,l=r?40*r:t,s=o?40*o:n,u=l&&s?"viewBox='0 0 "+l+" "+s+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(u?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+i+"'/%3E%3C/svg%3E"}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},87690,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return o}});let r=["default","imgix","cloudinary","akamai","custom"],o={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},8927,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"getImgProps",{enumerable:!0,get:function(){return s}}),e.r(33525);let r=e.r(4397),o=e.r(87690),i=["-moz-initial","fill","none","scale-down",void 0];function a(e){return void 0!==e.default}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function s(e,t){var n,s;let u,c,d,{src:f,sizes:h,unoptimized:p=!1,priority:g=!1,loading:v,className:m,quality:y,width:b,height:x,fill:w=!1,style:S,overrideSrc:E,onLoad:_,onLoadingComplete:C,placeholder:k="empty",blurDataURL:M,fetchPriority:j,decoding:A="async",layout:O,objectFit:N,objectPosition:R,lazyBoundary:z,lazyRoot:P,...T}=e,{imgConf:D,showAltText:L,blurComplete:I,defaultLoader:F}=t,B=D||o.imageConfigDefault;if("allSizes"in B)u=B;else{let e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),r=null==(n=B.qualities)?void 0:n.sort((e,t)=>e-t);u={...B,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===F)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let H=T.loader||F;delete T.loader,delete T.srcSet;let W="__next_img_default"in H;if(W){if("custom"===u.loader)throw Object.defineProperty(Error('Image with src "'+f+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=H;H=t=>{let{config:n,...r}=t;return e(r)}}if(O){"fill"===O&&(w=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[O];e&&(S={...S,...e});let t={responsive:"100vw",fill:"100vw"}[O];t&&!h&&(h=t)}let V="",U=l(b),Y=l(x);if((s=f)&&"object"==typeof s&&(a(s)||void 0!==s.src)){let e=a(f)?f.default:f;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(c=e.blurWidth,d=e.blurHeight,M=M||e.blurDataURL,V=e.src,!w)if(U||Y){if(U&&!Y){let t=U/e.width;Y=Math.round(e.height*t)}else if(!U&&Y){let t=Y/e.height;U=Math.round(e.width*t)}}else U=e.width,Y=e.height}let X=!g&&("lazy"===v||void 0===v);(!(f="string"==typeof f?f:V)||f.startsWith("data:")||f.startsWith("blob:"))&&(p=!0,X=!1),u.unoptimized&&(p=!0),W&&!u.dangerouslyAllowSVG&&f.split("?",1)[0].endsWith(".svg")&&(p=!0);let G=l(y),q=Object.assign(w?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:N,objectPosition:R}:{},L?{}:{color:"transparent"},S),K=I||"empty"===k?null:"blur"===k?'url("data:image/svg+xml;charset=utf-8,'+(0,r.getImageBlurSvg)({widthInt:U,heightInt:Y,blurWidth:c,blurHeight:d,blurDataURL:M||"",objectFit:q.objectFit})+'")':'url("'+k+'")',Z=i.includes(q.objectFit)?"fill"===q.objectFit?"100% 100%":"cover":q.objectFit,$=K?{backgroundSize:Z,backgroundPosition:q.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:K}:{},Q=function(e){let{config:t,src:n,unoptimized:r,width:o,quality:i,sizes:a,loader:l}=e;if(r)return{src:n,srcSet:void 0,sizes:void 0};let{widths:s,kind:u}=function(e,t,n){let{deviceSizes:r,allSizes:o}=e;if(n){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let r;r=e.exec(n);)t.push(parseInt(r[2]));if(t.length){let e=.01*Math.min(...t);return{widths:o.filter(t=>t>=r[0]*e),kind:"w"}}return{widths:o,kind:"w"}}return"number"!=typeof t?{widths:r,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>o.find(t=>t>=e)||o[o.length-1]))],kind:"x"}}(t,o,a),c=s.length-1;return{sizes:a||"w"!==u?a:"100vw",srcSet:s.map((e,r)=>l({config:t,src:n,quality:i,width:e})+" "+("w"===u?e:r+1)+u).join(", "),src:l({config:t,src:n,quality:i,width:s[c]})}}({config:u,src:f,unoptimized:p,width:U,quality:G,sizes:h,loader:H});return{props:{...T,loading:X?"lazy":v,fetchPriority:j,width:U,height:Y,decoding:A,className:m,style:{...q,...$},sizes:Q.sizes,srcSet:Q.srcSet,src:E||Q.src},meta:{unoptimized:p,priority:g,placeholder:k,fill:w}}}},98879,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});let r=e.r(71645),o="undefined"==typeof window,i=o?()=>{}:r.useLayoutEffect,a=o?()=>{}:r.useEffect;function l(e){let{headManager:t,reduceComponentsToState:n}=e;function l(){if(t&&t.mountedInstances){let o=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(o,e))}}if(o){var s;null==t||null==(s=t.mountedInstances)||s.add(e.children),l()}return i(()=>{var n;return null==t||null==(n=t.mountedInstances)||n.add(e.children),()=>{var n;null==t||null==(n=t.mountedInstances)||n.delete(e.children)}}),i(()=>(t&&(t._pendingUpdate=l),()=>{t&&(t._pendingUpdate=l)})),a(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},58908,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AmpStateContext",{enumerable:!0,get:function(){return r}});let r=e.r(55682)._(e.r(71645)).default.createContext({})},15986,(e,t,n)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:n=!1,hasQuery:r=!1}=void 0===e?{}:e;return t||n&&r}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"isInAmpMode",{enumerable:!0,get:function(){return r}})},25633,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{default:function(){return g},defaultHead:function(){return d}});let r=e.r(55682),o=e.r(90809),i=e.r(43476),a=o._(e.r(71645)),l=r._(e.r(98879)),s=e.r(58908),u=e.r(42732),c=e.r(15986);function d(e){void 0===e&&(e=!1);let t=[(0,i.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,i.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let h=["name","httpEquiv","charSet","itemProp"];function p(e,t){let{inAmpMode:n}=t;return e.reduce(f,[]).reverse().concat(d(n).reverse()).filter(function(){let e=new Set,t=new Set,n=new Set,r={};return o=>{let i=!0,a=!1;if(o.key&&"number"!=typeof o.key&&o.key.indexOf("$")>0){a=!0;let t=o.key.slice(o.key.indexOf("$")+1);e.has(t)?i=!1:e.add(t)}switch(o.type){case"title":case"base":t.has(o.type)?i=!1:t.add(o.type);break;case"meta":for(let e=0,t=h.length;e<t;e++){let t=h[e];if(o.props.hasOwnProperty(t))if("charSet"===t)n.has(t)?i=!1:n.add(t);else{let e=o.props[t],n=r[t]||new Set;("name"!==t||!a)&&n.has(e)?i=!1:(n.add(e),r[t]=n)}}}return i}}()).reverse().map((e,t)=>{let n=e.key||t;return a.default.cloneElement(e,{key:n})})}let g=function(e){let{children:t}=e,n=(0,a.useContext)(s.AmpStateContext),r=(0,a.useContext)(u.HeadManagerContext);return(0,i.jsx)(l.default,{reduceComponentsToState:p,headManager:r,inAmpMode:(0,c.isInAmpMode)(n),children:t})};("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},18556,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ImageConfigContext",{enumerable:!0,get:function(){return i}});let r=e.r(55682)._(e.r(71645)),o=e.r(87690),i=r.default.createContext(o.imageConfigDefault)},65856,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"RouterContext",{enumerable:!0,get:function(){return r}});let r=e.r(55682)._(e.r(71645)).default.createContext(null)},1948,(e,t,n)=>{"use strict";function r(e){var t;let{config:n,src:r,width:o,quality:i}=e,a=i||(null==(t=n.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return n.path+"?url="+encodeURIComponent(r)+"&w="+o+"&q="+a+(r.startsWith("/_next/static/media/"),"")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}}),r.__next_img_default=!0;let o=r},5500,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return x}});let r=e.r(55682),o=e.r(90809),i=e.r(43476),a=o._(e.r(71645)),l=r._(e.r(74080)),s=r._(e.r(25633)),u=e.r(8927),c=e.r(87690),d=e.r(18556);e.r(33525);let f=e.r(65856),h=r._(e.r(1948)),p=e.r(18581),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function v(e,t,n,r,o,i,a){let l=null==e?void 0:e.src;e&&e["data-loaded-src"]!==l&&(e["data-loaded-src"]=l,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&o(!0),null==n?void 0:n.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,o=!1;n.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{o=!0,t.stopPropagation()}})}(null==r?void 0:r.current)&&r.current(e)}}))}function m(e){return a.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let y=(0,a.forwardRef)((e,t)=>{let{src:n,srcSet:r,sizes:o,height:l,width:s,decoding:u,className:c,style:d,fetchPriority:f,placeholder:h,loading:g,unoptimized:y,fill:b,onLoadRef:x,onLoadingCompleteRef:w,setBlurComplete:S,setShowAltText:E,sizesInput:_,onLoad:C,onError:k,...M}=e,j=(0,a.useCallback)(e=>{e&&(k&&(e.src=e.src),e.complete&&v(e,h,x,w,S,y,_))},[n,h,x,w,S,k,y,_]),A=(0,p.useMergedRef)(t,j);return(0,i.jsx)("img",{...M,...m(f),loading:g,width:s,height:l,decoding:u,"data-nimg":b?"fill":"1",className:c,style:d,sizes:o,srcSet:r,src:n,ref:A,onLoad:e=>{v(e.currentTarget,h,x,w,S,y,_)},onError:e=>{E(!0),"empty"!==h&&S(!0),k&&k(e)}})});function b(e){let{isAppRouter:t,imgAttributes:n}=e,r={as:"image",imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:n.crossOrigin,referrerPolicy:n.referrerPolicy,...m(n.fetchPriority)};return t&&l.default.preload?(l.default.preload(n.src,r),null):(0,i.jsx)(s.default,{children:(0,i.jsx)("link",{rel:"preload",href:n.srcSet?void 0:n.src,...r},"__nimg-"+n.src+n.srcSet+n.sizes)})}let x=(0,a.forwardRef)((e,t)=>{let n=(0,a.useContext)(f.RouterContext),r=(0,a.useContext)(d.ImageConfigContext),o=(0,a.useMemo)(()=>{var e;let t=g||r||c.imageConfigDefault,n=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),o=t.deviceSizes.sort((e,t)=>e-t),i=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:n,deviceSizes:o,qualities:i}},[r]),{onLoad:l,onLoadingComplete:s}=e,p=(0,a.useRef)(l);(0,a.useEffect)(()=>{p.current=l},[l]);let v=(0,a.useRef)(s);(0,a.useEffect)(()=>{v.current=s},[s]);let[m,x]=(0,a.useState)(!1),[w,S]=(0,a.useState)(!1),{props:E,meta:_}=(0,u.getImgProps)(e,{defaultLoader:h.default,imgConf:o,blurComplete:m,showAltText:w});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y,{...E,unoptimized:_.unoptimized,placeholder:_.placeholder,fill:_.fill,onLoadRef:p,onLoadingCompleteRef:v,setBlurComplete:x,setShowAltText:S,sizesInput:e.sizes,ref:t}),_.priority?(0,i.jsx)(b,{isAppRouter:!n,imgAttributes:E}):null]})});("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},94909,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{default:function(){return s},getImageProps:function(){return l}});let r=e.r(55682),o=e.r(8927),i=e.r(5500),a=r._(e.r(1948));function l(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let s=i.Image},57688,(e,t,n)=>{t.exports=e.r(94909)},68565,e=>{"use strict";e.s(["default",()=>v],68565);var t=e.i(43476),n=e.i(71645),r=e.i(48563),o=e.i(54548),i=e.i(60067),a=e.i(74080);e.i(13536);var l=e.i(49169),s=e.i(91282),u=e.i(73665),c=e.i(10936),d=e.i(86768);function f(e){let{id:r,data:i={}}=e,f=!!i.editable,h=(null==i?void 0:i.fontSize)||14,p=(null==i?void 0:i.bgColor)||"#fff",g=(null==i?void 0:i.textColor)||"#000",[v,m]=(0,n.useState)(i.text||""),[y,b]=(0,n.useState)(h),[x,w]=(0,n.useState)(p),[S,E]=(0,n.useState)(g),[_,C]=(0,n.useState)(!1),[k,M]=(0,n.useState)(!1),[j,A]=(0,n.useState)({left:0,top:0}),[O,N]=(0,n.useState)({left:0,top:0}),R=(0,n.useRef)(null),z=(0,n.useRef)(null),P=(0,n.useRef)(null),T=(0,n.useRef)(null),D=(0,n.useRef)(null),L=(0,n.useRef)(null),[I,F]=(0,n.useState)(0);return(0,n.useEffect)(()=>{"string"==typeof i.text&&i.text!==v&&m(i.text),Number.isFinite(i.fontSize)&&i.fontSize!==y&&b(i.fontSize),i.bgColor&&i.bgColor!==x&&w(i.bgColor),i.textColor&&i.textColor!==S&&E(i.textColor)},[i,v,y,x,S]),(0,n.useEffect)(()=>{if(_||k)return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("keydown",t)};function e(e){!(P.current&&P.current.contains(e.target))&&(T.current&&T.current.contains(e.target)||(C(!1),M(!1)))}function t(e){"Escape"===e.key&&(C(!1),M(!1))}},[_,k]),(0,n.useEffect)(()=>{let e=L.current;if(!e||"undefined"==typeof ResizeObserver)return;let t=!1,n=new ResizeObserver(e=>{e&&0!==e.length&&(t||(t=!0,F(Date.now()),n.disconnect()))});return n.observe(e),()=>n.disconnect()},[]),(0,t.jsxs)(t.Fragment,{children:[f&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(o.NodeResizeControl,{minWidth:50,minHeight:50,style:{zIndex:1},children:(0,t.jsx)("div",{style:{position:"absolute",right:5,bottom:5,zIndex:1e3,pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)(c.IoMdResize,{style:{transform:"rotate(90deg)",transformOrigin:"center",display:"block",color:"var(--main)"}})})})}),f&&(0,t.jsxs)("div",{style:{position:"absolute",top:-35,left:0,right:0,zIndex:10,display:"flex",flexDirection:"row",justifyContent:"space-between",gap:6,alignItems:"center",boxSizing:"border-box",pointerEvents:"none",flexWrap:"nowrap",overflow:"visible",whiteSpace:"nowrap"},children:[(0,t.jsx)("div",{style:{position:"relative",height:30,display:"flex",flexDirection:"row",alignItems:"center",zIndex:20,background:"var(--accent-highlight)",padding:"4px 6px",boxSizing:"border-box",gap:6,borderRadius:6,pointerEvents:"auto",flexShrink:0},children:(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"100%"},children:(0,t.jsxs)("div",{style:{color:"white",padding:0,height:"100%",display:"flex",alignItems:"center",gap:6,justifyContent:"center"},children:[(0,t.jsx)("div",{ref:R,style:{height:"100%",aspectRatio:"1 / 1",padding:0,border:0,background:x,borderRadius:30,cursor:"pointer",color:(0,s.getContrastTextColor)(x),display:"flex",alignItems:"center",justifyContent:"center",fontSize:8,fontWeight:"bold"},onClick:()=>{if(R.current){let e=R.current.getBoundingClientRect();A({left:e.left,top:e.bottom+6})}C(e=>!e)},children:"Bg"}),(0,t.jsx)("div",{ref:z,style:{height:"100%",aspectRatio:"1 / 1",padding:0,border:0,background:S,borderRadius:30,cursor:"pointer",color:(0,s.getContrastTextColor)(S),display:"flex",alignItems:"center",justifyContent:"center",fontSize:8,fontWeight:"bold"},onClick:()=>{if(z.current){let e=z.current.getBoundingClientRect();N({left:e.left,top:e.bottom+6})}M(e=>!e)},title:"Toggle text color picker",children:"Txt"})]})})}),(0,t.jsxs)("div",{style:{height:30,display:"flex",flexDirection:"row",alignItems:"center",zIndex:20,background:"var(--accent-highlight)",padding:"4px 6px",boxSizing:"border-box",gap:6,borderRadius:6,pointerEvents:"auto",flexShrink:0},children:[(0,t.jsx)(u.MdDelete,{onClick:()=>{"function"==typeof i.onDelete&&i.onDelete(r)},style:{height:"100%",width:"auto",color:"white",padding:2,border:0,background:"var(--cancel-highlight)",borderRadius:30,cursor:"pointer"}}),(0,t.jsx)(u.MdOutlineDragIndicator,{style:{color:"black",padding:0,height:"100%",display:"flex",alignItems:"center",gap:6,justifyContent:"center"}})]})]}),(0,t.jsxs)("div",{ref:L,style:{position:"relative",display:"flex",flexDirection:"column",height:"100%",width:"100%",gap:0},children:[f&&(0,t.jsx)("textarea",{id:r,ref:D,value:v,onChange:e=>{if(!f)return;let t=e.target.value;m(t),"function"==typeof i.onChange&&i.onChange(r,{text:t})},onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation(),readOnly:!f,style:{background:x,color:S,fontSize:10,width:"100%",height:"100%",paddingTop:8,boxSizing:"border-box",overflowWrap:"break-word",whiteSpace:"pre-wrap",padding:4,userSelect:"text",resize:"none",cursor:"text",overflow:"auto"}}),!f&&(0,t.jsx)(d.AutoTextSize,{mode:"box",minFontSizePx:0,maxFontSizePx:50,style:{cursor:"default",background:x,color:S,width:"100%",boxSizing:"border-box",padding:6,display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"pre-wrap",overflowWrap:"break-word"},children:v},I)]}),"undefined"!=typeof document&&_&&(0,a.createPortal)((0,t.jsx)("div",{ref:P,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),style:{position:"fixed",left:j.left,top:j.top,zIndex:9999,boxShadow:"0 6px 22px rgba(0,0,0,0.2)"},children:(0,t.jsx)(l.ChromePicker,{color:x,onChangeComplete:e=>{w(e.hex),"function"==typeof i.onChange&&i.onChange(r,{bgColor:e.hex})}})}),document.body),"undefined"!=typeof document&&k&&(0,a.createPortal)((0,t.jsx)("div",{ref:T,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),style:{position:"fixed",left:O.left,top:O.top,zIndex:9999,boxShadow:"0 6px 22px rgba(0,0,0,0.2)"},children:(0,t.jsx)(l.ChromePicker,{color:S,onChangeComplete:e=>{E(e.hex),"function"==typeof i.onChange&&i.onChange(r,{textColor:e.hex})}})}),document.body)]})}var h=e.i(57688);function p(e){let{id:n,data:r={}}=e,i=!!r.editable,a=(null==r?void 0:r.image)||"";return(0,t.jsxs)("div",{style:{position:"relative",background:"#fff",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.NodeResizeControl,{minWidth:50,minHeight:50,keepAspectRatio:!0,style:{background:"transparent",border:"none"},children:(0,t.jsx)(c.IoMdResize,{style:{transform:"rotate(90deg)",transformOrigin:"center",display:"block",position:"absolute",right:5,bottom:5,color:"var(--main)"}})}),(0,t.jsxs)("div",{style:{position:"absolute",top:-35,left:0,height:30,display:"flex",flexDirection:"row",alignItems:"center",zIndex:20,background:"var(--accent-highlight)",padding:"4px 6px",boxSizing:"border-box",width:"min-content",gap:6,borderRadius:6},children:[(0,t.jsx)(u.MdDelete,{onClick:()=>{"function"==typeof r.onDelete&&r.onDelete(n)},style:{height:"100%",width:"auto",color:"white",padding:2,border:0,background:"var(--cancel-highlight)",borderRadius:30,cursor:"pointer"}}),(0,t.jsx)(u.MdOutlineDragIndicator,{style:{color:"black",padding:0,height:"100%",display:"flex",alignItems:"center",gap:6,justifyContent:"center"}})]})]}),a?(0,t.jsx)(h.default,{src:a,alt:r.name||"image",style:{width:"100%",height:"100%",objectFit:"fill",display:"block",cursor:"default"}}):(0,t.jsx)("div",{style:{color:"#666"},children:"No image"})]})}let g={outlineOffset:"-1px",outline:"1px solid #000",overflow:"hidden",boxSizing:"border-box"};function v(e){let{editable:a=!1,a3Key:l,nodes:u,setA3:c,toggleImgSelector:h,imageToCreate:v,onImageCreated:m,twoPct:y,a3:b}=e,[x,w]=(0,r.default)(),S=Math.round(w.width||0),E=Math.round(w.height||0),[_,C]=(0,n.useState)({x:0,y:0,zoom:1}),k=(0,n.useCallback)(e=>Array.isArray(e)?e.map(e=>{let t=e.position,n=e.measured,r=e.width,o=e.height;e.data&&e.data.positionNorm&&S>0&&E>0&&(t={x:Math.round(e.data.positionNorm.x*S),y:Math.round(e.data.positionNorm.y*E)}),e.data&&e.data.sizeNorm&&S>0&&E>0&&(n={width:r=Math.round(e.data.sizeNorm.width*S),height:o=Math.round(e.data.sizeNorm.height*E)});let i={...e.data||{},editable:a};return{...e,position:t,data:i,measured:n,width:r,height:o}}):[],[S,E,a]),[M,j]=(0,n.useState)(()=>[]),A=(0,n.useRef)(null),O=(0,n.useRef)(null),N=(0,n.useRef)(null),R=(0,n.useRef)(null),z=(0,n.useCallback)(e=>!a||!(S>0&&E>0&&a)||(e||[]).some(e=>"controls"===e.id)?e:[...e,{id:"controls",type:"controls",data:{__ui:!0,maxX:S,maxY:E,addTextNode:O.current||(()=>{}),openImagePicker:h,position:{x:S-20-50,y:20}},position:{x:S-20-50,y:20},draggable:!0}],[S,E,a,h]),P=(0,n.useCallback)(e=>{let t=e=>{if(!Array.isArray(e)||!a)return e;let t=N.current||(()=>{}),n=R.current||(()=>{});return e.map(e=>({...e,data:{...e.data||{},editable:a,onChange:t,onDelete:n}}))};"function"==typeof e?j(n=>{let r=e(n)||[],o=new Map(n.map(e=>[e.id,e])),i=[],a=r.map(e=>{if(!o.has(e.id))return i.push(e),e;{let t=o.get(e.id);return{...t,data:{...t.data||{},...e.data||{}}}}}),l=k(i||[]),s=0;for(let e=0;e<a.length;e++)o.has(a[e].id)||(a[e]=l[s++]||a[e]);return t(z(a))}):j(t(z(k(e))))},[j,k,z,a]),T=(0,n.useCallback)((e,t)=>{a&&P(n=>n.map(n=>{if(n.id!==e)return n;let r={...n.data||{},...t};return{...n,data:r}}))},[a,P]),D=(0,n.useCallback)(e=>{a&&P(t=>t.filter(t=>t.id!==e))},[a,P]);N.current=T,R.current=D,O.current=(0,n.useCallback)(()=>{let e,t;if(!a)return;let n={x:Math.round(S/2),y:Math.round(E/2)},r=S>0&&E>0?{x:n.x/S,y:n.y/E}:{x:.5,y:.5};if(S>0&&E>0){let n=Math.max(24,Math.round(.2*S)),r=Math.max(16,Math.round(.08*E));e={width:n,height:r},t={width:Math.min(1,n/S),height:Math.min(1,r/E)}}let o={id:"text-".concat(Date.now()),type:"text",position:n,measured:e,data:{text:"New Text",fontSize:14,bgColor:"#fff",textColor:"#000",onChange:T,onDelete:D,positionNorm:r,...t?{sizeNorm:t}:{}}};P(e=>[...e,o])},[S,E,T,D,a,P]);let L=(0,n.useCallback)(e=>{if(!a||"function"!=typeof c)return;let t=(e||[]).filter(e=>!(e.data&&e.data.__ui)).map(e=>{let t={id:e.id,type:e.type,position:e.position},n=(e=>{if(!e)return e;let t={};return Object.keys(e).forEach(n=>{"function"!=typeof e[n]&&(t[n]=e[n])}),t})(e.data);if(S>0&&E>0){var r,o;n.positionNorm={x:((null==(r=e.position)?void 0:r.x)||0)/S,y:((null==(o=e.position)?void 0:o.y)||0)/E},e.measured&&"number"==typeof e.measured.width&&"number"==typeof e.measured.height&&(n.sizeNorm={width:e.measured.width/S,height:e.measured.height/E})}return"text"===e.type&&"number"==typeof e.data.fontSize&&E>0&&(n.fontSizeNorm=e.data.fontSize/E),{...t,data:n}});c(e=>{try{let n=e&&e[l]&&e[l].nodes||[],r=JSON.stringify(n),o=JSON.stringify(t);if(r===o)return e}catch(e){}return{...e,[l]:{nodes:t}}})},[c,l,S,E,a]),I=(0,n.useCallback)(e=>{C(e)},[]),F=(0,n.useCallback)(e=>{a&&j(t=>{let n=(0,o.applyNodeChanges)(e,t);return Promise.resolve().then(()=>L(n)),n})},[a,L]);(0,n.useEffect)(()=>{if(!a||!(S>0&&E>0))return;let e=(u||[]).map(e=>e.id).join(",");A.current!==e&&(P(u||[]),A.current=e)},[a,u,S,E,P]),(0,n.useEffect)(()=>{if(!v||!v.src)return;let e=new window.Image;return e.src=v.src,e.onload=()=>{let t=e.naturalWidth||e.width||1,n=(e.naturalHeight||e.height||1)/t;if(S>0&&E>0){let e=Math.round(.25*S),t=Math.round(e*n);t>E&&(e=Math.round((t=Math.round(.5*E))/n));let r={x:Math.round(S/2),y:Math.round(E/2)},o={x:r.x/S,y:r.y/E},i={width:Math.min(1,e/S),height:Math.min(1,t/E)},a={id:"img-".concat(Date.now()),type:"img",position:r,measured:{width:e,height:t},data:{image:v.src,name:v.name,positionNorm:o,sizeNorm:i}};P(e=>{let t=[...e,a];try{Promise.resolve().then(()=>L(t))}catch(e){}return t}),"function"==typeof m&&m()}else{let e={id:"img-".concat(Date.now()),type:"img",position:{x:0,y:0},data:{image:v.src,name:v.name,positionNorm:{x:.5,y:.5}}};P(t=>[...t,e]),"function"==typeof m&&m()}},e.onerror=()=>{let e={x:Math.round(S/2),y:Math.round(E/2)},t=S>0&&E>0?{x:e.x/S,y:e.y/E}:{x:.5,y:.5},n={id:"img-".concat(Date.now()),type:"img",position:e,data:{image:v.src,name:v.name,positionNorm:t}};P(e=>[...e,n]),"function"==typeof m&&m()},()=>{e.onload=null,e.onerror=null}},[v,S,E,m,k,z,L,P]);let B=(0,n.useMemo)(()=>a?M:u?u.map(e=>{let t=e.position,n=e.measured,r=e.width,o=e.height,i={...e.data||{},editable:!1};return e.data&&e.data.positionNorm&&S>0&&E>0&&(t={x:Math.round(e.data.positionNorm.x*S),y:Math.round(e.data.positionNorm.y*E)}),e.data&&e.data.sizeNorm&&S>0&&E>0&&(n={width:r=Math.round(e.data.sizeNorm.width*S),height:o=Math.round(e.data.sizeNorm.height*E)}),"text"===e.type&&e.data&&"number"==typeof e.data.fontSizeNorm&&E>0&&(i.fontSize=Math.round(e.data.fontSizeNorm*E)),{...e,position:t,data:i,measured:n,width:r,height:o}}):[],[a,u,S,E,M]),H={controls:i.default,text:f,img:p};return(0,t.jsxs)(t.Fragment,{children:[!a&&(0,t.jsx)("div",{style:{fontWeight:"bold",width:"60%",height:"".concat(y,"px"),...g,zIndex:2,position:"relative",paddingLeft:"2px",backgroundColor:"var(--accent-highlight)"},children:(0,t.jsx)(d.AutoTextSize,{mode:"boxoneline",style:{height:"100%"},children:"currentState"===l?"Current State":"Future State"})}),(0,t.jsx)("div",{ref:x,style:{height:!a&&"currentState"===l&&b.layout.extraCurrentState.enabled?"80%":"100%",width:"100%",position:"relative",top:a?"0":"-".concat(y,"px"),zIndex:1,cursor:a?void 0:"default"},children:(0,t.jsx)(o.ReactFlow,{nodeTypes:H,viewport:_,onViewportChange:I,nodes:B,onNodesChange:F,style:{pointerEvents:a?void 0:"none",touchAction:a?void 0:"none"},autoPanOnNodeFocus:!1,minZoom:1,translateExtent:S>0&&E>0?[[0,0],[S,E]]:void 0,nodeExtent:S>0&&E>0?[[0,0],[S,E]]:void 0,connectionMode:"Loose",...a?{nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,panOnScroll:!0,panOnDrag:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,maxZoom:2}:{maxZoom:1,minZoom:1},children:a&&(0,t.jsx)(o.Background,{})})}),!a&&"currentState"===l&&b.layout.extraCurrentState.enabled&&(0,t.jsx)("div",{style:{fontWeight:"bold",width:"100%",height:"20%",top:"-".concat(y,"px"),position:"relative",borderTop:"1px solid rgba(0,0,0,1)"},children:(0,t.jsx)(d.AutoTextSize,{mode:"box",style:{height:"100%"},children:b.layout.extraCurrentState.text.map((e,n)=>{let r="";if(e&&"object"==typeof e&&"text"in e){let t=e.authorDisplay?"".concat(e.authorDisplay).concat(e.date?" (".concat((0,s.formatCommentTimestamp)(e.date),")"):""):null;r=t?"".concat(t,": ").concat(e.text):e.text}else r=String(null!=e?e:"");return(0,t.jsx)("p",{children:r},"extra-current-state-line-".concat(n))})})})]})}},84234,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476);e.i(71645);var n=e.i(86768),r=e.i(91282);let o={outlineOffset:"-1px",outline:"1px solid #000",overflow:"hidden",boxSizing:"border-box"};function i(e){if(!e)return"";let t=e.target||{},n=e.unit?" ".concat(e.unit):"";return"Change ".concat(e.metricName||"(unspecified)"," from ").concat((0,r.formatCompact)(e.initial)," to ").concat((0,r.formatCompact)(t.value)," ").concat(n,". (").concat(t.percent>=0?"+":"").concat((0,r.formatCompact)(t.percent),"%)")}function a(e){let{metrics:r,twoPct:a}=e,l=(null==r?void 0:r.lag)||null,s=Array.isArray(null==r?void 0:r.leads)?r.leads:[],u=[];if(l){let e=i(l);u.push("Main Objective: ".concat(e))}if(s.length>0){u.length<7&&u.push("To achieve this, we must:");for(let e=0;e<s.length&&u.length<7;e++){let t=i(s[e]);u.push(" ".concat(t))}}0===u.length&&u.push("No metrics defined");let c=!!l;return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",boxSizing:"border-box"},children:[(0,t.jsx)("div",{style:{fontWeight:"bold",paddingLeft:"2px",width:"60%",height:"".concat(a,"px"),...o,flex:"0 0 auto",backgroundColor:"var(--accent-highlight)"},children:(0,t.jsx)(n.AutoTextSize,{mode:"boxoneline",style:{height:"100%"},children:"Objectives (Lag and Leads)"})}),(0,t.jsx)("div",{style:{flex:"1 1 0",minHeight:0,width:"100%",boxSizing:"border-box",padding:2},children:(0,t.jsx)(n.AutoTextSize,{mode:"box",style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",lineHeight:1},children:u.map((e,n)=>(0,t.jsx)("p",{style:0===n&&c?{fontWeight:"bold",whiteSpace:"normal",wordBreak:"break-word",margin:0}:1===n?{whiteSpace:"normal",wordBreak:"break-word",margin:0}:{marginLeft:"5%",whiteSpace:"normal",wordBreak:"break-word",marginLeft:"5%"},children:e},n))})})]})}},53760,43084,29315,e=>{"use strict";e.s(["arrow",()=>eT,"autoPlacement",()=>eO,"autoUpdate",()=>eM,"computePosition",()=>eI,"detectOverflow",()=>ej,"flip",()=>eR,"hide",()=>eP,"inline",()=>eD,"limitShift",()=>eL,"offset",()=>eA,"shift",()=>eN,"size",()=>ez],53760),e.s(["clamp",()=>c,"createCoords",()=>l,"evaluate",()=>d,"floor",()=>a,"getAlignment",()=>h,"getAlignmentAxis",()=>y,"getAlignmentSides",()=>b,"getAxisLength",()=>g,"getExpandedPlacements",()=>x,"getOppositeAlignmentPlacement",()=>w,"getOppositeAxis",()=>p,"getOppositeAxisPlacements",()=>k,"getOppositePlacement",()=>M,"getPaddingObject",()=>j,"getSide",()=>f,"getSideAxis",()=>m,"max",()=>o,"min",()=>r,"placements",()=>n,"rectToClientRect",()=>A,"round",()=>i,"sides",()=>t],43084);let t=["top","right","bottom","left"],n=t.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]),r=Math.min,o=Math.max,i=Math.round,a=Math.floor,l=e=>({x:e,y:e}),s={left:"right",right:"left",bottom:"top",top:"bottom"},u={start:"end",end:"start"};function c(e,t,n){return o(e,r(t,n))}function d(e,t){return"function"==typeof e?e(t):e}function f(e){return e.split("-")[0]}function h(e){return e.split("-")[1]}function p(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}let v=new Set(["top","bottom"]);function m(e){return v.has(f(e))?"y":"x"}function y(e){return p(m(e))}function b(e,t,n){void 0===n&&(n=!1);let r=h(e),o=y(e),i=g(o),a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=M(a)),[a,M(a)]}function x(e){let t=M(e);return[w(e),t,w(t)]}function w(e){return e.replace(/start|end/g,e=>u[e])}let S=["left","right"],E=["right","left"],_=["top","bottom"],C=["bottom","top"];function k(e,t,n,r){let o=h(e),i=function(e,t,n){switch(e){case"top":case"bottom":if(n)return t?E:S;return t?S:E;case"left":case"right":return t?_:C;default:return[]}}(f(e),"start"===n,r);return o&&(i=i.map(e=>e+"-"+o),t&&(i=i.concat(i.map(w)))),i}function M(e){return e.replace(/left|right|bottom|top/g,e=>s[e])}function j(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function A(e){let{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function O(e,t,n){let r,{reference:o,floating:i}=e,a=m(t),l=y(t),s=g(l),u=f(t),c="y"===a,d=o.x+o.width/2-i.width/2,p=o.y+o.height/2-i.height/2,v=o[s]/2-i[s]/2;switch(u){case"top":r={x:d,y:o.y-i.height};break;case"bottom":r={x:d,y:o.y+o.height};break;case"right":r={x:o.x+o.width,y:p};break;case"left":r={x:o.x-i.width,y:p};break;default:r={x:o.x,y:o.y}}switch(h(t)){case"start":r[l]-=v*(n&&c?-1:1);break;case"end":r[l]+=v*(n&&c?-1:1)}return r}let N=async(e,t,n)=>{let{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),s=await (null==a.isRTL?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=O(u,r,s),f=r,h={},p=0;for(let n=0;n<l.length;n++){let{name:i,fn:g}=l[n],{x:v,y:m,data:y,reset:b}=await g({x:c,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:h,rects:u,platform:a,elements:{reference:e,floating:t}});c=null!=v?v:c,d=null!=m?m:d,h={...h,[i]:{...h[i],...y}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):b.rects),{x:c,y:d}=O(u,f,s)),n=-1)}return{x:c,y:d,placement:f,strategy:o,middlewareData:h}};async function R(e,t){var n;void 0===t&&(t={});let{x:r,y:o,platform:i,rects:a,elements:l,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=d(t,e),g=j(p),v=l[h?"floating"===f?"reference":"floating":f],m=A(await i.getClippingRect({element:null==(n=await (null==i.isElement?void 0:i.isElement(v)))||n?v:v.contextElement||await (null==i.getDocumentElement?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:s})),y="floating"===f?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await (null==i.getOffsetParent?void 0:i.getOffsetParent(l.floating)),x=await (null==i.isElement?void 0:i.isElement(b))&&await (null==i.getScale?void 0:i.getScale(b))||{x:1,y:1},w=A(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:s}):y);return{top:(m.top-w.top+g.top)/x.y,bottom:(w.bottom-m.bottom+g.bottom)/x.y,left:(m.left-w.left+g.left)/x.x,right:(w.right-m.right+g.right)/x.x}}function z(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function P(e){return t.some(t=>e[t]>=0)}function T(e){let t=r(...e.map(e=>e.left)),n=r(...e.map(e=>e.top));return{x:t,y:n,width:o(...e.map(e=>e.right))-t,height:o(...e.map(e=>e.bottom))-n}}let D=new Set(["left","top"]);async function L(e,t){let{placement:n,platform:r,elements:o}=e,i=await (null==r.isRTL?void 0:r.isRTL(o.floating)),a=f(n),l=h(n),s="y"===m(n),u=D.has(a)?-1:1,c=i&&s?-1:1,p=d(t,e),{mainAxis:g,crossAxis:v,alignmentAxis:y}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&"number"==typeof y&&(v="end"===l?-1*y:y),s?{x:v*c,y:g*u}:{x:g*u,y:v*c}}function I(){return"undefined"!=typeof window}function F(e){return W(e)?(e.nodeName||"").toLowerCase():"#document"}function B(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function H(e){var t;return null==(t=(W(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function W(e){return!!I()&&(e instanceof Node||e instanceof B(e).Node)}function V(e){return!!I()&&(e instanceof Element||e instanceof B(e).Element)}function U(e){return!!I()&&(e instanceof HTMLElement||e instanceof B(e).HTMLElement)}function Y(e){return!!I()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof B(e).ShadowRoot)}e.s(["getComputedStyle",()=>ea,"getContainingBlock",()=>en,"getDocumentElement",()=>H,"getFrameElement",()=>ec,"getNodeName",()=>F,"getNodeScroll",()=>el,"getOverflowAncestors",()=>eu,"getParentNode",()=>es,"getWindow",()=>B,"isContainingBlock",()=>et,"isElement",()=>V,"isHTMLElement",()=>U,"isLastTraversableNode",()=>ei,"isNode",()=>W,"isOverflowElement",()=>G,"isShadowRoot",()=>Y,"isTableElement",()=>K,"isTopLayer",()=>$,"isWebKit",()=>er],29315);let X=new Set(["inline","contents"]);function G(e){let{overflow:t,overflowX:n,overflowY:r,display:o}=ea(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!X.has(o)}let q=new Set(["table","td","th"]);function K(e){return q.has(F(e))}let Z=[":popover-open",":modal"];function $(e){return Z.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let Q=["transform","translate","scale","rotate","perspective"],J=["transform","translate","scale","rotate","perspective","filter"],ee=["paint","layout","strict","content"];function et(e){let t=er(),n=V(e)?ea(e):e;return Q.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||J.some(e=>(n.willChange||"").includes(e))||ee.some(e=>(n.contain||"").includes(e))}function en(e){let t=es(e);for(;U(t)&&!ei(t);){if(et(t))return t;if($(t))break;t=es(t)}return null}function er(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let eo=new Set(["html","body","#document"]);function ei(e){return eo.has(F(e))}function ea(e){return B(e).getComputedStyle(e)}function el(e){return V(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function es(e){if("html"===F(e))return e;let t=e.assignedSlot||e.parentNode||Y(e)&&e.host||H(e);return Y(t)?t.host:t}function eu(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);let o=function e(t){let n=es(t);return ei(n)?t.ownerDocument?t.ownerDocument.body:t.body:U(n)&&G(n)?n:e(n)}(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=B(o);if(i){let e=ec(a);return t.concat(a,a.visualViewport||[],G(o)?o:[],e&&n?eu(e):[])}return t.concat(o,eu(o,[],n))}function ec(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ed(e){let t=ea(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,o=U(e),a=o?e.offsetWidth:n,l=o?e.offsetHeight:r,s=i(n)!==a||i(r)!==l;return s&&(n=a,r=l),{width:n,height:r,$:s}}function ef(e){return V(e)?e:e.contextElement}function eh(e){let t=ef(e);if(!U(t))return l(1);let n=t.getBoundingClientRect(),{width:r,height:o,$:a}=ed(t),s=(a?i(n.width):n.width)/r,u=(a?i(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),u&&Number.isFinite(u)||(u=1),{x:s,y:u}}let ep=l(0);function eg(e){let t=B(e);return er()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ep}function ev(e,t,n,r){var o;void 0===t&&(t=!1),void 0===n&&(n=!1);let i=e.getBoundingClientRect(),a=ef(e),s=l(1);t&&(r?V(r)&&(s=eh(r)):s=eh(e));let u=(void 0===(o=n)&&(o=!1),r&&(!o||r===B(a))&&o)?eg(a):l(0),c=(i.left+u.x)/s.x,d=(i.top+u.y)/s.y,f=i.width/s.x,h=i.height/s.y;if(a){let e=B(a),t=r&&V(r)?B(r):r,n=e,o=ec(n);for(;o&&r&&t!==n;){let e=eh(o),t=o.getBoundingClientRect(),r=ea(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,d*=e.y,f*=e.x,h*=e.y,c+=i,d+=a,o=ec(n=B(o))}}return A({width:f,height:h,x:c,y:d})}function em(e,t){let n=el(e).scrollLeft;return t?t.left+n:ev(H(e)).left+n}function ey(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-em(e,n),y:n.top+t.scrollTop}}let eb=new Set(["absolute","fixed"]);function ex(e,t,n){let r;if("viewport"===t)r=function(e,t){let n=B(e),r=H(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,l=0,s=0;if(o){i=o.width,a=o.height;let e=er();(!e||e&&"fixed"===t)&&(l=o.offsetLeft,s=o.offsetTop)}let u=em(r);if(u<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(r.clientWidth-t.clientWidth-o);a<=25&&(i-=a)}else u<=25&&(i+=u);return{width:i,height:a,x:l,y:s}}(e,n);else if("document"===t)r=function(e){let t=H(e),n=el(e),r=e.ownerDocument.body,i=o(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=o(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),l=-n.scrollLeft+em(e),s=-n.scrollTop;return"rtl"===ea(r).direction&&(l+=o(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:s}}(H(e));else if(V(t))r=function(e,t){let n=ev(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=U(e)?eh(e):l(1),a=e.clientWidth*i.x,s=e.clientHeight*i.y;return{width:a,height:s,x:o*i.x,y:r*i.y}}(t,n);else{let n=eg(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return A(r)}function ew(e){return"static"===ea(e).position}function eS(e,t){if(!U(e)||"fixed"===ea(e).position)return null;if(t)return t(e);let n=e.offsetParent;return H(e)===n&&(n=n.ownerDocument.body),n}function eE(e,t){let n=B(e);if($(e))return n;if(!U(e)){let t=es(e);for(;t&&!ei(t);){if(V(t)&&!ew(t))return t;t=es(t)}return n}let r=eS(e,t);for(;r&&K(r)&&ew(r);)r=eS(r,t);return r&&ei(r)&&ew(r)&&!et(r)?n:r||en(e)||n}let e_=async function(e){let t=this.getOffsetParent||eE,n=this.getDimensions,r=await n(e.floating);return{reference:function(e,t,n){let r=U(t),o=H(t),i="fixed"===n,a=ev(e,!0,i,t),s={scrollLeft:0,scrollTop:0},u=l(0);if(r||!r&&!i)if(("body"!==F(t)||G(o))&&(s=el(t)),r){let e=ev(t,!0,i,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else o&&(u.x=em(o));i&&!r&&o&&(u.x=em(o));let c=!o||r||i?l(0):ey(o,s);return{x:a.left+s.scrollLeft-u.x-c.x,y:a.top+s.scrollTop-u.y-c.y,width:a.width,height:a.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},eC={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e,i="fixed"===o,a=H(r),s=!!t&&$(t.floating);if(r===a||s&&i)return n;let u={scrollLeft:0,scrollTop:0},c=l(1),d=l(0),f=U(r);if((f||!f&&!i)&&(("body"!==F(r)||G(a))&&(u=el(r)),U(r))){let e=ev(r);c=eh(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}let h=!a||f||i?l(0):ey(a,u);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-u.scrollTop*c.y+d.y+h.y}},getDocumentElement:H,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:a}=e,l=[..."clippingAncestors"===n?$(t)?[]:function(e,t){let n=t.get(e);if(n)return n;let r=eu(e,[],!1).filter(e=>V(e)&&"body"!==F(e)),o=null,i="fixed"===ea(e).position,a=i?es(e):e;for(;V(a)&&!ei(a);){let t=ea(a),n=et(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&!!o&&eb.has(o.position)||G(a)&&!n&&function e(t,n){let r=es(t);return!(r===n||!V(r)||ei(r))&&("fixed"===ea(r).position||e(r,n))}(e,a))?r=r.filter(e=>e!==a):o=t,a=es(a)}return t.set(e,r),r}(t,this._c):[].concat(n),i],s=l[0],u=l.reduce((e,n)=>{let i=ex(t,n,a);return e.top=o(i.top,e.top),e.right=r(i.right,e.right),e.bottom=r(i.bottom,e.bottom),e.left=o(i.left,e.left),e},ex(t,s,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:eE,getElementRects:e_,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:n}=ed(e);return{width:t,height:n}},getScale:eh,isElement:V,isRTL:function(e){return"rtl"===ea(e).direction}};function ek(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eM(e,t,n,i){let l;void 0===i&&(i={});let{ancestorScroll:s=!0,ancestorResize:u=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:f=!1}=i,h=ef(e),p=s||u?[...h?eu(h):[],...eu(t)]:[];p.forEach(e=>{s&&e.addEventListener("scroll",n,{passive:!0}),u&&e.addEventListener("resize",n)});let g=h&&d?function(e,t){let n,i=null,l=H(e);function s(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return!function u(c,d){void 0===c&&(c=!1),void 0===d&&(d=1),s();let f=e.getBoundingClientRect(),{left:h,top:p,width:g,height:v}=f;if(c||t(),!g||!v)return;let m=a(p),y=a(l.clientWidth-(h+g)),b={rootMargin:-m+"px "+-y+"px "+-a(l.clientHeight-(p+v))+"px "+-a(h)+"px",threshold:o(0,r(1,d))||1},x=!0;function w(t){let r=t[0].intersectionRatio;if(r!==d){if(!x)return u();r?u(!1,r):n=setTimeout(()=>{u(!1,1e-7)},1e3)}1!==r||ek(f,e.getBoundingClientRect())||u(),x=!1}try{i=new IntersectionObserver(w,{...b,root:l.ownerDocument})}catch(e){i=new IntersectionObserver(w,b)}i.observe(e)}(!0),s}(h,n):null,v=-1,m=null;c&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===h&&m&&(m.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),h&&!f&&m.observe(h),m.observe(t));let y=f?ev(e):null;return f&&function t(){let r=ev(e);y&&!ek(y,r)&&n(),y=r,l=requestAnimationFrame(t)}(),n(),()=>{var e;p.forEach(e=>{s&&e.removeEventListener("scroll",n),u&&e.removeEventListener("resize",n)}),null==g||g(),null==(e=m)||e.disconnect(),m=null,f&&cancelAnimationFrame(l)}}let ej=R,eA=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;let{x:o,y:i,placement:a,middlewareData:l}=t,s=await L(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:o+s.x,y:i+s.y,data:{...s,placement:a}}}}},eO=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var r,o,i,a;let{rects:l,middlewareData:s,placement:u,platform:c,elements:p}=t,{crossAxis:g=!1,alignment:v,allowedPlacements:m=n,autoAlignment:y=!0,...x}=d(e,t),S=void 0!==v||m===n?((a=v||null)?[...m.filter(e=>h(e)===a),...m.filter(e=>h(e)!==a)]:m.filter(e=>f(e)===e)).filter(e=>!a||h(e)===a||!!y&&w(e)!==e):m,E=await R(t,x),_=(null==(r=s.autoPlacement)?void 0:r.index)||0,C=S[_];if(null==C)return{};let k=b(C,l,await (null==c.isRTL?void 0:c.isRTL(p.floating)));if(u!==C)return{reset:{placement:S[0]}};let M=[E[f(C)],E[k[0]],E[k[1]]],j=[...(null==(o=s.autoPlacement)?void 0:o.overflows)||[],{placement:C,overflows:M}],A=S[_+1];if(A)return{data:{index:_+1,overflows:j},reset:{placement:A}};let O=j.map(e=>{let t=h(e.placement);return[e.placement,t&&g?e.overflows.slice(0,2).reduce((e,t)=>e+t,0):e.overflows[0],e.overflows]}).sort((e,t)=>e[1]-t[1]),N=(null==(i=O.filter(e=>e[2].slice(0,h(e[0])?2:3).every(e=>e<=0))[0])?void 0:i[0])||O[0][0];return N!==u?{data:{index:_+1,overflows:j},reset:{placement:N}}:{}}}},eN=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...s}=d(e,t),u={x:n,y:r},h=await R(t,s),g=m(f(o)),v=p(g),y=u[v],b=u[g];if(i){let e="y"===v?"top":"left",t="y"===v?"bottom":"right",n=y+h[e],r=y-h[t];y=c(n,y,r)}if(a){let e="y"===g?"top":"left",t="y"===g?"bottom":"right",n=b+h[e],r=b-h[t];b=c(n,b,r)}let x=l.fn({...t,[v]:y,[g]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[v]:i,[g]:a}}}}}},eR=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r,o,i,a;let{placement:l,middlewareData:s,rects:u,initialPlacement:c,platform:h,elements:p}=t,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,..._}=d(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};let C=f(l),j=m(c),A=f(c)===c,O=await (null==h.isRTL?void 0:h.isRTL(p.floating)),N=y||(A||!E?[M(c)]:x(c)),z="none"!==S;!y&&z&&N.push(...k(c,E,S,O));let P=[c,...N],T=await R(t,_),D=[],L=(null==(r=s.flip)?void 0:r.overflows)||[];if(g&&D.push(T[C]),v){let e=b(l,u,O);D.push(T[e[0]],T[e[1]])}if(L=[...L,{placement:l,overflows:D}],!D.every(e=>e<=0)){let e=((null==(o=s.flip)?void 0:o.index)||0)+1,t=P[e];if(t&&("alignment"!==v||j===m(t)||L.every(e=>m(e.placement)!==j||e.overflows[0]>0)))return{data:{index:e,overflows:L},reset:{placement:t}};let n=null==(i=L.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:i.placement;if(!n)switch(w){case"bestFit":{let e=null==(a=L.filter(e=>{if(z){let t=m(e.placement);return t===j||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:a[0];e&&(n=e);break}case"initialPlacement":n=c}if(l!==n)return{reset:{placement:n}}}return{}}}},ez=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,i;let a,l,{placement:s,rects:u,platform:c,elements:p}=t,{apply:g=()=>{},...v}=d(e,t),y=await R(t,v),b=f(s),x=h(s),w="y"===m(s),{width:S,height:E}=u.floating;"top"===b||"bottom"===b?(a=b,l=x===(await (null==c.isRTL?void 0:c.isRTL(p.floating))?"start":"end")?"left":"right"):(l=b,a="end"===x?"top":"bottom");let _=E-y.top-y.bottom,C=S-y.left-y.right,k=r(E-y[a],_),M=r(S-y[l],C),j=!t.middlewareData.shift,A=k,O=M;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(O=C),null!=(i=t.middlewareData.shift)&&i.enabled.y&&(A=_),j&&!x){let e=o(y.left,0),t=o(y.right,0),n=o(y.top,0),r=o(y.bottom,0);w?O=S-2*(0!==e||0!==t?e+t:o(y.left,y.right)):A=E-2*(0!==n||0!==r?n+r:o(y.top,y.bottom))}await g({...t,availableWidth:O,availableHeight:A});let N=await c.getDimensions(p.floating);return S!==N.width||E!==N.height?{reset:{rects:!0}}:{}}}},eP=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:n}=t,{strategy:r="referenceHidden",...o}=d(e,t);switch(r){case"referenceHidden":{let e=z(await R(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:P(e)}}}case"escaped":{let e=z(await R(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:P(e)}}}default:return{}}}}},eT=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:o,placement:i,rects:a,platform:l,elements:s,middlewareData:u}=t,{element:f,padding:p=0}=d(e,t)||{};if(null==f)return{};let v=j(p),m={x:n,y:o},b=y(i),x=g(b),w=await l.getDimensions(f),S="y"===b,E=S?"clientHeight":"clientWidth",_=a.reference[x]+a.reference[b]-m[b]-a.floating[x],C=m[b]-a.reference[b],k=await (null==l.getOffsetParent?void 0:l.getOffsetParent(f)),M=k?k[E]:0;M&&await (null==l.isElement?void 0:l.isElement(k))||(M=s.floating[E]||a.floating[x]);let A=M/2-w[x]/2-1,O=r(v[S?"top":"left"],A),N=r(v[S?"bottom":"right"],A),R=M-w[x]-N,z=M/2-w[x]/2+(_/2-C/2),P=c(O,z,R),T=!u.arrow&&null!=h(i)&&z!==P&&a.reference[x]/2-(z<O?O:N)-w[x]/2<0,D=T?z<O?z-O:z-R:0;return{[b]:m[b]+D,data:{[b]:P,centerOffset:z-P-D,...T&&{alignmentOffset:D}},reset:T}}}),eD=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){let{placement:n,elements:i,rects:a,platform:l,strategy:s}=t,{padding:u=2,x:c,y:h}=d(e,t),p=Array.from(await (null==l.getClientRects?void 0:l.getClientRects(i.reference))||[]),g=function(e){let t=e.slice().sort((e,t)=>e.y-t.y),n=[],r=null;for(let e=0;e<t.length;e++){let o=t[e];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(e=>A(T(e)))}(p),v=A(T(p)),y=j(u),b=await l.getElementRects({reference:{getBoundingClientRect:function(){if(2===g.length&&g[0].left>g[1].right&&null!=c&&null!=h)return g.find(e=>c>e.left-y.left&&c<e.right+y.right&&h>e.top-y.top&&h<e.bottom+y.bottom)||v;if(g.length>=2){if("y"===m(n)){let e=g[0],t=g[g.length-1],r="top"===f(n),o=e.top,i=t.bottom,a=r?e.left:t.left,l=r?e.right:t.right;return{top:o,bottom:i,left:a,right:l,width:l-a,height:i-o,x:a,y:o}}let e="left"===f(n),t=o(...g.map(e=>e.right)),i=r(...g.map(e=>e.left)),a=g.filter(n=>e?n.left===i:n.right===t),l=a[0].top,s=a[a.length-1].bottom;return{top:l,bottom:s,left:i,right:t,width:t-i,height:s-l,x:i,y:l}}return v}},floating:i.floating,strategy:s});return a.reference.x!==b.reference.x||a.reference.y!==b.reference.y||a.reference.width!==b.reference.width||a.reference.height!==b.reference.height?{reset:{rects:b}}:{}}}},eL=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:l=0,mainAxis:s=!0,crossAxis:u=!0}=d(e,t),c={x:n,y:r},h=m(o),g=p(h),v=c[g],y=c[h],b=d(l,t),x="number"==typeof b?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(s){let e="y"===g?"height":"width",t=i.reference[g]-i.floating[e]+x.mainAxis,n=i.reference[g]+i.reference[e]-x.mainAxis;v<t?v=t:v>n&&(v=n)}if(u){var w,S;let e="y"===g?"width":"height",t=D.has(f(o)),n=i.reference[h]-i.floating[e]+(t&&(null==(w=a.offset)?void 0:w[h])||0)+(t?0:x.crossAxis),r=i.reference[h]+i.reference[e]+(t?0:(null==(S=a.offset)?void 0:S[h])||0)-(t?x.crossAxis:0);y<n?y=n:y>r&&(y=r)}return{[g]:v,[h]:y}}}},eI=(e,t,n)=>{let r=new Map,o={platform:eC,...n},i={...o.platform,_c:r};return N(e,t,{...o,platform:i})}},66275,e=>{"use strict";e.s(["default",()=>O],66275);var t=e.i(43476),n=e.i(71645),r=e.i(91282),o=e.i(47167),i=e.i(53760),a=e.i(43794);let l={core:!1,base:!1};function s(e){var t,n;let{css:r,id:i="react-tooltip-base-styles",type:a="base",ref:s}=e;if(!r||"undefined"==typeof document||l[a]||"core"===a&&void 0!==o.default&&(null==(t=null===o.default||void 0===o.default?void 0:o.default.env)?void 0:t.REACT_TOOLTIP_DISABLE_CORE_STYLES)||"base"!==a&&void 0!==o.default&&(null==(n=null===o.default||void 0===o.default?void 0:o.default.env)?void 0:n.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===a&&(i="react-tooltip-core-styles"),s||(s={});let{insertAt:u}=s;if(document.getElementById(i))return;let c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.id=i,d.type="text/css","top"===u&&c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d),d.styleSheet?d.styleSheet.cssText=r:d.appendChild(document.createTextNode(r)),l[a]=!0}let u=async e=>{let{elementReference:t=null,tooltipReference:n=null,tooltipArrowReference:r=null,place:o="top",offset:a=10,strategy:l="absolute",middlewares:s=[(0,i.offset)(Number(a)),(0,i.flip)({fallbackAxisSideDirection:"start"}),(0,i.shift)({padding:5})],border:u,arrowSize:c=8}=e;return t&&null!==n?r?(s.push((0,i.arrow)({element:r,padding:5})),(0,i.computePosition)(t,n,{placement:o,strategy:l,middleware:s}).then(e=>{var t,n;let{x:r,y:o,placement:i,middlewareData:a}=e,{x:l,y:s}=null!=(t=a.arrow)?t:{x:0,y:0},d=null!=(n=({top:"bottom",right:"left",bottom:"top",left:"right"})[i.split("-")[0]])?n:"bottom",f=0;if(u){let e="".concat(u).match(/(\d+)px/);f=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:{left:"".concat(r,"px"),top:"".concat(o,"px"),border:u},tooltipArrowStyles:{left:null!=l?"".concat(l,"px"):"",top:null!=s?"".concat(s,"px"):"",right:"",bottom:"",...u&&{borderBottom:u,borderRight:u},[d]:"-".concat(c/2+f,"px")},place:i}})):(0,i.computePosition)(t,n,{placement:"bottom",strategy:l,middleware:s}).then(e=>{let{x:t,y:n,placement:r}=e;return{tooltipStyles:{left:"".concat(t,"px"),top:"".concat(n,"px")},tooltipArrowStyles:{},place:r}}):{tooltipStyles:{},tooltipArrowStyles:{},place:o}},c=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),d=(e,t,n)=>{let r=null,o=function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];let l=()=>{r=null,n||e.apply(this,i)};n&&!r&&(e.apply(this,i),r=setTimeout(l,t)),n||(r&&clearTimeout(r),r=setTimeout(l,t))};return o.cancel=()=>{r&&(clearTimeout(r),r=null)},o},f=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,h=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,n)=>h(e,t[n]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!f(e)||!f(t))return e===t;let n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>h(e[n],t[n]))},p=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(e=>{let n=t.getPropertyValue(e);return"auto"===n||"scroll"===n})},g=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(p(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},v="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,m=e=>{e.current&&(clearTimeout(e.current),e.current=null)},y={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},b=(0,n.createContext)({getTooltipData:()=>y});function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DEFAULT_TOOLTIP_ID";return(0,n.useContext)(b).getTooltipData(e)}var w={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},S={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};let E=e=>{var t;let{forwardRef:r,id:o,className:l,classNameArrow:s,variant:c="dark",anchorId:f,anchorSelect:p,place:y="top",offset:b=10,events:E=["hover"],openOnClick:_=!1,positionStrategy:C="absolute",middlewares:k,wrapper:M,delayShow:j=0,delayHide:A=0,float:O=!1,hidden:N=!1,noArrow:R=!1,clickable:z=!1,closeOnEsc:P=!1,closeOnScroll:T=!1,closeOnResize:D=!1,openEvents:L,closeEvents:I,globalCloseEvents:F,imperativeModeOnly:B,style:H,position:W,afterShow:V,afterHide:U,disableTooltip:Y,content:X,contentWrapperRef:G,isOpen:q,defaultIsOpen:K=!1,setIsOpen:Z,previousActiveAnchor:$,activeAnchor:Q,setActiveAnchor:J,border:ee,opacity:et,arrowColor:en,arrowSize:er=8,role:eo="tooltip"}=e,ei=(0,n.useRef)(null),ea=(0,n.useRef)(null),el=(0,n.useRef)(null),es=(0,n.useRef)(null),eu=(0,n.useRef)(null),[ec,ed]=(0,n.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:y}),[ef,eh]=(0,n.useState)(!1),[ep,eg]=(0,n.useState)(!1),[ev,em]=(0,n.useState)(null),ey=(0,n.useRef)(!1),eb=(0,n.useRef)(null),{anchorRefs:ex,setActiveAnchor:ew}=x(o),eS=(0,n.useRef)(!1),[eE,e_]=(0,n.useState)([]),eC=(0,n.useRef)(!1),ek=_||E.includes("click"),eM=ek||(null==L?void 0:L.click)||(null==L?void 0:L.dblclick)||(null==L?void 0:L.mousedown),ej=L?{...L}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!L&&ek&&Object.assign(ej,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});let eA=I?{...I}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!I&&ek&&Object.assign(eA,{mouseleave:!1,blur:!1,mouseout:!1});let eO=F?{...F}:{escape:P||!1,scroll:T||!1,resize:D||!1,clickOutsideAnchor:eM||!1};B&&(Object.assign(ej,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(eA,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(eO,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),v(()=>(eC.current=!0,()=>{eC.current=!1}),[]);let eN=e=>{eC.current&&(e&&eg(!0),setTimeout(()=>{eC.current&&(null==Z||Z(e),void 0===q&&eh(e))},10))};(0,n.useEffect)(()=>{if(o){if(ef){t($);let n=[...new Set([...e(Q),o])].filter(Boolean).join(" ");null==Q||Q.setAttribute("aria-describedby",n)}else t(Q);return()=>{t(Q),t($)}}function e(e){var t;return(null==(t=null==e?void 0:e.getAttribute("aria-describedby"))?void 0:t.split(" "))||[]}function t(t){let n=e(t).filter(e=>e!==o);n.length?null==t||t.setAttribute("aria-describedby",n.join(" ")):null==t||t.removeAttribute("aria-describedby")}},[Q,ef,o,$]),(0,n.useEffect)(()=>{if(void 0===q)return()=>null;q&&eg(!0);let e=setTimeout(()=>{eh(q)},10);return()=>{clearTimeout(e)}},[q]),(0,n.useEffect)(()=>{ef!==ey.current&&((m(eu),ey.current=ef,ef)?null==V||V():eu.current=setTimeout(()=>{eg(!1),em(null),null==U||U()},(e=>{let t=e.match(/^([\d.]+)(ms|s)$/);if(!t)return 0;let[,n,r]=t;return Number(n)*("ms"===r?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"))+25))},[ef]);let eR=e=>{ed(t=>h(t,e)?t:e)},ez=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;m(el),ep?eN(!0):el.current=setTimeout(()=>{eN(!0)},e)},eP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;m(es),es.current=setTimeout(()=>{eS.current||eN(!1)},e)},eT=e=>{var t;if(!e)return;let n=null!=(t=e.currentTarget)?t:e.target;if(!(null==n?void 0:n.isConnected))return J(null),void ew({current:null});j?ez():eN(!0),J(n),ew({current:n}),m(es)},eD=()=>{z?eP(A||100):A?eP():eN(!1),m(el)},eL=e=>{var t;let{x:n,y:r}=e;u({place:null!=(t=null==ev?void 0:ev.place)?t:y,offset:b,elementReference:{getBoundingClientRect:()=>({x:n,y:r,width:0,height:0,top:r,left:n,right:n,bottom:r})},tooltipReference:ei.current,tooltipArrowReference:ea.current,strategy:C,middlewares:k,border:ee,arrowSize:er}).then(e=>{eR(e)})},eI=e=>{if(!e)return;let t={x:e.clientX,y:e.clientY};eL(t),eb.current=t},eF=e=>{var t;if(!ef)return;let n=e.target;n.isConnected&&(null==(t=ei.current)||!t.contains(n))&&([document.querySelector("[id='".concat(f,"']")),...eE].some(e=>null==e?void 0:e.contains(n))||(eN(!1),m(el)))},eB=d(eT,50,!0),eH=d(eD,50,!0),eW=e=>{eH.cancel(),eB(e)},eV=()=>{eB.cancel(),eH()},eU=(0,n.useCallback)(()=>{var e,t;let n=null!=(e=null==ev?void 0:ev.position)?e:W;n?eL(n):O?eb.current&&eL(eb.current):(null==Q?void 0:Q.isConnected)&&u({place:null!=(t=null==ev?void 0:ev.place)?t:y,offset:b,elementReference:Q,tooltipReference:ei.current,tooltipArrowReference:ea.current,strategy:C,middlewares:k,border:ee,arrowSize:er}).then(e=>{eC.current&&eR(e)})},[ef,Q,X,H,y,null==ev?void 0:ev.place,b,C,W,null==ev?void 0:ev.position,O,er]);(0,n.useEffect)(()=>{var e,t;let n=new Set(ex);eE.forEach(e=>{(null==Y?void 0:Y(e))||n.add({current:e})});let r=document.querySelector("[id='".concat(f,"']"));!r||(null==Y?void 0:Y(r))||n.add({current:r});let o=()=>{eN(!1)},a=g(Q),l=g(ei.current);eO.scroll&&(window.addEventListener("scroll",o),null==a||a.addEventListener("scroll",o),null==l||l.addEventListener("scroll",o));let s=null;eO.resize?window.addEventListener("resize",o):Q&&ei.current&&(s=(0,i.autoUpdate)(Q,ei.current,eU,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));let u=e=>{"Escape"===e.key&&eN(!1)};eO.escape&&window.addEventListener("keydown",u),eO.clickOutsideAnchor&&window.addEventListener("click",eF);let c=[],d=e=>!!((null==e?void 0:e.target)&&(null==Q?void 0:Q.contains(e.target))),h=e=>{ef&&d(e)||eT(e)},p=e=>{ef&&d(e)&&eD()},v=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],m=["click","dblclick","mousedown","mouseup"];Object.entries(ej).forEach(e=>{let[t,n]=e;n&&(v.includes(t)?c.push({event:t,listener:eW}):m.includes(t)&&c.push({event:t,listener:h}))}),Object.entries(eA).forEach(e=>{let[t,n]=e;n&&(v.includes(t)?c.push({event:t,listener:eV}):m.includes(t)&&c.push({event:t,listener:p}))}),O&&c.push({event:"pointermove",listener:eI});let y=()=>{eS.current=!0},b=()=>{eS.current=!1,eD()},x=z&&(eA.mouseout||eA.mouseleave);return x&&(null==(e=ei.current)||e.addEventListener("mouseover",y),null==(t=ei.current)||t.addEventListener("mouseout",b)),c.forEach(e=>{let{event:t,listener:r}=e;n.forEach(e=>{var n;null==(n=e.current)||n.addEventListener(t,r)})}),()=>{var e,t;eO.scroll&&(window.removeEventListener("scroll",o),null==a||a.removeEventListener("scroll",o),null==l||l.removeEventListener("scroll",o)),eO.resize?window.removeEventListener("resize",o):null==s||s(),eO.clickOutsideAnchor&&window.removeEventListener("click",eF),eO.escape&&window.removeEventListener("keydown",u),x&&(null==(e=ei.current)||e.removeEventListener("mouseover",y),null==(t=ei.current)||t.removeEventListener("mouseout",b)),c.forEach(e=>{let{event:t,listener:r}=e;n.forEach(e=>{var n;null==(n=e.current)||n.removeEventListener(t,r)})})}},[Q,eU,ep,ex,eE,L,I,F,ek,j,A]),(0,n.useEffect)(()=>{var e,t;let n=null!=(t=null!=(e=null==ev?void 0:ev.anchorSelect)?e:p)?t:"";!n&&o&&(n="[data-tooltip-id='".concat(o.replace(/'/g,"\\'"),"']"));let r=new MutationObserver(e=>{let t=[],r=[];e.forEach(e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===o?t.push(e.target):e.oldValue===o&&r.push(e.target)),"childList"===e.type){if(Q){let t=[...e.removedNodes].filter(e=>1===e.nodeType);if(n)try{r.push(...t.filter(e=>e.matches(n))),r.push(...t.flatMap(e=>[...e.querySelectorAll(n)]))}catch(e){}t.some(e=>{var t;return!!(null==(t=null==e?void 0:e.contains)?void 0:t.call(e,Q))&&(eg(!1),eN(!1),J(null),m(el),m(es),!0)})}if(n)try{let r=[...e.addedNodes].filter(e=>1===e.nodeType);t.push(...r.filter(e=>e.matches(n))),t.push(...r.flatMap(e=>[...e.querySelectorAll(n)]))}catch(e){}}}),(t.length||r.length)&&e_(e=>[...e.filter(e=>!r.includes(e)),...t])});return r.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{r.disconnect()}},[o,p,null==ev?void 0:ev.anchorSelect,Q]),(0,n.useEffect)(()=>{eU()},[eU]),(0,n.useEffect)(()=>{if(!(null==G?void 0:G.current))return()=>null;let e=new ResizeObserver(()=>{setTimeout(()=>eU())});return e.observe(G.current),()=>{e.disconnect()}},[X,null==G?void 0:G.current]),(0,n.useEffect)(()=>{var e;let t=document.querySelector("[id='".concat(f,"']")),n=[...eE,t];Q&&n.includes(Q)||J(null!=(e=eE[0])?e:t)},[f,eE,Q]),(0,n.useEffect)(()=>(K&&eN(!0),()=>{m(el),m(es)}),[]),(0,n.useEffect)(()=>{var e;let t=null!=(e=null==ev?void 0:ev.anchorSelect)?e:p;if(!t&&o&&(t="[data-tooltip-id='".concat(o.replace(/'/g,"\\'"),"']")),t)try{let e=Array.from(document.querySelectorAll(t));e_(e)}catch(e){e_([])}},[o,p,null==ev?void 0:ev.anchorSelect]),(0,n.useEffect)(()=>{el.current&&(m(el),ez(j))},[j]);let eY=null!=(t=null==ev?void 0:ev.content)?t:X,eX=ef&&Object.keys(ec.tooltipStyles).length>0;return(0,n.useImperativeHandle)(r,()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn('[react-tooltip] "'.concat(e.anchorSelect,'" is not a valid CSS selector'))}em(null!=e?e:null),(null==e?void 0:e.delay)?ez(e.delay):eN(!0)},close:e=>{(null==e?void 0:e.delay)?eP(e.delay):eN(!1)},activeAnchor:Q,place:ec.place,isOpen:!!(ep&&!N&&eY&&eX)})),ep&&!N&&eY?n.default.createElement(M,{id:o,role:eo,className:(0,a.default)("react-tooltip",w.tooltip,S.tooltip,S[c],l,"react-tooltip__place-".concat(ec.place),w[eX?"show":"closing"],eX?"react-tooltip__show":"react-tooltip__closing","fixed"===C&&w.fixed,z&&w.clickable),onTransitionEnd:e=>{m(eu),ef||"opacity"!==e.propertyName||(eg(!1),em(null),null==U||U())},style:{...H,...ec.tooltipStyles,opacity:void 0!==et&&eX?et:void 0},ref:ei},eY,n.default.createElement(M,{className:(0,a.default)("react-tooltip-arrow",w.arrow,S.arrow,s,R&&w.noArrow),style:{...ec.tooltipArrowStyles,background:en?"linear-gradient(to right bottom, transparent 50%, ".concat(en," 50%)"):void 0,"--rt-arrow-size":"".concat(er,"px")},ref:ea})):null},_=e=>{let{content:t}=e;return n.default.createElement("span",{dangerouslySetInnerHTML:{__html:t}})},C=n.default.forwardRef((e,t)=>{let{id:r,anchorId:o,anchorSelect:i,content:l,html:s,render:u,className:d,classNameArrow:f,variant:h="dark",place:p="top",offset:g=10,wrapper:v="div",children:m=null,events:y=["hover"],openOnClick:b=!1,positionStrategy:w="absolute",middlewares:S,delayShow:C=0,delayHide:k=0,float:M=!1,hidden:j=!1,noArrow:A=!1,clickable:O=!1,closeOnEsc:N=!1,closeOnScroll:R=!1,closeOnResize:z=!1,openEvents:P,closeEvents:T,globalCloseEvents:D,imperativeModeOnly:L=!1,style:I,position:F,isOpen:B,defaultIsOpen:H=!1,disableStyleInjection:W=!1,border:V,opacity:U,arrowColor:Y,arrowSize:X,setIsOpen:G,afterShow:q,afterHide:K,disableTooltip:Z,role:$="tooltip"}=e,[Q,J]=(0,n.useState)(l),[ee,et]=(0,n.useState)(s),[en,er]=(0,n.useState)(p),[eo,ei]=(0,n.useState)(h),[ea,el]=(0,n.useState)(g),[es,eu]=(0,n.useState)(C),[ec,ed]=(0,n.useState)(k),[ef,eh]=(0,n.useState)(M),[ep,eg]=(0,n.useState)(j),[ev,em]=(0,n.useState)(v),[ey,eb]=(0,n.useState)(y),[ex,ew]=(0,n.useState)(w),[eS,eE]=(0,n.useState)(null),[e_,eC]=(0,n.useState)(null),ek=(0,n.useRef)(null),eM=(0,n.useRef)(W),{anchorRefs:ej,activeAnchor:eA}=x(r),eO=e=>null==e?void 0:e.getAttributeNames().reduce((t,n)=>{var r;return n.startsWith("data-tooltip-")&&(t[n.replace(/^data-tooltip-/,"")]=null!=(r=null==e?void 0:e.getAttribute(n))?r:null),t},{}),eN=e=>{let t={place:e=>{er(null!=e?e:p)},content:e=>{J(null!=e?e:l)},html:e=>{et(null!=e?e:s)},variant:e=>{ei(null!=e?e:h)},offset:e=>{el(null===e?g:Number(e))},wrapper:e=>{em(null!=e?e:v)},events:e=>{let t=null==e?void 0:e.split(" ");eb(null!=t?t:y)},"position-strategy":e=>{ew(null!=e?e:w)},"delay-show":e=>{eu(null===e?C:Number(e))},"delay-hide":e=>{ed(null===e?k:Number(e))},float:e=>{eh(null===e?M:"true"===e)},hidden:e=>{eg(null===e?j:"true"===e)},"class-name":e=>{eE(e)}};Object.values(t).forEach(e=>e(null)),Object.entries(e).forEach(e=>{var n;let[r,o]=e;null==(n=t[r])||n.call(t,o)})};(0,n.useEffect)(()=>{J(l)},[l]),(0,n.useEffect)(()=>{et(s)},[s]),(0,n.useEffect)(()=>{er(p)},[p]),(0,n.useEffect)(()=>{ei(h)},[h]),(0,n.useEffect)(()=>{el(g)},[g]),(0,n.useEffect)(()=>{eu(C)},[C]),(0,n.useEffect)(()=>{ed(k)},[k]),(0,n.useEffect)(()=>{eh(M)},[M]),(0,n.useEffect)(()=>{eg(j)},[j]),(0,n.useEffect)(()=>{ew(w)},[w]),(0,n.useEffect)(()=>{eM.current!==W&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[W]),(0,n.useEffect)(()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===W,disableBase:W}}))},[]),(0,n.useEffect)(()=>{var e;let t=new Set(ej),n=i;if(!n&&r&&(n="[data-tooltip-id='".concat(r.replace(/'/g,"\\'"),"']")),n)try{document.querySelectorAll(n).forEach(e=>{t.add({current:e})})}catch(e){console.warn('[react-tooltip] "'.concat(n,'" is not a valid CSS selector'))}let a=document.querySelector("[id='".concat(o,"']"));if(a&&t.add({current:a}),!t.size)return()=>null;let l=null!=(e=null!=e_?e_:a)?e:eA.current,s=new MutationObserver(e=>{e.forEach(e=>{var t;l&&"attributes"===e.type&&(null==(t=e.attributeName)?void 0:t.startsWith("data-tooltip-"))&&eN(eO(l))})});return l&&(eN(eO(l)),s.observe(l,{attributes:!0,childList:!1,subtree:!1})),()=>{s.disconnect()}},[ej,eA,e_,o,i]),(0,n.useEffect)(()=>{(null==I?void 0:I.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),V&&!c("border","".concat(V))&&console.warn('[react-tooltip] "'.concat(V,'" is not a valid `border`.')),(null==I?void 0:I.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),U&&!c("opacity","".concat(U))&&console.warn('[react-tooltip] "'.concat(U,'" is not a valid `opacity`.'))},[]);let eR=m,ez=(0,n.useRef)(null);if(u){let e=u({content:(null==e_?void 0:e_.getAttribute("data-tooltip-content"))||Q||null,activeAnchor:e_});eR=e?n.default.createElement("div",{ref:ez,className:"react-tooltip-content-wrapper"},e):null}else Q&&(eR=Q);ee&&(eR=n.default.createElement(_,{content:ee}));let eP={forwardRef:t,id:r,anchorId:o,anchorSelect:i,className:(0,a.default)(d,eS),classNameArrow:f,content:eR,contentWrapperRef:ez,place:en,variant:eo,offset:ea,wrapper:ev,events:ey,openOnClick:b,positionStrategy:ex,middlewares:S,delayShow:es,delayHide:ec,float:ef,hidden:ep,noArrow:A,clickable:O,closeOnEsc:N,closeOnScroll:R,closeOnResize:z,openEvents:P,closeEvents:T,globalCloseEvents:D,imperativeModeOnly:L,style:I,position:F,isOpen:B,defaultIsOpen:H,border:V,opacity:U,arrowColor:Y,arrowSize:X,setIsOpen:G,afterShow:q,afterHide:K,disableTooltip:Z,activeAnchor:e_,previousActiveAnchor:ek.current,setActiveAnchor:e=>{eC(t=>((null==e?void 0:e.isSameNode(t))||(ek.current=t),e))},role:$};return n.default.createElement(E,{...eP})});function k(e){let{actions:n=[],team:o=[],weighted:i=!1}=e,a="48px",l=i?[{key:"id",label:"ID",width:"4%"},{key:"desc",label:"Description",width:"42%"},{key:"owner",label:"Owner",width:"15%"},{key:"progress",label:"Progress",width:"14%"},{key:"limit",label:"Limit",width:"15%"},{key:"weight",label:"Weight",width:"10%"}]:[{key:"id",label:"ID",width:"4%"},{key:"desc",label:"Description",width:"47%"},{key:"owner",label:"Owner",width:"20%"},{key:"progress",label:"Progress",width:"14%"},{key:"limit",label:"Limit",width:"15%"}],s=Math.max(13,Math.min(16,Math.floor(.42*("string"==typeof a?parseInt(a,10)||48:a))));return(0,t.jsxs)("div",{className:"actions-table-container",children:[(0,t.jsx)(C,{id:"lateFlags",style:{color:"white",background:"#000",zIndex:99999}}),(0,t.jsxs)("table",{className:"actions-table",style:{tableLayout:"fixed",width:"100%",fontSize:"".concat(s,"px")},children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:l.map(e=>(0,t.jsx)("th",{style:{width:e.width},children:e.label},e.key))})}),(0,t.jsx)("tbody",{children:0===n.length?(0,t.jsx)("tr",{style:{height:a},children:(0,t.jsx)("td",{colSpan:l.length,style:{textAlign:"center",opacity:.6},children:"No actions"})}):n.map(e=>{let n=o.find(t=>t===e.owner)||e.owner,l=n?"string"==typeof n?(0,r.toInitialLast)(n):n.name||n.fullName||String(n):"",s="number"==typeof e.progress?e.progress:0,u=s<=1?Math.round(100*s):Math.round(s),c=e.description||"TBD",d=e.weight||"",f="";if(d){let e=String(d).toLowerCase();f="medium"===e?"Med.":e.charAt(0).toUpperCase()+e.slice(1)}return(0,t.jsxs)("tr",{style:{height:a},children:[(0,t.jsx)("td",{className:"id-cell",style:{display:"table-cell",verticalAlign:"middle",padding:"0 0.3em",overflow:"hidden"},children:(0,t.jsx)("div",{className:"forceCenter",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:6,boxSizing:"border-box"},children:(0,t.jsx)("span",{className:"id-text",style:{display:"inline-block",lineHeight:1,margin:0,padding:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.id})})}),(0,t.jsx)("td",{className:"desc-cell",style:{display:"table-cell",verticalAlign:"middle",padding:"0 0.3em"},children:(0,t.jsx)("div",{className:"forceCenter",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:6,boxSizing:"border-box"},children:(0,t.jsx)("div",{style:{display:"block",width:"100%",whiteSpace:"normal",overflowWrap:"break-word",textAlign:"center"},children:(0,t.jsx)("div",{className:"desc-content",style:{display:"block",lineHeight:1.1,margin:0,padding:0,whiteSpace:"normal",textAlign:"center"},children:c})})})}),(0,t.jsx)("td",{className:"owner-cell",style:{display:"table-cell",verticalAlign:"middle",padding:"0 0.3em",overflow:"hidden"},children:(0,t.jsx)("div",{className:"forceCenter",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:6,boxSizing:"border-box"},children:(0,t.jsx)("span",{style:{display:"inline-block",lineHeight:1,margin:0,padding:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:l})})}),(0,t.jsx)("td",{className:"progress-cell",style:{display:"table-cell",verticalAlign:"middle",padding:"0 1em",overflow:"hidden"},children:(0,t.jsx)("div",{className:"forceCenter",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:6,boxSizing:"border-box"},children:(0,t.jsxs)("span",{style:{display:"inline-block",lineHeight:1,margin:0,padding:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[u,"%"]})})}),(0,t.jsxs)("td",{className:"limit-cell",style:{display:"table-cell",verticalAlign:"middle",padding:"0 1em",overflow:"hidden",position:"relative"},children:[(0,t.jsx)("div",{className:"forceCenter",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:6,boxSizing:"border-box"},children:(0,t.jsx)("span",{style:{display:"inline-block",lineHeight:1,margin:0,padding:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center"},children:e.limit?(0,r.isoToDateString)(e.limit,"DD/MM/YY"):""})}),(e.lateFlags||[]).length>0&&(0,t.jsx)("span",{className:"late-dots forceCenter",style:{position:"absolute",left:"50%",transform:"translateX(-50%)",top:"5%",display:"inline-flex",gap:6,alignItems:"center"},children:(e.lateFlags||[]).slice(0,3).map((e,n)=>(0,t.jsx)("span",{className:"late-dot","data-tooltip-id":"lateFlags","data-tooltip-content":"Late on ".concat((0,r.isoToDateString)(e,"DD/MM/YY")),"data-tooltip-place":"top"},n))})]}),i&&(0,t.jsx)("td",{className:"weight-cell",style:{display:"table-cell",verticalAlign:"middle",padding:"0 1em"},children:(0,t.jsx)("div",{className:"forceCenter",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:6,boxSizing:"border-box"},children:(0,t.jsx)("span",{style:{display:"inline-block",lineHeight:1,margin:0,padding:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f})})})]},e.id)})})]})]})}function M(e){if(null==e)return 0;let t=Number(e);return Number.isFinite(t)?t<=1?100*t:t:0}function j(e){let{actions:r=[],weighted:o=!1}=e,i=(0,n.useMemo)(()=>{if(!Array.isArray(r)||0===r.length)return 0;let e=e=>e?"high"===e?3:"medium"===e?2:1:1;return o?Math.round(r.reduce((t,n)=>t+M(n.progress)*e(n.weight),0)/(r.reduce((t,n)=>t+e(n.weight),0)||r.length)):Math.round(r.reduce((e,t)=>e+M(t.progress),0)/r.length)},[r,o]);return(0,t.jsxs)("div",{className:"actions-progress",children:[(0,t.jsx)("div",{className:"actions-progress-label",children:"Progress"}),(0,t.jsxs)("div",{className:"actions-progress-bar","aria-valuenow":i,"aria-valuemin":0,"aria-valuemax":100,style:{position:"relative"},children:[Array.from({length:9}).map((e,n)=>{let r=(n+1)*10;return(0,t.jsx)("span",{"aria-hidden":!0,className:"actions-progress-tick",style:{position:"absolute",left:"".concat(r,"%"),top:0,bottom:0,width:1,background:"rgba(0, 0, 0, 0.46)",transform:"translateX(-0.5px)"}},"tick-".concat(r))}),(0,t.jsx)("div",{className:"actions-progress-fill",style:{width:"".concat(i,"%")}})]}),(0,t.jsxs)("div",{className:"actions-progress-percent",children:[i,"%"]})]})}"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||s({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||s({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})});var A=e.i(86768);function O(e){var n,r;let{a3:o,twoPct:i}=e,a=(null==o?void 0:o.actions)||[],l=(null==o||null==(n=o.header)?void 0:n.team)||[],s=(null==o||null==(r=o.actionsSettings)?void 0:r.weighted)||!1;return(0,t.jsxs)("div",{className:"actions-section",children:[(0,t.jsx)("div",{style:{fontWeight:"bold",width:"60%",height:"".concat(i,"px"),outline:"1px solid #000",overflow:"hidden",boxSizing:"border-box",paddingLeft:"2px",zIndex:2,position:"relative",backgroundColor:"var(--green-highlight)",top:0,left:0,outlineOffset:"-1px"},children:(0,t.jsx)(A.AutoTextSize,{mode:"boxoneline",style:{height:"100%"},children:"Action Plan"})}),(0,t.jsx)("div",{className:"actions-table-wrap",children:(0,t.jsx)(k,{actions:a,team:l,weighted:s})}),(0,t.jsx)("div",{className:"actions-progress-wrap",children:(0,t.jsx)(j,{actions:a,weighted:s})})]})}},59892,(e,t,n)=>{function r(e,t,n){e instanceof RegExp&&(e=o(e,n)),t instanceof RegExp&&(t=o(t,n));var r=i(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function o(e,t){var n=t.match(e);return n?n[0]:null}function i(e,t,n){var r,o,i,a,l,s=n.indexOf(e),u=n.indexOf(t,s+1),c=s;if(s>=0&&u>0){for(r=[],i=n.length;c>=0&&!l;)c==s?(r.push(c),s=n.indexOf(e,c+1)):1==r.length?l=[r.pop(),u]:((o=r.pop())<i&&(i=o,a=u),u=n.indexOf(t,c+1)),c=s<u&&s>=0?s:u;r.length&&(l=[i,a])}return l}t.exports=r,r.range=i},37551,(e,t,n)=>{"use strict";function r(e,t,n){e instanceof RegExp&&(e=o(e,n)),t instanceof RegExp&&(t=o(t,n));var r=i(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function o(e,t){var n=t.match(e);return n?n[0]:null}function i(e,t,n){var r,o,i,a,l,s=n.indexOf(e),u=n.indexOf(t,s+1),c=s;if(s>=0&&u>0){if(e===t)return[s,u];for(r=[],i=n.length;c>=0&&!l;)c==s?(r.push(c),s=n.indexOf(e,c+1)):1==r.length?l=[r.pop(),u]:((o=r.pop())<i&&(i=o,a=u),u=n.indexOf(t,c+1)),c=s<u&&s>=0?s:u;r.length&&(l=[i,a])}return l}t.exports=r,r.range=i},62032,(e,t,n)=>{var r=e.r(37551);t.exports=function e(t,n,o){return(function(e,t){var n=[],o="string"==typeof t?RegExp("\\b("+t+")\\("):t;do{var i=o.exec(e);if(!i)break;if(void 0===i[1])throw Error("Missing the first couple of parenthesis to get the function identifier in "+t);var a=i[1],l=i.index,s=r("(",")",e.substring(l));if(!s||s.start!==i[0].length-1)throw SyntaxError(a+"(): missing closing ')' in the value '"+e+"'");n.push({matches:s,functionIdentifier:a}),e=s.post}while(o.test(e))return n})(t,n).reduce(function(r,i){var a,l,s,u;return r.replace(i.functionIdentifier+"("+i.matches.body+")",(a=i.matches.body,l=i.functionIdentifier,s=o,u=t,s(e(a,n,s),l,u)))},t)}},89229,(e,t,n)=>{"use strict";var r=function(e){this.value=e};r.math={isDegree:!0,acos:function(e){return r.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return r.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return r.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,t){var n=1,o=e-t,i=t;i<o&&(i=o,o=t);for(var a=i+1;a<=e;a++)n*=a;return n/r.math.fact(o)},changeSign:function(e){return-e},cos:function(e){return r.math.isDegree&&(e=r.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!=0)return"NaN";for(var t=1,n=2;n<=e;n++)t*=n;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var n=1,r=Math.floor(e)-Math.floor(t)+1;r<=Math.floor(e);r++)n*=r;return n},Pi:function(e,t,n){for(var r=1,o=e;o<=t;o++)r*=Number(n.postfixEval({n:o}));return r},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,n){for(var r=0,o=e;o<=t;o++)r+=Number(n.postfixEval({n:o}));return r},sin:function(e){return r.math.isDegree&&(e=r.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return r.math.isDegree&&(e=r.math.toRadian(e)),Math.tan(e)},tanh:function(e){return r.sinha(e)/r.cosha(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,t){return e&t}},r.Exception=function(e){this.message=e},t.exports=r},19584,(e,t,n)=>{"use strict";var r=e.r(89229);function o(e,t){for(var n=0;n<e.length;n++)e[n]+=t;return e}for(var i=[{token:"sin",show:"sin",type:0,value:r.math.sin},{token:"cos",show:"cos",type:0,value:r.math.cos},{token:"tan",show:"tan",type:0,value:r.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:r.math.P},{token:"C",show:"C",type:10,value:r.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:r.math.asin},{token:"acos",show:"acos",type:0,value:r.math.acos},{token:"atan",show:"atan",type:0,value:r.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:r.math.cosh},{token:"acosh",show:"acosh",type:0,value:r.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:r.math.div},{token:"!",show:"!",type:7,value:r.math.fact},{token:"tanh",show:"tanh",type:0,value:r.math.tanh},{token:"atanh",show:"atanh",type:0,value:r.math.atanh},{token:"Mod",show:" Mod ",type:2,value:r.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:r.math.mul},{token:"sinh",show:"sinh",type:0,value:r.math.sinh},{token:"asinh",show:"asinh",type:0,value:r.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:r.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:r.math.add},{token:"-",show:"-",type:9,value:r.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:r.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:r.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:r.math.and}],a={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},l=0;l<i.length;l++)i[l].precedence=a[i[l].type];var s={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},u={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},c={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},d={},f={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},h={1:!0},p=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function g(e,t){for(var n=0;n<t.length;n++)if(t[n].token===e)return n;return -1}r.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},r.addToken=function(e){for(var t=0;t<e.length;t++){var n=e[t].token.length,o=-1;e[t].type===r.tokenTypes.FUNCTION_WITH_N_ARGS&&void 0===e[t].numberOfArguments&&(e[t].numberOfArguments=2),p[n]=p[n]||[];for(var l=0;l<p[n].length;l++)if(e[t].token===p[n][l]){o=g(p[n][l],i);break}-1===o?(i.push(e[t]),e[t].precedence=a[e[t].type],p.length<=e[t].token.length&&(p[e[t].token.length]=[]),p[e[t].token.length].push(e[t].token)):(i[o]=e[t],e[t].precedence=a[e[t].type])}};var v={value:r.math.changeSign,type:0,pre:21,show:"-"},m={value:")",show:")",type:5,pre:0},y={value:"(",type:4,pre:0,show:"("};r.lex=function(e,t){var n=[y],a=[],l=s,b=0,x=d,w="";void 0!==t&&r.addToken(t);var S={},E=function(e){for(var t,n,o,a=[],l=e.length,s=0;s<l;s++)if(!(s<l-1)||" "!==e[s]||" "!==e[s+1]){for(t="",n=e.length-s>p.length-2?p.length-1:e.length-s;n>0;n--)if(void 0!==p[n])for(o=0;o<p[n].length;o++)(function(e,t,n,r){for(var o=0;o<r;o++)if(e[n+o]!==t[o])return!1;return!0})(e,p[n][o],s,n)&&(t=p[n][o],o=p[n].length,n=0);if(s+=t.length-1,""===t)throw new r.Exception("Can't understand after "+e.slice(s));a.push(i[g(t,i)])}return a}(e);for(_=0;_<E.length;_++){var _,C,k=E[_];if(14===k.type){if(_>0&&_<E.length-1&&1===E[_+1].type&&(1===E[_-1].type||6===E[_-1].type))throw new r.Exception("Unexpected Space");continue}var M=k.token,j=k.type,A=k.value,O=k.precedence,N=k.show,R=n[n.length-1];for(C=a.length;C--;)if(0===a[C]){if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(j)){if(!0!==l[j])throw new r.Exception(M+" is not allowed after "+w);n.push(m),l=u,x=f,a.pop()}}else break;if(!0!==l[j])throw new r.Exception(M+" is not allowed after "+w);if(!0===x[j]&&(j=2,A=r.math.mul,N="&times;",O=3,_-=1),S={value:A,type:j,pre:O,show:N,numberOfArguments:k.numberOfArguments},0===j)l=s,x=d,o(a,2),n.push(S),4!==E[_+1].type&&(n.push(y),a.push(2));else if(1===j)1===R.type?(R.value+=A,o(a,1)):n.push(S),l=u,x=c;else if(2===j)l=s,x=d,o(a,2),n.push(S);else if(3===j)n.push(S),l=u,x=f;else if(4===j)o(a,1),b++,l=s,x=d,n.push(S);else if(5===j){if(!b)throw new r.Exception("Closing parenthesis are more than opening one, wait What!!!");b--,l=u,x=f,n.push(S),o(a,1)}else if(6===j){if(R.hasDec)throw new r.Exception("Two decimals are not allowed in one number");1!==R.type&&(R={value:0,type:1,pre:0},n.push(R)),l=h,o(a,1),x=d,R.value+=A,R.hasDec=!0}else 7===j&&(l=u,x=f,o(a,1),n.push(S));8===j?(l=s,x=d,o(a,k.numberOfArguments+2),n.push(S),4!==E[_+1].type&&(n.push(y),a.push(k.numberOfArguments+2))):9===j?(9===R.type?R.value===r.math.add?(R.value=A,R.show=N,o(a,1)):R.value===r.math.sub&&"-"===N&&(R.value=r.math.add,R.show="+",o(a,1)):5!==R.type&&7!==R.type&&1!==R.type&&3!==R.type&&13!==R.type?"-"===M&&(l=s,x=d,o(a,2).push(2),n.push(v),n.push(y)):(n.push(S),o(a,2)),l=s,x=d):10===j?(l=s,x=d,o(a,2),n.push(S)):11===j?(l=s,x=d,n.push(S)):12===j?(l=s,x=d,o(a,6),n.push(S),4!==E[_+1].type&&(n.push(y),a.push(6))):13===j&&(l=u,x=f,n.push(S)),o(a,-1),w=M}for(C=a.length;C--;)n.push(m);if(!0!==l[5])throw new r.Exception("complete the expression");for(;b--;)n.push(m);return n.push(m),new r(n)},t.exports=r},81242,(e,t,n)=>{var r=e.r(19584);r.prototype.toPostfix=function(){"use strict";for(var e,t,n,o,i,a=[],l=[{value:"(",type:4,pre:0}],s=this.value,u=1;u<s.length;u++)if(1===s[u].type||3===s[u].type||13===s[u].type)1===s[u].type&&(s[u].value=Number(s[u].value)),a.push(s[u]);else if(4===s[u].type)l.push(s[u]);else if(5===s[u].type)for(;4!==(t=l.pop()).type;)a.push(t);else if(11===s[u].type){for(;4!==(t=l.pop()).type;)a.push(t);l.push(t)}else{o=(e=s[u]).pre,n=(i=l[l.length-1]).pre;var c="Math.pow"==i.value&&"Math.pow"==e.value;if(o>n)l.push(e);else{for(;n>=o&&!c||c&&o<n;)t=l.pop(),i=l[l.length-1],a.push(t),n=i.pre,c="Math.pow"==e.value&&"Math.pow"==i.value;l.push(e)}}return new r(a)},t.exports=r},86559,(e,t,n)=>{var r=e.r(81242);r.prototype.postfixEval=function(e){"use strict";(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,n,o,i=[],a=this.value,l=void 0!==e.n,s=0;s<a.length;s++)if(1===a[s].type)i.push({value:a[s].value,type:1});else if(3===a[s].type)i.push({value:e[a[s].value],type:1});else if(0===a[s].type)void 0===i[i.length-1].type?i[i.length-1].value.push(a[s]):i[i.length-1].value=a[s].value(i[i.length-1].value);else if(7===a[s].type)void 0===i[i.length-1].type?i[i.length-1].value.push(a[s]):i[i.length-1].value=a[s].value(i[i.length-1].value);else if(8===a[s].type){for(var u=[],c=0;c<a[s].numberOfArguments;c++)u.push(i.pop().value);i.push({type:1,value:a[s].value.apply(a[s],u.reverse())})}else 10===a[s].type?(t=i.pop(),void 0===(n=i.pop()).type?(n.value=n.concat(t),n.value.push(a[s]),i.push(n)):void 0===t.type?(t.unshift(n),t.push(a[s]),i.push(t)):i.push({type:1,value:a[s].value(n.value,t.value)})):2===a[s].type||9===a[s].type?(t=i.pop(),void 0===(n=i.pop()).type?((n=n.concat(t)).push(a[s]),i.push(n)):void 0===t.type?(t.unshift(n),t.push(a[s]),i.push(t)):i.push({type:1,value:a[s].value(n.value,t.value)})):12===a[s].type?(void 0!==(t=i.pop()).type&&(t=[t]),n=i.pop(),o=i.pop(),i.push({type:1,value:a[s].value(o.value,n.value,new r(t))})):13===a[s].type&&(l?i.push({value:e[a[s].value],type:3}):i.push([a[s]]));if(i.length>1)throw new r.Exception("Uncaught Syntax error");return i[0].value>1e15?"Infinity":parseFloat(i[0].value.toFixed(15))},r.eval=function(e,t,n){return void 0===t?this.lex(e).toPostfix().postfixEval():void 0!==n?this.lex(e,t).toPostfix().postfixEval(n):void 0!==t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t)},t.exports=r},63744,(e,t,n)=>{var r=e.r(86559);r.prototype.formulaEval=function(){"use strict";for(var e,t,n,r=[],o=this.value,i=0;i<o.length;i++)1===o[i].type||3===o[i].type?r.push({value:3===o[i].type?o[i].show:o[i].value,type:1}):13===o[i].type?r.push({value:o[i].show,type:1}):0===o[i].type?r[r.length-1]={value:o[i].show+("-"!=o[i].show?"(":"")+r[r.length-1].value+("-"!=o[i].show?")":""),type:0}:7===o[i].type?r[r.length-1]={value:(1!=r[r.length-1].type?"(":"")+r[r.length-1].value+(1!=r[r.length-1].type?")":"")+o[i].show,type:7}:10===o[i].type?(e=r.pop(),t=r.pop(),"P"===o[i].show||"C"===o[i].show?r.push({value:"<sup>"+t.value+"</sup>"+o[i].show+"<sub>"+e.value+"</sub>",type:10}):r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===o[i].type||9===o[i].type?(e=r.pop(),t=r.pop(),r.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+o[i].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:o[i].type})):12===o[i].type&&(e=r.pop(),t=r.pop(),n=r.pop(),r.push({value:o[i].show+"("+n.value+","+t.value+","+e.value+")",type:12}));return r[0].value},t.exports=r},15506,(e,t,n)=>{var r,o=e.r(59892),i=e.r(62032),a=e.r(63744),l=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g;t.exports=function(e,t){return r=0,t=Math.pow(10,void 0===t?5:t),i(e=e.replace(/\n+/g," "),/((?:\-[a-z]+\-)?calc)\(/,function e(n,i,s){if(r++>100)throw r=0,Error("Call stack overflow for "+s);if(""===n)throw Error(i+"(): '"+s+"' must contain a non-whitespace string");var u,c=function(e){for(var t=[],n=[],r=/[\.0-9]([%a-z]+)/gi,o=r.exec(e);o;)o&&o[1]&&(-1===n.indexOf(o[1].toLowerCase())&&(t.push(o[1]),n.push(o[1].toLowerCase())),o=r.exec(e));return t}(n=function(t,n){t=t.replace(/((?:\-[a-z]+\-)?calc)/g,"");for(var r,i="",a=t;r=l.exec(a);){r[0].index>0&&(i+=a.substring(0,r[0].index));var s=o("(",")",a.substring(void 0));if(""===s.body)throw Error("'"+t+"' must contain a non-whitespace string");var u=e(s.body,"",n);i+=s.pre+u,a=s.post}return i+a}(n,s));if(c.length>1||n.indexOf("var(")>-1)return i+"("+n+")";var d=c[0]||"";"%"===d&&(n=n.replace(/\b[0-9\.]+%/g,function(e){return .01*parseFloat(e.slice(0,-1))}));var f=n.replace(RegExp(d,"gi"),"");try{u=a.eval(f)}catch(e){return i+"("+n+")"}return"%"===d&&(u*=100),(i.length||"%"===d)&&(u=Math.round(u*t)/t),u+=d})}},85019,24771,45670,4956,34295,37216,e=>{"use strict";e.s(["default",()=>th],85019);var t,n,r,o,i=e.i(43476),a=e.i(71645),l=e.i(48563);function s(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}e.s(["scaleBand",()=>ej],24771);class u extends Map{get(e){return super.get(c(this,e))}has(e){return super.has(c(this,e))}set(e,t){return super.set(function(e,t){let{_intern:n,_key:r}=e,o=r(t);return n.has(o)?n.get(o):(n.set(o,t),t)}(this,e),t)}delete(e){return super.delete(function(e,t){let{_intern:n,_key:r}=e,o=r(t);return n.has(o)&&(t=n.get(o),n.delete(o)),t}(this,e))}constructor(e,t=d){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(let[t,n]of e)this.set(t,n)}}function c(e,t){let{_intern:n,_key:r}=e,o=r(t);return n.has(o)?n.get(o):t}function d(e){return null!==e&&"object"==typeof e?e.valueOf():e}let f=Symbol("implicit");var h=e.i(62573),p=e.i(11209),g=e.i(47238);let v=Math.PI/180,m=180/Math.PI,y=4/29,b=6/29,x=6/29*3*(6/29),w=6/29*(6/29)*(6/29);function S(e){if(e instanceof _)return new _(e.l,e.a,e.b,e.opacity);if(e instanceof O)return N(e);e instanceof g.Rgb||(e=(0,g.rgbConvert)(e));var t,n,r=j(e.r),o=j(e.g),i=j(e.b),a=C((.2225045*r+.7168786*o+.0606169*i)/1);return r===o&&o===i?t=n=a:(t=C((.4360747*r+.3850649*o+.1430804*i)/.96422),n=C((.0139322*r+.0971045*o+.7141733*i)/.82521)),new _(116*a-16,500*(t-a),200*(a-n),e.opacity)}function E(e,t,n,r){return 1==arguments.length?S(e):new _(e,t,n,null==r?1:r)}function _(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function C(e){return e>w?Math.pow(e,1/3):e/x+y}function k(e){return e>b?e*e*e:x*(e-y)}function M(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function j(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function A(e,t,n,r){return 1==arguments.length?function(e){if(e instanceof O)return new O(e.h,e.c,e.l,e.opacity);if(e instanceof _||(e=S(e)),0===e.a&&0===e.b)return new O(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*m;return new O(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new O(e,t,n,null==r?1:r)}function O(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function N(e){if(isNaN(e.h))return new _(e.l,0,0,e.opacity);var t=e.h*v;return new _(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}(0,p.default)(_,E,(0,p.extend)(g.Color,{brighter(e){return new _(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new _(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=.96422*k(t),e=+k(e),n=.82521*k(n),new g.Rgb(M(3.1338561*t-1.6168667*e-.4906146*n),M(-.9787684*t+1.9161415*e+.033454*n),M(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),(0,p.default)(O,A,(0,p.extend)(g.Color,{brighter(e){return new O(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new O(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return N(this).rgb()}}));var R=e.i(25004);function z(e){return function(t,n){var r=e((t=A(t)).h,(n=A(n)).h),o=(0,R.default)(t.c,n.c),i=(0,R.default)(t.l,n.l),a=(0,R.default)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=o(e),t.l=i(e),t.opacity=a(e),t+""}}}let P=z(R.hue);var T=z(R.default);function D(e){return function(t,n){var r=e((t=(0,g.hsl)(t)).h,(n=(0,g.hsl)(n)).h),o=(0,R.default)(t.s,n.s),i=(0,R.default)(t.l,n.l),a=(0,R.default)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=i(e),t.opacity=a(e),t+""}}}let L=D(R.hue);var I=D(R.default),F=-1.78277*.29227-.1347134789;function B(e,t,n,r){return 1==arguments.length?function(e){if(e instanceof H)return new H(e.h,e.s,e.l,e.opacity);e instanceof g.Rgb||(e=(0,g.rgbConvert)(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(F*r+-1.7884503806*t-3.5172982438*n)/(F+-1.7884503806-3.5172982438),i=r-o,a=-((1.97294*(n-o)- -.29227*i)/.90649),l=Math.sqrt(a*a+i*i)/(1.97294*o*(1-o)),s=l?Math.atan2(a,i)*m-120:NaN;return new H(s<0?s+360:s,l,o,e.opacity)}(e):new H(e,t,n,null==r?1:r)}function H(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function W(e){return function t(n){function r(t,r){var o=e((t=B(t)).h,(r=B(r)).h),i=(0,R.default)(t.s,r.s),a=(0,R.default)(t.l,r.l),l=(0,R.default)(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,n)),t.opacity=l(e),t+""}}return n*=1,r.gamma=t,r}(1)}(0,p.default)(H,B,(0,p.extend)(g.Color,{brighter(e){return e=null==e?g.brighter:Math.pow(g.brighter,e),new H(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?g.darker:Math.pow(g.darker,e),new H(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*v,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new g.Rgb(255*(t+n*(-.14861*r+1.78277*o)),255*(t+n*(-.29227*r+-.90649*o)),255*(t+1.97294*r*n),this.opacity)}}));var V={lab:function(e,t){var n=(0,R.default)((e=E(e)).l,(t=E(t)).l),r=(0,R.default)(e.a,t.a),o=(0,R.default)(e.b,t.b),i=(0,R.default)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=o(t),e.opacity=i(t),e+""}},hcl:P,"hcl-long":T,hsl:L,"hsl-long":I,cubehelix:W(R.hue),"cubehelix-long":W(R.default),rgb:h.interpolateRgb};let U=new Date,Y=new Date;function X(e,t,n,r){function o(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{let t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),o.range=(n,r,i)=>{let a,l=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return l;do l.push(a=new Date(+n)),t(n,i),e(n);while(a<n&&n<r)return l},o.filter=n=>X(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(o.count=(t,r)=>(U.setTime(+t),Y.setTime(+r),e(U),e(Y),Math.floor(n(U,Y))),o.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?o.filter(r?t=>r(t)%e==0:t=>o.count(0,t)%e==0):o:null),o}let G=X(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds());G.range;let q=X(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getMinutes());q.range;let K=X(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes());K.range;let Z=X(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getHours());Z.range;let $=X(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours());$.range;let Q=X(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1);Q.range;let J=X(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1);J.range,X(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)).range;let ee=X(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ee.every=e=>isFinite(e=Math.floor(e))&&e>0?X(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,ee.range;let et=X(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());et.every=e=>isFinite(e=Math.floor(e))&&e>0?X(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,et.range;let en=X(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());en.range;let er=X(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());function eo(e){return X(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}er.range;let ei=eo(0),ea=eo(1),el=eo(2),es=eo(3),eu=eo(4),ec=eo(5),ed=eo(6);function ef(e){return X(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/6048e5)}ei.range,ea.range,el.range,es.range,eu.range,ec.range,ed.range;let eh=ef(0),ep=ef(1),eg=ef(2),ev=ef(3),em=ef(4),ey=ef(5),eb=ef(6);eh.range,ep.range,eg.range,ev.range,em.range,ey.range,eb.range;var ex=new Date(Date.UTC(2020,1,2,3,4,5)),ew={day:Q,hour:Z,minute:q,month:en,second:G,week:ei,year:ee},eS={day:J,hour:$,minute:K,month:er,second:G,week:eh,year:et};function eE(e,t){return e*=1,t*=1,function(n){return Math.round(e*(1-n)+t*n)}}var e_=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],eC={domain:function(e,t){t.domain&&e.domain(t.domain)},nice:function(e,t){if("nice"in t&&void 0!==t.nice&&"nice"in e){var n=t.nice;if("boolean"==typeof n)n&&e.nice();else if("number"==typeof n)e.nice(n);else{var r="2020-02-02 03:04"===e.tickFormat(1,"%Y-%m-%d %H:%M")(ex);if("string"==typeof n)e.nice(r?eS[n]:ew[n]);else{var o=n.interval,i=n.step,a=(r?eS[o]:ew[o]).every(i);null!=a&&e.nice(a)}}}},zero:function(e,t){if("zero"in t&&!0===t.zero){var n=e.domain(),r=n[0],o=n[1],i=o<r,a=i?[o,r]:[r,o],l=[Math.min(0,a[0]),Math.max(0,a[1])];e.domain(i?l.reverse():l)}},interpolate:function(e,t){if("interpolate"in t&&"interpolate"in e&&void 0!==t.interpolate){var n=function(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return V[e]}var t=e.type,n=e.gamma,r=V[t];return void 0===n?r:r.gamma(n)}(t.interpolate);e.interpolate(n)}},round:function(e,t){"round"in t&&void 0!==t.round&&(t.round&&"interpolate"in t&&void 0!==t.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(eE))},align:function(e,t){"align"in e&&"align"in t&&void 0!==t.align&&e.align(t.align)},base:function(e,t){"base"in e&&"base"in t&&void 0!==t.base&&e.base(t.base)},clamp:function(e,t){"clamp"in e&&"clamp"in t&&void 0!==t.clamp&&e.clamp(t.clamp)},constant:function(e,t){"constant"in e&&"constant"in t&&void 0!==t.constant&&e.constant(t.constant)},exponent:function(e,t){"exponent"in e&&"exponent"in t&&void 0!==t.exponent&&e.exponent(t.exponent)},padding:function(e,t){"padding"in e&&"padding"in t&&void 0!==t.padding&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&void 0!==t.paddingInner&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&void 0!==t.paddingOuter&&e.paddingOuter(t.paddingOuter)},range:function(e,t){t.range&&e.range(t.range)},reverse:function(e,t){if(t.reverse){var n=e.range().slice().reverse();e.range(n)}},unknown:function(e,t){"unknown"in e&&"unknown"in t&&void 0!==t.unknown&&e.unknown(t.unknown)}};function ek(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),o=e_.filter(function(e){return r.has(e)});return function(e,t){return void 0!==t&&o.forEach(function(n){eC[n](e,t)}),e}}var eM=ek("domain","range","reverse","align","padding","round");function ej(e){return eM(function e(){var t,n,r=(function e(){var t=new u,n=[],r=[],o=f;function i(e){let i=t.get(e);if(void 0===i){if(o!==f)return o;t.set(e,i=n.push(e)-1)}return r[i%r.length]}return i.domain=function(e){if(!arguments.length)return n.slice();for(let r of(n=[],t=new u,e))t.has(r)||t.set(r,n.push(r)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(o=e,i):o},i.copy=function(){return e(n,r).unknown(o)},s.apply(i,arguments),i})().unknown(void 0),o=r.domain,i=r.range,a=0,l=1,c=!1,d=0,h=0,p=.5;function g(){var e=o().length,r=l<a,s=r?l:a,u=r?a:l;t=(u-s)/Math.max(1,e-d+2*h),c&&(t=Math.floor(t)),s+=(u-s-t*(e-d))*p,n=t*(1-d),c&&(s=Math.round(s),n=Math.round(n));var f=(function(e,t,n){e*=1,t*=1,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=Array(o);++r<o;)i[r]=e+r*n;return i})(e).map(function(e){return s+t*e});return i(r?f.reverse():f)}return delete r.unknown,r.domain=function(e){return arguments.length?(o(e),g()):o()},r.range=function(e){return arguments.length?([a,l]=e,a*=1,l*=1,g()):[a,l]},r.rangeRound=function(e){return[a,l]=e,a*=1,l*=1,c=!0,g()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(e){return arguments.length?(c=!!e,g()):c},r.padding=function(e){return arguments.length?(d=Math.min(1,h=+e),g()):d},r.paddingInner=function(e){return arguments.length?(d=Math.min(1,e),g()):d},r.paddingOuter=function(e){return arguments.length?(h=+e,g()):h},r.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),g()):p},r.copy=function(){return e(o(),[a,l]).round(c).paddingInner(d).paddingOuter(h).align(p)},s.apply(g(),arguments)}(),e)}e.s(["scaleLinear",()=>e3],45670);var eA=Math.sqrt(50),eO=Math.sqrt(10),eN=Math.sqrt(2);function eR(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=eA?10:i>=eO?5:i>=eN?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=eA?10:i>=eO?5:i>=eN?2:1)}function ez(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eP(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eT(e){let t,n,r;function o(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<i){if(0!==t(r,r))return i;do{let t=o+i>>>1;0>n(e[t],r)?o=t+1:i=t}while(o<i)}return o}return 2!==e.length?(t=ez,n=(t,n)=>ez(e(t),n),r=(t,n)=>e(t)-n):(t=e===ez||e===eP?e:eD,n=e,r=e),{left:o,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,a=o(e,t,n,i-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<i){if(0!==t(r,r))return i;do{let t=o+i>>>1;0>=n(e[t],r)?o=t+1:i=t}while(o<i)}return o}}}function eD(){return 0}let eL=eT(ez),eI=eL.right;eL.left,eT(function(e){return null===e?NaN:+e}).center;var eF=e.i(44307),eB=e.i(52491);function eH(e){return+e}var eW=[0,1];function eV(e){return e}function eU(e,t){var n;return(t-=e*=1)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n})}function eY(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=eU(o,r),i=n(a,i)):(r=eU(r,o),i=n(i,a)),function(e){return i(r(e))}}function eX(e,t,n){var r=Math.min(e.length,t.length)-1,o=Array(r),i=Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=eU(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=eI(e,t,1,r)-1;return i[n](o[n](t))}}function eG(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function eq(e){return(e=eG(Math.abs(e)))?e[1]:NaN}var eK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eZ(e){var t;if(!(t=eK.exec(e)))throw Error("invalid format: "+e);return new e$({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function e$(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function eQ(e,t){var n=eG(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+Array(o-r.length+2).join("0")}eZ.prototype=e$.prototype,e$.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let eJ={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eQ(100*e,t),r:eQ,s:function(e,n){var r=eG(e,n);if(!r)return e+"";var o=r[0],i=r[1],a=i-(t=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,l=o.length;return a===l?o:a>l?o+Array(a-l+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+Array(1-a).join("0")+eG(e,Math.max(0,n+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function e0(e){return e}var e1=Array.prototype.map,e2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];r=(n=function(e){var n,r,o,i=void 0===e.grouping||void 0===e.thousands?e0:(n=e1.call(e.grouping,Number),r=e.thousands+"",function(e,t){for(var o=e.length,i=[],a=0,l=n[0],s=0;o>0&&l>0&&(s+l+1>t&&(l=Math.max(1,t-s)),i.push(e.substring(o-=l,o+l)),!((s+=l+1)>t));)l=n[a=(a+1)%n.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?e0:(o=e1.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return o[+e]})}),c=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"":e.minus+"",f=void 0===e.nan?"NaN":e.nan+"";function h(e){var n=(e=eZ(e)).fill,r=e.align,o=e.sign,h=e.symbol,p=e.zero,g=e.width,v=e.comma,m=e.precision,y=e.trim,b=e.type;"n"===b?(v=!0,b="g"):eJ[b]||(void 0===m&&(m=12),y=!0,b="g"),(p||"0"===n&&"="===r)&&(p=!0,n="0",r="=");var x="$"===h?a:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?l:/[%p]/.test(b)?c:"",S=eJ[b],E=/[defgprs%]/.test(b);function _(e){var a,l,c,h=x,_=w;if("c"===b)_=S(e)+_,e="";else{var C=(e*=1)<0||1/e<0;if(e=isNaN(e)?f:S(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),C&&0==+e&&"+"!==o&&(C=!1),h=(C?"("===o?o:d:"-"===o||"("===o?"":o)+h,_=("s"===b?e2[8+t/3]:"")+_+(C&&"("===o?")":""),E){for(a=-1,l=e.length;++a<l;)if(48>(c=e.charCodeAt(a))||c>57){_=(46===c?s+e.slice(a+1):e.slice(a))+_,e=e.slice(0,a);break}}}v&&!p&&(e=i(e,1/0));var k=h.length+e.length+_.length,M=k<g?Array(g-k+1).join(n):"";switch(v&&p&&(e=i(M+e,M.length?g-_.length:1/0),M=""),r){case"<":e=h+e+_+M;break;case"=":e=h+M+e+_;break;case"^":e=M.slice(0,k=M.length>>1)+h+e+_+M.slice(k);break;default:e=M+h+e+_}return u(e)}return m=void 0===m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),_.toString=function(){return e+""},_}return{format:h,formatPrefix:function(e,t){var n=h(((e=eZ(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(eq(t)/3))),o=Math.pow(10,-r),i=e2[8+r/3];return function(e){return n(o*e)+i}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,o=n.formatPrefix;var e5=ek("domain","range","reverse","clamp","interpolate","nice","round","zero");function e3(e){return e5(function e(){var t,n=(function(){var e,t,n,r,o,i,a=eW,l=eW,s=eF.interpolate,u=eV;function c(){var e,t,n,s=Math.min(a.length,l.length);return u!==eV&&(e=a[0],t=a[s-1],e>t&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),r=s>2?eX:eY,o=i=null,d}function d(t){return null==t||isNaN(t*=1)?n:(o||(o=r(a.map(e),l,s)))(e(u(t)))}return d.invert=function(n){return u(t((i||(i=r(l,a.map(e),eB.interpolateNumber)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,eH),c()):a.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),c()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),s=eE,c()},d.clamp=function(e){return arguments.length?(u=!!e||eV,c()):u!==eV},d.interpolate=function(e){return arguments.length?(s=e,c()):s},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}})()(eV,eV);return n.copy=function(){return e().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())},s.apply(n,arguments),t=n.domain,n.ticks=function(e){var n=t();return function(e,t,n){var r,o,i,a,l=-1;if(n*=1,(e*=1)==(t*=1)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=eR(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,i=Array(o=r-n+1);++l<o;)i[l]=(n+l)*a}else{let n=Math.round(e*(a=-a)),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,i=Array(o=r-n+1);++l<o;)i[l]=(n+l)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==e?10:e)},n.tickFormat=function(e,n){var i=t();return function(e,t,n,i){var a,l,s,u,c,d=(s=Math.pow(10,Math.floor(Math.log(l=Math.abs(t-e)/Math.max(0,n))/Math.LN10)),(u=l/s)>=eA?s*=10:u>=eO?s*=5:u>=eN&&(s*=2),t<e?-s:s);switch((i=eZ(null==i?",f":i)).type){case"s":var f=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(c=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(eq(f)/3)))-eq(Math.abs(d))))||(i.precision=c),o(i,f);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(c=Math.max(0,eq(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(a=Math.abs(a=d)))-eq(a))+1)||(i.precision=c-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(c=Math.max(0,-eq(Math.abs(d))))||(i.precision=c-("%"===i.type)*2)}return r(i)}(i[0],i[i.length-1],null==e?10:e,n)},n.nice=function(e){null==e&&(e=10);var r,o,i=t(),a=0,l=i.length-1,s=i[a],u=i[l],c=10;for(u<s&&(o=s,s=u,u=o,o=a,a=l,l=o);c-- >0;){if((o=eR(s,u,e))===r)return i[a]=s,i[l]=u,t(i);if(o>0)s=Math.floor(s/o)*o,u=Math.ceil(u/o)*o;else if(o<0)s=Math.ceil(s*o)/o,u=Math.floor(u*o)/o;else break;r=o}return n},n}(),e)}e.s(["Bar",()=>e9],4956);var e4=e.i(43794),e6=["className","innerRef"];function e8(){return(e8=Object.assign.bind()).apply(this,arguments)}function e9(e){var t=e.className,n=e.innerRef,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,e6);return a.default.createElement("rect",e8({ref:n,className:(0,e4.default)("visx-bar",t)},r))}e.s(["Text",()=>tu],34295);var e7=e.i(15506),te=e.i(57588),tt="__react_svg_text_measurement_id";let tn=(0,te.default)(function(e,t){try{var n=document.getElementById(tt);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",tt),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch(e){return null}},function(e,t){return e+"_"+JSON.stringify(t)});var tr=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function to(e){return"number"==typeof e}function ti(e){return"number"==typeof e&&Number.isFinite(e)||"string"==typeof e}var ta=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function tl(){return(tl=Object.assign.bind()).apply(this,arguments)}var ts={overflow:"visible"};function tu(e){var t,n,r,o,i,l,s,u,c,d,f,h,p,g,v,m,y,b,x,w,S,E,_,C,k=e.dx,M=e.dy,j=e.textAnchor,A=e.innerRef,O=e.innerTextRef,N=(e.verticalAnchor,e.angle,e.lineHeight),R=void 0===N?"1em":N,z=(e.scaleToFit,e.capHeight,e.width,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,ta)),P=z.x,T=void 0===P?0:P,D=z.fontSize,L=(n=void 0===(t=e.verticalAnchor)?"end":t,o=void 0!==(r=e.scaleToFit)&&r,i=e.angle,l=e.width,u=void 0===(s=e.lineHeight)?"1em":s,d=void 0===(c=e.capHeight)?"0.71em":c,f=e.children,h=e.style,v=void 0===(g=(p=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,tr)).x)?0:g,y=void 0===(m=p.y)?0:m,b=!ti(v)||!ti(y),w=(x=(0,a.useMemo)(function(){return{wordsWithWidth:(null==f?[]:f.toString().split(/(?:(?!\u00A0+)\s+)/)).map(function(e){return{word:e,wordWidth:tn(e,h)||0}}),spaceWidth:tn("",h)||0}},[f,h])).wordsWithWidth,S=x.spaceWidth,E=(0,a.useMemo)(function(){return b?[]:l||o?w.reduce(function(e,t){var n=t.word,r=t.wordWidth,i=e[e.length-1];return i&&(null==l||o||(i.width||0)+r+S<l)?(i.words.push(n),i.width=i.width||0,i.width+=r+S):e.push({words:[n],width:r}),e},[]):[{words:null==f?[]:f.toString().split(/(?:(?!\u00A0+)\s+)/)}]},[b,l,o,f,w,S]),_=(0,a.useMemo)(function(){return b?"":"start"===n?(0,e7.default)("calc("+d+")"):"middle"===n?(0,e7.default)("calc("+(E.length-1)/2+" * -"+u+" + ("+d+" / 2))"):(0,e7.default)("calc("+(E.length-1)+" * -"+u+")")},[b,n,d,E.length,u]),C=(0,a.useMemo)(function(){var e=[];if(b)return"";if(to(v)&&to(y)&&to(l)&&o&&E.length>0){var t=E[0].width||1,n="shrink-only"===o?Math.min(l/t,1):l/t,r=v-n*v,a=y-n*y;e.push("matrix("+n+", 0, 0, "+n+", "+r+", "+a+")")}return i&&e.push("rotate("+i+", "+v+", "+y+")"),e.length>0?e.join(" "):""},[b,v,y,l,o,E,i]),{wordsByLines:E,startDy:_,transform:C}),I=L.wordsByLines,F=L.startDy,B=L.transform;return a.default.createElement("svg",{ref:A,x:void 0===k?0:k,y:void 0===M?0:M,fontSize:D,style:ts},I.length>0?a.default.createElement("text",tl({ref:O,transform:B},z,{textAnchor:void 0===j?"start":j}),I.map(function(e,t){return a.default.createElement("tspan",{key:t,x:T,dy:0===t?F:R},e.words.join(" "))})):null)}function tc(){var e,t,n,r,o;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=l.good||"var(--green, #2ecc71)",u=l.bad||"var(--cancel, #e74c3c)",c=(null==(e=i[0])?void 0:e.value)?Number(null==(t=i[0])?void 0:t.value):null,d=Array(i.length).fill(null),f=a&&a.mode||"constant",h=void 0!==(null==a?void 0:a.value)?Number(a.value):null,p=null,g=null;try{let e=null==(n=i[0])?void 0:n.date,t=null==(r=i[i.length-1])?void 0:r.date,o=e?Date.parse(e):NaN,a=t?Date.parse(t):NaN;Number.isFinite(o)&&Number.isFinite(a)&&a>o&&(p=o,g=a)}catch(e){}let v=e=>{if("linear"===f&&null!==c&&null!==h&&null!==p){var t;let n=(null==(t=i[e])?void 0:t.date)?Date.parse(i[e].date):null;return Number.isFinite(n)?c+Math.max(0,Math.min(1,(n-p)/(g-p)))*(h-c):h}return h},m=null!==c&&null!==h?h>c:null===h||h>0;for(let e=0;e<i.length;e++){let t=null==(o=i[e])?void 0:o.value;if(null==t){d[e]=null;continue}let n=Number(t),r=v(e);if("number"!=typeof r||Number.isNaN(r)){d[e]=null;continue}let a=m?n>=r:n<=r;d[e]=a?s:u}return{colors:d}}function td(e){let{data:t=[],dates:n=[],target:r={},initial:o=null}=e,i=(Array.isArray(t)?t:[]).map(e=>{let t=(null==e?void 0:e.date)?Date.parse(e.date):NaN,n=e&&void 0!==e.value&&null!==e.value?Number(e.value):null;return{dt:Number.isFinite(t)?t:NaN,v:n}}).filter(e=>Number.isFinite(e.dt));i.sort((e,t)=>e.dt-t.dt);let a=i.map(e=>e.dt),l=i.map(e=>e.v),s=a.length?a[0]:null,u=a.length?a[a.length-1]:null,c=null!=o?Number(o):l.length?l[0]:null,d=r&&r.mode||"constant",f=void 0!==(null==r?void 0:r.value)&&(null==r?void 0:r.value)!==null?Number(r.value):null,h=null!==c&&null!==f?f>c:null===f||f>0;return(Array.isArray(n)?n:[]).map(e=>{if(null==e)return NaN;if("number"==typeof e)return e;let t=Date.parse(e);return Number.isFinite(t)?t:NaN}).map(e=>{var t;if(!Number.isFinite(e))return null;let n=(e=>{if(!a.length)return -1;let t=0,n=a.length-1,r=-1;for(;t<=n;){let o=t+n>>1;a[o]<=e?(r=o,t=o+1):n=o-1}return r})(e),r=null;if(-1===n)if(null===s||!(e<s)||null===c)return null;else r=c;else if(null==(r=l[n]))return null;let o=(t=n>=0&&Number.isFinite(a[n])?a[n]:e,"linear"===d&&null!==c&&null!==f&&null!==s&&null!==u&&u>s?c+Math.max(0,Math.min(1,(t-s)/(u-s)))*(f-c):f);return null==o||Number.isNaN(o)?null:h?r>=o:r<=o})}e.s(["computeBarColors",()=>tc,"evaluateMetricAgainstDates",()=>td],37216);var tf=e.i(91282);let th=e=>{var t,n,r,o;let{metric:s={},showZones:u=!0,showGrid:c=!1,targetLine:d=!1,bgColor:f="transparent",minWidth:h=100,minHeight:p=100}=e,[g,v]=(0,l.default)(),m=(null==s?void 0:s.target)||{},y=Array.isArray(null==s?void 0:s.data)?s.data:[],b={top:5,right:5,bottom:35,left:25},x=Math.max(h,v.width||b.left+b.right+h),w=Math.max(p,v.height||b.top+b.bottom+p),S=Math.max(0,x-b.left-b.right),E=Math.max(0,w-b.top-b.bottom),_=Math.max(Math.floor(.06*Math.min(Math.max(1,x),Math.max(1,w)))),C=Math.max(Math.floor(.85*_)),k=Math.max(Math.floor(.85*_)),M=y.map(e=>e&&void 0!==e.value&&null!==e.value?Number(e.value):null).map(e=>null!==e?Number(e):null).filter(e=>null!==e),j=(null==(t=y[0])?void 0:t.value)?Number(null==(n=y[0])?void 0:n.value):null,A=Number(m.value);if(0===M.length||"number"!=typeof A||Number.isNaN(A))return(0,i.jsx)("div",{ref:g,style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",textAlign:"center",background:f},children:"No data to preview"});let O=Math.max(...M,null!=A?A:-1/0),N=Math.min(...M,null!=A?A:1/0),R=O-N;O+=.1*R,N-=.1*R;let z=O*N<0,P=ej({domain:y.map((e,t)=>String(t)),range:[0,S],paddingInner:.1,paddingOuter:0}),T=e3({domain:[N,O],range:[E,0]}),D=null,L=null;try{let e=null==(r=y[0])?void 0:r.date,t=null==(o=y[y.length-1])?void 0:o.date,n=e?Date.parse(e):NaN,i=t?Date.parse(t):NaN;Number.isFinite(n)&&Number.isFinite(i)&&i>n&&(D=n,L=i)}catch(e){}let I=y.map((e,t)=>(e=>{let t=m&&m.mode||"constant",n=void 0!==(null==m?void 0:m.value)?Number(m.value):null;if("linear"===t&&null!==j&&null!==n&&null!==D){var r;let t=(null==(r=y[e])?void 0:r.date)?Date.parse(y[e].date):null;return Number.isFinite(t)?j+Math.max(0,Math.min(1,(t-D)/(L-D)))*(n-j):n}return n})(t)),{colors:F}=tc(y,m,{});return(0,i.jsx)("div",{ref:g,style:{width:"100%",height:"100%",background:f},children:(0,i.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 ".concat(x," ").concat(w),style:{display:"block"},children:[(0,i.jsx)(tu,{x:2,y:(w-b.bottom)/2,fontSize:"".concat(_,"px"),fontWeight:"bold",verticalAnchor:"start",textAnchor:"middle",angle:"-90",children:"".concat(s.metricName," (").concat(s.unit||"",")")}),c&&(()=>{let e=[];for(let n=0;n<y.length;n++){var t;let r=b.left+(null!=(t=P(String(n)))?t:0),o="function"==typeof P.step&&"function"==typeof P.paddingInner?P.step()*P.paddingInner()/2:0,i=r+(P.bandwidth()||0)+o;e.push(i)}return e.map((e,t)=>(0,i.jsx)("line",{x1:e,x2:e,y1:b.top,y2:b.top+E,stroke:"rgba(0, 0, 0, 0.1)",strokeWidth:1},"grid-".concat(t)))})(),u&&(()=>{let e=void 0!==(null==m?void 0:m.value)?Number(m.value):null,t=null!==j&&null!==e?e>j:null===e||e>0,n=I.map((t,n)=>{var r,o;return{x:b.left+(null!=(r=P(String(n)))?r:0)+P.bandwidth()/2,y:b.top+(null!=(o=T("number"==typeof t?t:e))?o:0)}}).filter(e=>Number.isFinite(e.x)&&Number.isFinite(e.y));if(n.length<2)return null;let r=n[0].x,o=n[n.length-1].x,a=b.top,l=b.top+E,s=e=>e.map(e=>" L ".concat(e.x," ").concat(e.y)).join("");if(t){let e="M ".concat(r," ").concat(n[0].y);e+=s(n),e+=" L ".concat(o," ").concat(l," L ").concat(r," ").concat(l," Z");let t="M ".concat(r," ").concat(a);return t+=s(n),t+=" L ".concat(o," ").concat(a," Z"),(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:e,fill:"var(--chart-bad, #e74c3c)",opacity:.08},"zone-bad"),(0,i.jsx)("path",{d:t,fill:"var(--chart-good, #2ecc71)",opacity:.12},"zone-good")]})}{let e="M ".concat(r," ").concat(l);e+=s(n),e+=" L ".concat(o," ").concat(l," Z");let t="M ".concat(r," ").concat(n[0].y);return t+=s(n),t+=" L ".concat(o," ").concat(a," L ").concat(r," ").concat(a," Z"),(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:t,fill:"var(--chart-bad, #e74c3c)",opacity:.08},"zone-bad"),(0,i.jsx)("path",{d:e,fill:"var(--chart-good, #2ecc71)",opacity:.12},"zone-good")]})}})(),u&&(()=>{let e=I.map((e,t)=>{var n,r;return{x:b.left+(null!=(n=P(String(t)))?n:0)+P.bandwidth()/2,y:b.top+(null!=(r=T("number"==typeof e?e:A))?r:0)}}).filter(e=>Number.isFinite(e.x)&&Number.isFinite(e.y));if(e.length<2)return null;let t="M ".concat(e[0].x," ").concat(e[0].y);return e.slice(1).forEach(e=>{t+=" L ".concat(e.x," ").concat(e.y)}),(0,i.jsx)("path",{d:t,fill:"none",stroke:"var(--chart-target, #f3ca12ff)",strokeDasharray:"2 2",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"})})(),y.map((e,t)=>{var n;let r=null==e?void 0:e.value;if(null==r)return null;let o=b.left+(null!=(n=P(String(t)))?n:0),a=P.bandwidth(),l=b.top+T(Number(r)),s=E-T(Number(r)),u=F[t]||"rgba(0,0,0,0.12)";return(0,i.jsx)("g",{children:(0,i.jsx)(e9,{x:o,y:l,width:a,height:s,fill:u})},"bar-".concat(t))}),d&&Number.isFinite(A)&&(0,i.jsx)("line",{x1:b.left,x2:b.left+S,y1:b.top+T(A),y2:b.top+T(A),stroke:"var(--gray-dark)",strokeWidth:1,strokeDasharray:"4 4",pointerEvents:"none"}),d&&Number.isFinite(A)&&(0,i.jsx)(tu,{x:b.left+S-6,y:b.top+T(A)-6,fontSize:k,textAnchor:"end",verticalAnchor:"end",fill:"var(--gray-dark)",children:"Target"}),(0,i.jsx)("line",{x1:b.left,x2:b.left,y1:b.top,y2:b.top+E,stroke:"#444",strokeWidth:1}),(()=>{let e=(()=>{let e=[N,O];return e.includes(A)||e.push(A),j&&!e.includes(j)&&e.push(j),z&&!e.includes(0)&&e.push(0),Array.from(new Set(e)).sort((e,t)=>e-t)})();return(0,i.jsx)("g",{children:e.map((e,t)=>{let n=b.top+T(e);return(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:b.left-4,x2:b.left,y1:n,y2:n,stroke:"#444",strokeWidth:1}),(0,i.jsx)(tu,{x:b.left-6,y:n,fontSize:k,textAnchor:"end",verticalAnchor:"middle",transform:"rotate(-45 ".concat(b.left-6," ").concat(n,")"),children:(0,tf.formatCompact)(e)})]},"yt-".concat(t))})})})(),(()=>{let e=Math.max(2,Math.floor(S/30)),t=y.length,n=[];if(t<=e)n=y.map((e,t)=>t);else{let r=Math.ceil(t/Math.max(2,e));n=[0];for(let e=0;e<t-1;e+=r)0!==e&&n.push(e);n[n.length-1]!==t-1&&n.push(t-1)}let r=b.top+E;return n.map(e=>{var t,n;let o=b.left+(null!=(n=P(String(e)))?n:0)+P.bandwidth()/2,l=(0,tf.isoToDateString)(null==(t=y[e])?void 0:t.date,"DD/MM"),s=w-b.bottom+6;return(0,i.jsxs)(a.default.Fragment,{children:[(0,i.jsx)("line",{x1:o,x2:o,y1:r,y2:r+4,stroke:"#444",strokeWidth:1},"xt-".concat(e)),(0,i.jsx)(tu,{x:o,y:s+5,fontSize:C,textAnchor:"middle",children:l},"xl-".concat(e))]},"xfrag-".concat(e))})})(),(0,i.jsx)("line",{x1:b.left,x2:b.left+S,y1:b.top+E,y2:b.top+E,stroke:"#444",strokeWidth:1})]})})}},50341,e=>{"use strict";e.s(["default",()=>y],50341);var t=e.i(43476),n=e.i(71645),r=e.i(72377),o=e.i(68565),i=e.i(84234),a=e.i(66275),l=e.i(86768),s=e.i(91282),u=e.i(85019);function c(e){let{metrics:n={},twoPct:r,a3:o}=e;return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:"1 1 0",height:"100%",maxHeight:"100%",width:"100%",boxSizing:"border-box",overflow:"hidden"},children:[(0,t.jsx)("div",{style:{fontWeight:"bold",paddingLeft:"2px",width:"60%",flex:"0 0 ".concat(r,"px"),outlineOffset:"-1px",outline:"1px solid #000",overflow:"hidden",boxSizing:"border-box",backgroundColor:"var(--orange-highlight)"},children:(0,t.jsx)(l.AutoTextSize,{mode:"boxoneline",style:{height:"100%"},children:"Objective Monitoring"})}),(0,t.jsx)("div",{style:{boxSizing:"border-box",flex:"1 1 0",height:"100%",overflow:"hidden"},children:(0,t.jsx)("div",{style:{display:"grid",padding:1,gridTemplateColumns:"repeat(3, 1fr)",gap:6,alignItems:"stretch",height:"100%",alignContent:"start",boxSizing:"border-box",overflow:"hidden",gridAutoRows:"minmax(120px, 1fr)"},children:(()=>{let e=[];return(null==n?void 0:n.lag)&&e.push({id:"lag",metric:n.lag}),Array.isArray(null==n?void 0:n.leads)&&n.leads.filter(e=>e.display.enabled).forEach((t,n)=>e.push({id:"lead-".concat(n),metric:t})),e.map((e,n)=>{let r=e.metric||{};return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",boxSizing:"border-box",overflow:"hidden"},children:[(0,t.jsxs)("p",{style:{height:"10%",fontWeight:"bold",fontSize:"0.70em",textAlign:"center",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[r.metricName,r.unit?" (".concat(r.unit,")"):""]}),(0,t.jsx)("div",{style:{flex:"1 1 0",minHeight:0,overflow:"hidden",display:"flex",flexDirection:"column"},children:(0,t.jsx)("div",{style:{flex:"1 1 0",minHeight:0,overflow:"hidden"},children:(0,t.jsx)(u.default,{metric:r,minHeight:100,minWidth:100,showGrid:r.display.showGrid,showZones:r.display.showOverlay})})})]},e.id)})})()})}),o.layout.extraCheckAct.enabled&&(0,t.jsx)("div",{style:{fontWeight:"bold",width:"100%",height:"20%",position:"relative",borderTop:"1px solid rgba(0,0,0,1)"},children:Array.isArray(o.layout.extraCheckAct.text)&&(0,t.jsx)(l.AutoTextSize,{mode:"box",maxstyle:{height:"100%",background:"white",padding:6},children:o.layout.extraCheckAct.text.map((e,n)=>{let r="";if(e&&"object"==typeof e&&"text"in e){let t=e.authorDisplay?"".concat(e.authorDisplay).concat(e.date?" (".concat((0,s.formatCommentTimestamp)(e.date),")"):""):null;r=t?"".concat(t,": ").concat(e.text):e.text}else r=String(null!=e?e:"");return(0,t.jsx)("div",{style:{fontSize:13,color:"#222",marginBottom:4},children:r},"checkact-extra-".concat(n))})})})]})}var d=e.i(34295),f=e.i(24771),h=e.i(4956),p=e.i(48563);let g=e=>{let{metricName:n="",unit:r="",initial:o,start:i,end:a,target:l,placeholder:u={initial:"",target:"",up:null}}=e,[c,g]=(0,p.default)(),v=g.width||300,m=g.height||120,y={top:.05*m,right:.025*v,bottom:.075*m,left:.05*v},b=Math.max(10,Math.floor(.07*Math.min(Math.max(1,v),Math.max(1,m)))),x=Math.max(10,Math.floor(.95*b)),w=Math.max(10,Math.floor(.75*b)),S=n?"".concat(n).concat(r?" (".concat(r,")"):""):"",E=i&&a&&new Date(i).getFullYear()===new Date(a).getFullYear()?"DD/MM":"DD/MM/YYYY",_=[i?(0,s.isoToDateString)(i,E):"Initial","Gap",a?(0,s.isoToDateString)(a,E):"Target"],C=v-y.left-y.right,k=m-y.top-y.bottom,M=(0,f.scaleBand)({domain:_,range:[3,C],paddingInner:.6,paddingOuter:.2}),j=(0,f.scaleBand)({domain:[0,"Low","Middle","High",100],range:[k,0]}),A=o?"".concat((0,s.formatCompact)(Number(o))," ").concat(r):u.initial?u.initial:"???",O=l?"".concat((0,s.formatCompact)(Number(l.value))," ").concat(r):u.target?u.target:"???",N=n||r?"???":u.gap?u.gap:"???",R=(0,s.getBars)(o,l,A,O,N,u,r);return(0,t.jsx)("div",{ref:c,style:{width:"100%",height:"100%"},children:(0,t.jsxs)("svg",{width:v,height:m,style:{display:"block"},viewBox:"0 0 ".concat(v," ").concat(m),children:[(0,t.jsx)(d.Text,{x:y.left/2,y:m/2,fontSize:x,fontWeight:"bold",verticalAnchor:"middle",textAnchor:"middle",angle:"-90",children:S}),(0,t.jsx)("defs",{children:(0,t.jsx)("marker",{id:"gap-arrow",viewBox:"0 0 10 10",refX:"9",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto",children:(0,t.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#0a0"})})}),Object.entries(R).filter(e=>{let[t]=e;return"gap"!==t&&"line"!==t}).map((e,n)=>{let[r,o]=e,i=y.left+M("initial"===r?_[0]:_[2]),a=j(o.y)+y.top,l=k-a+5,s=Math.max(0,a),u=2*M.bandwidth();return(0,t.jsxs)("g",{children:[s>6&&(0,t.jsx)("foreignObject",{x:i+M.bandwidth()/2-u/2,y:0,width:u,height:s,children:(0,t.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{width:"100%",height:"100%",fontSize:"".concat(w,"px"),color:"#333",display:"flex",alignItems:"flex-end",justifyContent:"center",textAlign:"center",overflow:"visible",wordWrap:"break-word",lineHeight:"1.1"},children:o.label})}),(0,t.jsx)(h.Bar,{x:i,y:a,width:M.bandwidth(),height:l,fill:"initial"===r?"#888":"#0a0"})]},"bar-group-".concat(r))}),"none"===R.gap.type?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("foreignObject",{x:y.left+M(_[1])-M.bandwidth()/2,y:0,width:2*M.bandwidth(),height:k,children:(0,t.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{width:"100%",height:"100%",fontSize:"".concat(w,"px"),color:"#333",display:"flex",alignItems:"flex-end",justifyContent:"center",textAlign:"center",overflow:"visible",wordWrap:"break-word",lineHeight:"1.1"},children:R.gap.label})})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("foreignObject",{x:y.left+M.bandwidth()/2+1.6*M.bandwidth(),y:0,width:2.2*M.bandwidth()+2*y.left,height:Math.min(j(R.initial.y),j(R.target.y))+y.top,children:(0,t.jsx)("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{width:"100%",height:"100%",fontSize:"".concat(w,"px"),color:"#333",display:"flex",alignItems:"flex-end",justifyContent:"center",textAlign:"center",overflow:"visible",wordWrap:"break-word",lineHeight:"1.1"},children:R.gap.label})}),(0,t.jsx)("line",{x1:M(_[0])+y.left+1.6*M.bandwidth(),y1:j(R.initial.y)+y.top,x2:M(_[2])+y.left-.6*M.bandwidth(),y2:j(R.target.y)+y.top,stroke:"#0a0",strokeWidth:2,strokeLinecap:"round",markerEnd:"url(#gap-arrow)"}),R.line&&(0,t.jsx)("line",{x1:y.left,x2:C+y.left,y1:j(R.line.y)+y.top,y2:j(R.line.y)+y.top,stroke:"red",strokeWidth:2,strokeLinecap:"round"})]}),(0,t.jsx)("line",{x1:.5*y.left,y1:m-y.bottom-3,x2:v-y.right,y2:m-y.bottom-3,stroke:"#000",strokeWidth:1}),(0,t.jsx)("line",{x1:y.left+3,y1:m-.5*y.bottom,x2:y.left+3,y2:y.top,stroke:"#000",strokeWidth:1}),_.map((e,n)=>(0,t.jsxs)("g",{children:[(0,t.jsx)(d.Text,{x:y.left+M(e)+M.bandwidth()/2,y:m-y.bottom,fontSize:x,fontWeight:"bold",verticalAnchor:"start",textAnchor:"middle",children:e},"x-label-".concat(n)),(0,t.jsx)("line",{x1:y.left+M(e)+M.bandwidth()/2,x2:y.left+M(e)+M.bandwidth()/2,y1:m-y.bottom-3-4,y2:m-y.bottom-3,stroke:"#000",strokeWidth:1},"x-tick-".concat(n))]},"x-label-group-".concat(n)))]})})},v=r=>{let{probDef:o,lag:i,start:a,end:s,twoPct:u}=r,c={height:"100%",width:"100%",overflow:"hidden"},[d,f]=(0,n.useState)("");return(0,n.useEffect)(()=>{let t=!0;return(async()=>{try{if(!(null==o?void 0:o.extra)){t&&f("");return}let n=(0,(await e.A(70653)).default)(window).sanitize(o.extra);t&&f(n)}catch(e){t&&f(o.extra||"")}})(),()=>{t=!1}},[null==o?void 0:o.extra]),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"60% 40%",gridTemplateRows:"".concat(u,"px 1fr"),width:"100%",height:"100%",maxHeight:"100%",overflow:"hidden",boxSizing:"border-box"},children:[(0,t.jsx)("div",{style:{gridColumn:"1",gridRow:"1",fontWeight:"bold",...c,paddingLeft:"2px",backgroundColor:"var(--accent-highlight)",height:"".concat(u,"px"),borderBottom:"1px solid rgba(0,0,0,1)",borderLeft:"1px solid rgba(0,0,0,1)"},children:(0,t.jsx)(l.AutoTextSize,{mode:"boxoneline",style:{height:"100%"},children:"Problem Definition"})}),(0,t.jsx)("div",{style:{gridColumn:"1",gridRow:"2",...c,paddingLeft:"2px",height:"100%"},children:(0,t.jsxs)(l.AutoTextSize,{mode:"box",style:{height:"100%"},children:[(0,t.jsx)("b",{children:"What?"}),i.metricName&&i.unit?" ".concat(i.metricName," (measured in ").concat(i.unit,")"):(0,t.jsx)("i",{children:"(click to edit)"}),(0,t.jsx)("br",{}),(0,t.jsx)("b",{children:"Why?"})," ",o.why||(0,t.jsx)("i",{children:"(click to edit)"}),o.where&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),(0,t.jsx)("b",{children:"Where?"})," ",o.where]}),d&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:d}})})]})}),(0,t.jsx)("div",{style:{gridColumn:"2",gridRow:"1 / span 3",...c,padding:0,borderLeft:"1px solid rgba(0,0,0,1)"},children:(0,t.jsx)(g,{metricName:i.metricName,unit:i.unit,initial:i.initial,placeholder:i.placeholder,start:a,target:i.target,end:s})})]})};var m=e.i(18955);function y(e){var l,s,u,d,f,h,p,g,y,b,x,w,S,E,_,C,k,M,j,A,O,N,R,z,P,T,D;let{a3:L,setA3:I,activeArea:F,setActiveArea:B,refPlan2:H,refPlan4:W,refPreview:V,boundsPreview:U,toggleImgSelectorCurrent:Y,toggleImgSelectorActionPlan:X,editable:G=!1,owner:q=!1,print:K=!1}=e;function Z(e){let{children:r,containerStyle:o={},innerStyle:i={},flip:a=!1}=e,l=(0,n.useRef)(null),s=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=l.current,t=s.current;if(!e||!t)return;let n=()=>{try{let n=e.clientWidth||0,r=e.clientHeight||0;t.style.width="".concat(r,"px"),t.style.height="".concat(n,"px"),t.style.lineHeight="".concat(n,"px")}catch(e){}};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[r]),(0,t.jsx)("div",{ref:l,style:{position:"relative",overflow:"visible",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",...o},children:(0,t.jsx)("div",{ref:s,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%) rotate(".concat(a?90:-90,"deg)"),transformOrigin:"center",whiteSpace:"nowrap",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",...i},children:r})})}let{user:$}=(0,m.useUser)(),[Q,J]=(0,n.useState)(0);(0,n.useLayoutEffect)(()=>{if(U)try{let e=U.height||0;J(Math.max(0,Math.round(.03*e)))}catch(e){}},[U]);let ee=e=>{if(!e)return!1;try{return!!Array.isArray(e)&&!!$&&e.includes($)}catch(e){return!1}},et=G&&q,en=G&&(q||ee(null==(l=L.probDef)?void 0:l.canEdit)),er=G&&(q||ee(null==(s=L.currentState)?void 0:s.canEdit)),eo=G&&(q||ee(null==(u=L.actionPlan)?void 0:u.canEdit)),ei=G&&(q||ee(null==(d=L.metrics)?void 0:d.canEditObjectives)),ea=G&&(q||ee(null==(f=L.metrics)?void 0:f.canEditMetrics)),el=!1;try{G?q?el=!0:Array.isArray(L.actions)&&(el=L.actions.some(e=>{try{if(!e)return!1;if(e.owner&&e.owner===$||Array.isArray(e.team)&&e.team.includes($)||Array.isArray(e.assignees)&&e.assignees.includes($)||e.assignee&&e.assignee===$)return!0;return!1}catch(e){return!1}})):el=!1}catch(e){el=!1}let es=e=>{B(t=>t===e?null:e)},eu=[["var(--blue-highlight)","var(--blue-highlight)",,"var(--blue)"],["var(--accent-highlight)","var(--accent-highlight)","var(--accent)"],["white","var(--accent-highlight)","var(--accent)"],["var(--accent-highlight)","var(--accent-highlight)","var(--accent)"],["white","var(--accent-highlight)","var(--accent)"],["var(--green-highlight)","var(--green-highlight)","var(--green)"],["var(--orange-highlight)","var(--orange-highlight)","var(--orange)"]];return(0,t.jsxs)("div",{ref:V,style:{height:K?"100%":"94vh",maxWidth:K?"100%":"calc(100vw - 2em)",aspectRatio:"420/297",background:"white",border:"2px solid",borderColor:(null==(h=eu[F])?void 0:h[2])||"var(--main)",boxShadow:"0 2px 12px rgba(0,0,0,0.08)",boxSizing:"border-box",position:"relative",padding:"0",margin:0,overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"stretch"},children:[(0,t.jsx)("div",{onClick:et?()=>es(0):void 0,style:{width:"100%",height:"10%",flex:"0 0 10%",maxHeight:"10%",overflow:"hidden",background:0===F&&(null==(p=eu[0])?void 0:p[0])||"white",cursor:et?"pointer":"default",transition:"background 0.2s",borderBottom:"1px solid var(--main)",boxSizing:"border-box"},children:(0,t.jsx)(r.default,{header:L.header,editable:et,owner:q,setA3:I})}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"3% 47% 47% 3%",flex:"1 1 0%",minHeight:0,overflow:"hidden"},children:[(0,t.jsx)(Z,{containerStyle:{background:"var(--accent-highlight)",display:"flex",fontWeight:"bold",color:"gray",borderLeft:"1px solid var(--main)",borderBottom:"1px solid var(--main)",boxSizing:"border-box",fontSize:"0.8em"},children:"PLAN"}),(0,t.jsx)("div",{style:{cursor:"pointer",transition:"background 0.2s",borderRight:"1px solid var(--main)",height:"100%",boxSizing:"border-box",overflow:"hidden"},children:(0,t.jsxs)("div",{style:{display:"grid",gridTemplateRows:"".concat(null==(y=L.layout)||null==(g=y.sections)?void 0:g.plan1,"% ").concat(null==(x=L.layout)||null==(b=x.sections)?void 0:b.plan2,"% 20%"),height:"100%",gridTemplateColumns:"100%",minHeight:0,overflow:"hidden"},children:[(0,t.jsx)("div",{onClick:en?()=>es(1):void 0,style:{background:1===F&&(null==(w=eu[1])?void 0:w[1])||"white",cursor:en?"pointer":"default",transition:"background 0.2s",borderBottom:"1px solid var(--main)",borderLeft:"1px solid var(--main)",borderTop:"1px solid var(--main)",boxSizing:"border-box"},children:(0,t.jsx)(v,{probDef:L.probDef,lag:L.metrics.lag,start:L.header.start,end:L.header.end,editable:en,owner:q,setA3:I,twoPct:Q})}),(0,t.jsx)("div",{ref:H,onClick:er?()=>es(2):void 0,style:{background:2===F&&(null==(S=eu[2])?void 0:S[1])||"white",cursor:er?"pointer":"default",transition:"background 0.2s",borderLeft:"1px solid var(--main)",borderBottom:"1px solid var(--main)",borderTop:"1px solid var(--main)",boxSizing:"border-box"},children:(0,t.jsx)(o.default,{a3:L,a3Key:"currentState",nodes:L.currentState.nodes,edges:L.currentState.edges,editable:!1,setA3:I,toggleImgSelector:Y,imageToCreate:null,onImageCreated:()=>{},twoPct:Q})}),(0,t.jsx)("div",{onClick:ei?()=>es(3):void 0,style:{background:3===F&&(null==(E=eu[3])?void 0:E[1])||"white",cursor:ei?"pointer":"default",transition:"background 0.2s",borderLeft:"1px solid var(--main)",borderTop:"1px solid var(--main)",boxSizing:"border-box"},children:(0,t.jsx)(i.default,{metrics:L.metrics,setA3:I,start:L.header.start,end:L.header.end,editable:ei,owner:q,twoPct:Q})})]})}),(0,t.jsx)("div",{style:{cursor:"pointer",transition:"background 0.2s",borderRight:"1px solid var(--main)",height:"100%",boxSizing:"border-box",overflow:"hidden"},children:(0,t.jsxs)("div",{style:{display:"grid",gridTemplateRows:"".concat(L.layout.includeFutureState?null==(C=L.layout)||null==(_=C.sections)?void 0:_.futureState:null==(M=L.layout)||null==(k=M.sections)?void 0:k.do1,"% ").concat(L.layout.includeFutureState?null==(A=L.layout)||null==(j=A.sections)?void 0:j.do1:null==(N=L.layout)||null==(O=N.sections)?void 0:O.checkAct,"% ").concat(L.layout.includeFutureState?null==(z=L.layout)||null==(R=z.sections)?void 0:R.checkAct:0,"%"),height:"100%",minHeight:0,overflow:"hidden"},children:[L.layout.includeFutureState&&(0,t.jsx)("div",{ref:W,onClick:eo?()=>es(4):void 0,style:{background:4===F&&(null==(P=eu[4])?void 0:P[1])||"white",cursor:eo?"pointer":"default",transition:"background 0.2s",borderBottom:"1px solid var(--main)",borderLeft:"1px solid var(--main)",borderTop:"1px solid var(--main)",boxSizing:"border-box"},children:(0,t.jsx)(o.default,{a3:L,a3Key:"actionPlan",nodes:L.actionPlan.nodes,edges:L.actionPlan.edges,editable:!1,setA3:I,toggleImgSelector:X,imageToCreate:null,onImageCreated:()=>{},twoPct:Q})}),(0,t.jsx)("div",{onClick:el?()=>es(5):void 0,style:{background:5===F&&(null==(T=eu[5])?void 0:T[1])||"white",cursor:el?"pointer":"default",transition:"background 0.2s",borderLeft:"1px solid var(--main)",borderBottom:"1px solid var(--main)",borderTop:"1px solid var(--main)",boxSizing:"border-box"},children:(0,t.jsx)(a.default,{a3:L,setA3:I,owner:q,twoPct:Q})}),(0,t.jsx)("div",{onClick:ea?()=>es(6):void 0,style:{background:6===F&&(null==(D=eu[6])?void 0:D[1])||"white",cursor:ea?"pointer":"default",transition:"background 0.2s",borderLeft:"1px solid var(--main)",borderTop:"1px solid var(--main)",boxSizing:"border-box"},children:(0,t.jsx)(c,{metrics:L.metrics,editable:ea,owner:q,twoPct:Q,a3:L})})]})}),(0,t.jsx)("div",{style:{fontWeight:"bold",color:"gray",borderLeft:"1px solid var(--main)",height:"100%",boxSizing:"border-box",overflow:"hidden"},children:(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",height:"100%",minHeight:0,overflow:"hidden"},children:(()=>{var e,n,r,o,i,a,l,s,u,c;let d=L.layout.includeFutureState?["".concat(null==(n=L.layout)||null==(e=n.sections)?void 0:e.futureState,"%"),"".concat(null==(o=L.layout)||null==(r=o.sections)?void 0:r.do1,"%"),"".concat(null==(a=L.layout)||null==(i=a.sections)?void 0:i.checkAct,"%")]:[void 0,"".concat(null==(s=L.layout)||null==(l=s.sections)?void 0:l.do1,"%"),"".concat(null==(c=L.layout)||null==(u=c.sections)?void 0:u.checkAct,"%")];return(0,t.jsxs)(t.Fragment,{children:[L.layout.includeFutureState&&(0,t.jsx)(Z,{flip:!0,containerStyle:{background:"var(--accent-highlight)",fontWeight:"bold",color:"gray",borderBottom:"1px solid var(--main)",borderTop:"1px solid var(--main)",gridRow:"1",height:d[0],boxSizing:"border-box",fontSize:"0.8em"}}),(0,t.jsx)(Z,{flip:!0,containerStyle:{fontWeight:"bold",color:"gray",borderBottom:"1px solid var(--main)",borderTop:"1px solid var(--main)",gridRow:"1",height:d[1],boxSizing:"border-box",fontSize:"0.8em",background:"var(--green-highlight)"},children:"DO"}),(0,t.jsx)(Z,{flip:!0,containerStyle:{fontWeight:"bold",color:"gray",borderBottom:"1px solid var(--main)",borderTop:"1px solid var(--main)",gridRow:"1",height:d[2],boxSizing:"border-box",fontSize:"0.8em",background:"var(--orange-highlight)"},children:"CHECK + ACT"})]})})()})})]})]})}},92221,e=>{"use strict";e.s(["default",()=>n],92221);var t=e.i(13882);function n(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||(0,t.default)(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},99749,e=>{"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.s(["_",()=>t])},23967,e=>{"use strict";function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)&&0!==e.length?Math.max(...e.map(e=>{let t=Number(e.id);return Number.isFinite(t)?Math.floor(t):0}),0)+1:1}function n(e){if(!e)return e;let t="function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e));if(!Array.isArray(t.actions))return t;let n=Date.now();return t.actions=t.actions.map(e=>{let t={...e||{}};t.lateFlags=Array.isArray(t.lateFlags)?[...t.lateFlags]:[];let r=t.owner&&""!==String(t.owner).trim(),o=t.limit?new Date(t.limit).toISOString():null,i="number"==typeof t.progress?t.progress:"string"==typeof t.progress?Number(t.progress):NaN,a=!Number.isFinite(i)||i<100;if(r&&o&&a){let e=Date.parse(o);Number.isFinite(e)&&n>e&&!t.lateFlags.includes(o)&&(t.lateFlags.push(o),t.lateFlags.length>3&&(t.lateFlags=t.lateFlags.slice(-3)))}return t}),t}function r(e){if(!e)return null;try{let t=new Date(e);if(isNaN(t))return null;return t.toISOString().slice(0,10)}catch(e){return null}}function o(e){var t,n;if(!e)return e;let o="function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e)),i=r(null==(t=o.header)?void 0:t.start),a=r(null==(n=o.header)?void 0:n.end);if(!i||!a)return o;let l=function(e,t){let n=[];try{let r=new Date(e),o=new Date(t);if(isNaN(r)||isNaN(o))return n;let i=new Date(r.valueOf());for(;i<=o;)n.push(i.toISOString().slice(0,10)),i.setDate(i.getDate()+1)}catch(e){}return n}(i,a);Array.isArray(o.progress)||(o.progress=[]);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e)||0===e.length)return{total:0,completed:0};let n=e=>e?"high"===e?3:"medium"===e?2:1:1,r=e=>{if(null==e)return 0;let t=Number(e);return Number.isFinite(t)?Math.max(0,Math.min(1,(t<=1?100*t:t)/100)):0};return t?{total:e.reduce((e,t)=>e+n(t.weight),0),completed:e.reduce((e,t)=>e+n(t.weight)*r(t.progress),0)}:{total:e.length,completed:e.reduce((e,t)=>e+r(t.progress),0)}}(Array.isArray(o.actions)?o.actions:[],!!(o.actionsSettings&&o.actionsSettings.weighted)),u=r(new Date().toISOString()),c={};o.progress.forEach(e=>{try{if(!e)return;let t=r(e.date)||r(String(e.date));if(!t)return;let n=void 0===e.total||""===e.total||null===e.total?null:Number.isFinite(Number(e.total))?Number(e.total):e.total,o=void 0===e.completed||""===e.completed||null===e.completed?null:Number.isFinite(Number(e.completed))?Number(e.completed):e.completed;c[t]={total:n,completed:o}}catch(e){}});let d=l.map(e=>({date:e,total:c[e]?c[e].total:null,completed:c[e]?c[e].completed:null})),f=d.findIndex(e=>e.date===u);try{if(null==d[0].completed&&f>=0)for(let e=0;e<=f;e++)d[e]&&null==d[e].completed&&(d[e].completed=0)}catch(e){}let h=-1;for(let e=0;e<=f;e++){let t=d[e];if((null===t.total||void 0===t.total)&&(null===t.completed||void 0===t.completed)){h=e;break}}let p=null,g=null;if(h>0)for(let e=h-1;e>=0;e--){let t=d[e];if(t&&(null!=t.total||null!=t.completed)){p=null!=t.total?t.total:null,g=null!=t.completed?t.completed:null;break}}if(null===p&&null===g&&(p=s.total||null,g=s.completed||null),-1===h)f>=0&&(d[f].total=s.total,d[f].completed=s.completed);else for(let e=h;e<=f;e++){let t=d[e];if(t){if(t.date===u){t.total=s.total,t.completed=s.completed,p=t.total,g=t.completed;continue}null==t.total&&(t.total=p),null==t.completed&&(t.completed=g),null!=t.total&&(p=t.total),null!=t.completed&&(g=t.completed)}}o.progress=d;try{console.debug&&console.debug("[ensureProgressForA3] progress entries built:",{start:i,end:a,days:l.length,today:u,liveTotals:s,entriesLength:d.length})}catch(e){}return o}e.s(["ensureLateFlagsForA3",()=>n,"ensureProgressForA3",()=>o,"getNextActionId",()=>t])}]);