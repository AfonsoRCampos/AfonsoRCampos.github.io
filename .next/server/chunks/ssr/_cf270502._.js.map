{"version":3,"sources":["turbopack:///[project]/src/components/InputText.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/typeof.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/toPrimitive.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/toPropertyKey.js","turbopack:///[project]/node_modules/@babel/runtime/helpers/defineProperty.js","turbopack:///[project]/src/app/create/page.js"],"sourcesContent":["'use client';\r\n\r\nimport React from \"react\";\r\n\r\n/**\r\n * Reusable text input component with customizable size and colors.\r\n *\r\n * Props:\r\n * - value: string\r\n * - onChange: function\r\n * - width: string (e.g. '200px', '100%')\r\n * - height: string (e.g. '40px', '2em')\r\n * - borderColor: string (CSS color)\r\n * - bgColor: string (CSS color)\r\n * - hoverColor: string (CSS color)\r\n * - ...rest: other input props\r\n */\r\nexport default function InputText({\r\n    id,\r\n    value,\r\n    onChange,\r\n    width = \"100%\",\r\n    height = \"2.5em\",\r\n    borderColor = \"var(--main)\",\r\n    bgColor = \"white\",\r\n    hoverColor = \"white\",\r\n    style = {},\r\n    placeholder = \"Enter text...\",\r\n    min,\r\n    max,\r\n    ...rest\r\n}) {\r\n    const [isHovered, setIsHovered] = React.useState(false);\r\n\r\n    // If `options` is provided, render a select element\r\n    const options = rest.options;\r\n\r\n    const baseStyle = {\r\n        width,\r\n        height: height,\r\n        border: `1px solid ${borderColor}`,\r\n        background: isHovered ? hoverColor : bgColor,\r\n        borderRadius: \"6px\",\r\n        padding: \"0.25em 0.75em\",\r\n        fontSize: \"1em\",\r\n        transition: \"background 0.2s, border-color 0.2s\",\r\n        boxSizing: \"border-box\",\r\n        color: 'black',\r\n        ...style,\r\n    };\r\n\r\n    if (options && Array.isArray(options)) {\r\n        return (\r\n            <select\r\n                id={id}\r\n                value={value}\r\n                onChange={onChange}\r\n                style={baseStyle}\r\n                onMouseEnter={() => setIsHovered(true)}\r\n                onMouseLeave={() => setIsHovered(false)}\r\n                {...rest}\r\n                placeholder={placeholder}\r\n            >\r\n                {options.map((opt, i) => {\r\n                    // Support simple string options or objects with { value, label, disabled, title }\r\n                    if (typeof opt === 'string') return <option key={i} value={opt}>{opt}</option>;\r\n                    const disabled = Boolean(opt.disabled);\r\n                    const title = opt.title || undefined;\r\n                    return <option key={i} value={opt.value} disabled={disabled} title={title}>{opt.label ?? opt.value}</option>;\r\n                })}\r\n            </select>\r\n        );\r\n    }\r\n    const handleChange = (e) => {\r\n        if (!onChange) return;\r\n        const isNumberType = (rest.type === 'number') || (rest.inputMode === 'numeric') || (rest.inputMode === 'decimal');\r\n        if (isNumberType && (min !== undefined || max !== undefined)) {\r\n            const raw = e?.target?.value ?? '';\r\n            if (raw === '') {\r\n                // forward empty\r\n                onChange({ target: { value: '' } });\r\n                return;\r\n            }\r\n            const parsed = parseFloat(raw);\r\n            if (Number.isNaN(parsed)) {\r\n                // forward as-is\r\n                onChange(e);\r\n                return;\r\n            }\r\n            let clamped = parsed;\r\n            if (min !== undefined) clamped = Math.max(Number(min), clamped);\r\n            if (max !== undefined) clamped = Math.min(Number(max), clamped);\r\n            // If clamped differs, forward the clamped value, else forward original event\r\n            if (clamped !== parsed) {\r\n                onChange({ target: { value: String(clamped) } });\r\n            } else {\r\n                onChange(e);\r\n            }\r\n            return;\r\n        }\r\n\r\n        onChange(e);\r\n    };\r\n\r\n    return (\r\n        <input\r\n            id={id}\r\n            type={rest.type || 'text'}\r\n            value={value}\r\n            onChange={handleChange}\r\n            placeholder={placeholder}\r\n            style={baseStyle}\r\n            onMouseEnter={() => setIsHovered(true)}\r\n            onMouseLeave={() => setIsHovered(false)}\r\n            min={min}\r\n            max={max}\r\n            {...rest}\r\n        />\r\n    );\r\n}\r\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport A3Preview from '@/components/A3Preview';\nimport EditorShell from '@/components/EditorShell';\nimport { useUser } from \"@/state/UserContext\";\nimport { useA3s } from \"@/state/A3Context\";\nimport useMeasure from 'react-use-measure';\nimport { generateBuckets, shouldDisableFrequency } from '@/utils/bucketUtils';\nimport LayoutSettingsPanel from '@/components/LayoutSettingsPanel';\nimport PublishButton from '@/components/PublishButton';\nimport SectionEditorsPanel from '@/components/SectionEditorsPanel';\nimport { useRouter } from 'next/navigation';\nimport { FaGear } from \"react-icons/fa6\";\n\nexport default function CreateA3Page() {\n  const { user } = useUser();\n  const { a3s, setA3s } = useA3s();\n\n  const initialA3 = {\n    published: false,\n    draft: true,\n    header: {\n      id: \"\",\n      title: \"\", \n      owner: user,\n      team: [user],\n      lastUpdated: new Date().toISOString(),\n      by: user,\n      start: null, \n      end: null, \n      refBy: [], \n      refs: [], \n    },\n    probDef: {\n      why: \"\", \n      where: \"\", \n      extra: \"\",\n      canEdit: [user],\n    },\n    currentState: {\n      nodes: [],\n      edges: []\n      ,\n      // who can edit the current state section\n      canEdit: [user]\n    },\n    actionPlan: {\n      nodes: [],\n      edges: []\n      ,\n      // who can edit the action plan\n      canEdit: [user]\n    },\n    actionsSettings: {\n      weighted: false,\n    },\n    actions: [],\n    layout: {\n      sections: {\n        plan1: 20,\n        plan2: 60,\n        futureState: 0,\n        do1: 70,\n        checkAct: 30\n      },\n      includeFutureState: false,\n      canEdit: [user],\n      extraCurrentState: {\n        enabled: false,\n        text: []\n      },\n      extraCheckAct: {\n        enabled: false,\n        text: []\n      },\n    },\n    metrics: {\n      lag: {\n        metricName: \"\", // user input // what (section1)\n        unit: \"\",\n        initial: null, // user input\n        target: {\n          type: \"\"\n        }, // user input\n        data: [],\n        placeholder: {\n          initial: \"\",\n          target: \"\",\n          up: null,\n        },\n        display: {\n          enabled: true,\n          graphType: \"simple\",\n          showOverlay: true,\n          showGrid: false,\n          freq: 'monthly'\n        }\n      },\n      leads: [],\n      canEditObjectives: [user],\n      canEditMetrics: [user]\n    },\n    progress: [],\n  };\n\n  const [a3, setA3] = useState(initialA3);\n  const [activeArea, setActiveArea] = useState(null);\n\n  const [refPlan2, boundsPlan2] = useMeasure();\n  const [refPlan4, boundsPlan4] = useMeasure();\n  const [refPreview, boundsPreview] = useMeasure();\n  const [showLayout, setShowLayout] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const gearRef = React.useRef(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    const start = a3?.header?.start;\n    const end = a3?.header?.end;\n    if (!start || !end || !a3?.metrics) return;\n\n    const pickBestForGranularity = (granularity) => {\n      const freqOrder = { daily: 0, weekly: 1, monthly: 2 };\n      const granularityOrder = { days: 0, weeks: 1, months: 2 };\n      const isFreqAllowedByGranularity = (freq, gran) => {\n        if (!gran) return true;\n        const fi = freqOrder[freq] ?? 0;\n        const gi = granularityOrder[gran] ?? 0;\n        return fi >= gi;\n      };\n\n      if (isFreqAllowedByGranularity('daily', granularity) && !shouldDisableFrequency(start, end, 'daily', 100)) return 'daily';\n      if (isFreqAllowedByGranularity('weekly', granularity) && !shouldDisableFrequency(start, end, 'weekly', 100)) return 'weekly';\n      if (isFreqAllowedByGranularity('monthly', granularity) && !shouldDisableFrequency(start, end, 'monthly', 100)) return 'monthly';\n      return null;\n    };\n\n    let didPopulate = false;\n    const next = typeof structuredClone === 'function' ? structuredClone(a3) : JSON.parse(JSON.stringify(a3));\n\n    // populate lag if missing or ensure first bucket reflects initial when empty\n    next.metrics = next.metrics || {};\n    const lag = next.metrics.lag || {};\n    const lagData = Array.isArray(lag.data) ? lag.data : [];\n    if (!lagData || lagData.length === 0) {\n      const lagGran = (next.metrics.lag?.target?.granularity) || null;\n      const chosen = next.metrics.lag?.display?.freq || pickBestForGranularity(lagGran);\n      if (chosen) {\n        const buckets = generateBuckets(start, end, chosen);\n        const initialVal = typeof next.metrics.lag?.initial !== 'undefined' ? next.metrics.lag.initial : null;\n        next.metrics.lag = {\n          ...(next.metrics.lag || {}),\n          data: buckets.map((d, i) => ({ date: d, value: i === 0 && initialVal !== null && initialVal !== '' ? initialVal : null })),\n          display: { ...(next.metrics.lag.display || {}), freq: chosen }\n        };\n        didPopulate = true;\n      }\n    } else {\n      // if data exists, ensure the first bucket has the metric.initial when it's empty\n        try {\n          const first = next.metrics.lag.data[0] || {};\n          const firstVal = typeof first.value === 'undefined' ? null : first.value;\n          const initialVal = typeof next.metrics.lag?.initial !== 'undefined' ? next.metrics.lag.initial : null;\n          // normalize to numbers; treat non-finite conversions (NaN/Infinity) as null to avoid unstable comparisons\n          const normFirst = (firstVal === null || firstVal === '' || !Number.isFinite(Number(firstVal))) ? null : Number(firstVal);\n          const normInitial = (initialVal === null || initialVal === '' || !Number.isFinite(Number(initialVal))) ? null : Number(initialVal);\n          if (normFirst !== normInitial) {\n            next.metrics.lag.data[0] = { ...(next.metrics.lag.data[0] || {}), value: normInitial };\n            didPopulate = true;\n          }\n        } catch (e) { /* ignore */ }\n    }\n\n    // populate leads if missing or ensure first bucket reflects initial when empty\n    next.metrics.leads = next.metrics.leads || [];\n    for (let i = 0; i < next.metrics.leads.length; i++) {\n      const lead = next.metrics.leads[i] || {};\n      const leadData = Array.isArray(lead.data) ? lead.data : [];\n      if (!leadData || leadData.length === 0) {\n        const leadGran = (lead?.target?.granularity) || null;\n        const chosen = lead.display?.freq || pickBestForGranularity(leadGran);\n        if (chosen) {\n          const buckets = generateBuckets(start, end, chosen);\n          const initialVal = typeof lead?.initial !== 'undefined' ? lead.initial : null;\n          next.metrics.leads[i] = {\n            ...(next.metrics.leads[i] || {}),\n            data: buckets.map((d, idx) => ({ date: d, value: idx === 0 && initialVal !== null && initialVal !== '' ? Number(initialVal) : null })),\n            display: { ...(next.metrics.leads[i].display || {}), freq: chosen }\n          };\n          didPopulate = true;\n        }\n      } else {\n        // if data exists, ensure first bucket aligns with initial when empty\n        try {\n          const first = next.metrics.leads[i].data[0] || {};\n          const firstVal = typeof first.value === 'undefined' ? null : first.value;\n          const initialVal = typeof next.metrics.leads[i]?.initial !== 'undefined' ? next.metrics.leads[i].initial : null;\n          const normFirst = (firstVal === null || firstVal === '' || !Number.isFinite(Number(firstVal))) ? null : Number(firstVal);\n          const normInitial = (initialVal === null || initialVal === '' || !Number.isFinite(Number(initialVal))) ? null : Number(initialVal);\n          if (normFirst !== normInitial) {\n            next.metrics.leads[i].data[0] = { ...(next.metrics.leads[i].data[0] || {}), value: normInitial };\n            didPopulate = true;\n          }\n        } catch (e) { /* ignore */ }\n      }\n    }\n\n    if (didPopulate) setA3(next);\n  }, [a3, setA3]);\n\n  const saveDraft = async () => {\n    try {\n      setSaving(true);\n      // create a copy and ensure draft/published flags\n      const next = typeof structuredClone === 'function' ? structuredClone(a3) : JSON.parse(JSON.stringify(a3));\n      next.draft = true;\n      next.published = false;\n      next.header = next.header || {};\n      next.header.lastUpdated = new Date().toISOString();\n\n      const res = await fetch('/api/a3s', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(next)\n      });\n\n      if (!res.ok) {\n        const text = await res.text();\n        console.error('Failed to save draft', res.status, text);\n        return;\n      }\n\n      const saved = await res.json();\n      // update local state with server response (if any)\n      const final = saved || next;\n      setA3(final);\n      // refresh global A3 list from server to pick up any side-effects (refBy updates)\n      try {\n        if (typeof setA3s === 'function') {\n          const rr = await fetch('/api/a3s');\n          if (rr.ok) {\n            const data = await rr.json();\n            setA3s(Array.isArray(data) ? data : []);\n          } else {\n            // fallback to local upsert\n            setA3s(prev => {\n              const list = Array.isArray(prev) ? prev.slice() : [];\n              const idx = list.findIndex(x => x?.header?.id === final?.header?.id);\n              if (idx >= 0) list[idx] = final;\n              else list.push(final);\n              return list;\n            });\n          }\n        }\n      } catch (e) {\n        console.warn('Could not refresh global A3 list', e);\n      }\n      router.push('/home');\n\n    } catch (e) {\n      console.error('Error saving draft', e);\n      router.push('/home');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const bottomButtonsStyle = {\n    height: '5vh',\n    alignItems: 'center',\n    justifyContent: 'center',\n    display: 'flex',\n    border: 'none',\n    borderRadius: 6,\n    cursor: 'pointer',\n    color: 'white',\n    fontWeight: 'bold',\n  }\n\n  const colors = [\n    [\"var(--blue-highlight)\", \"var(--blue-highlight)\", , \"var(--blue)\"],\n    [\"var(--accent-highlight)\", \"var(--accent-highlight)\", \"var(--accent)\"],\n    [\"white\", \"var(--accent-highlight)\", \"var(--accent)\"],\n    [\"var(--accent-highlight)\", \"var(--accent-highlight)\", \"var(--accent)\"],\n    [\"white\", \"var(--accent-highlight)\", \"var(--accent)\"],\n    [\"var(--green-highlight)\", \"var(--green-highlight)\", \"var(--green)\"],\n    [\"var(--orange-highlight)\", \"var(--orange-highlight)\", \"var(--orange)\"],\n  ];\n\n  const activeAreaLabel = {\n    0: 'header',\n    1: 'probDef',\n    2: 'currentState',\n    3: 'objectives',\n    4: 'actionPlan',\n    5: null,\n    6: 'metrics'\n  }\n\n  return (\n    <div style={{ width: \"100vw\", minHeight: \"100vh\", padding: \"1em\", boxSizing: \"border-box\", justifySelf: \"center\", alignItems: \"center\", display: \"flex\", flexDirection: \"column\", background: \"#f0f0f0\", gap: \"6px\" }}>\n      <EditorShell\n        a3={a3}\n        setA3={setA3}\n        activeArea={activeArea}\n        setActiveArea={setActiveArea}\n        boundsPreview={boundsPreview}\n        refPlan2={refPlan2}\n        boundsPlan2={boundsPlan2}\n        refPlan4={refPlan4}\n        boundsPlan4={boundsPlan4}\n      />\n      <SectionEditorsPanel a3={a3} setA3={setA3} activeArea={activeAreaLabel[activeArea]} setShowLayout={setShowLayout} width={boundsPreview.width} color={activeArea ? colors[activeArea][2] : undefined} />\n      <A3Preview\n        a3={a3}\n        setA3={setA3}\n        activeArea={activeArea}\n        setActiveArea={setActiveArea}\n        refPlan2={refPlan2}\n        boundsPlan2={boundsPlan2}\n        refPlan4={refPlan4}\n        boundsPlan4={boundsPlan4}\n        refPreview={refPreview}\n        boundsPreview={boundsPreview}\n        showLayout={showLayout}\n        setShowLayout={setShowLayout}\n        toggleImgSelectorCurrent={() => { imagePickerTarget.current = 'currentState'; setImagePickerOpen(true); }}\n        toggleImgSelectorActionPlan={() => { imagePickerTarget.current = 'actionPlan'; setImagePickerOpen(true); }}\n        editable={true}\n        owner={true}\n      />\n      <div style={{ width: boundsPreview.width, display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: 8 }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n          <button ref={gearRef} onClick={() => setShowLayout(prev => !prev)} aria-expanded={showLayout} aria-label=\"Layout settings\"\n            style={{ ...bottomButtonsStyle, aspectRatio: '1/1', backgroundColor: 'var(--main-highlight)' }}>\n            <FaGear />\n          </button>\n          <LayoutSettingsPanel a3={a3} setA3={setA3} open={showLayout} onClose={() => setShowLayout(false)} anchorRef={gearRef} />\n        </div>\n\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n          <PublishButton a3={a3} setA3={setA3} style={{ ...bottomButtonsStyle, padding: '6px', backgroundColor: 'var(--main)' }} />\n          <button\n            onClick={saveDraft}\n            disabled={saving}\n            style={{ ...bottomButtonsStyle, backgroundColor: 'var(--main-highlight)', padding: '6px' }}\n          >\n            {saving ? 'Savingâ€¦' : 'Save Draft'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\n"],"names":[],"mappings":"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","ignoreList":[1,2,3,4]}